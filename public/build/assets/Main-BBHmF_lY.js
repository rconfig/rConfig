import{o as n,d as k,j as o,r as b,I as we,u as le,p as Ne,A as K,B as H,J as Ue,c as D,au as Oe,z as w,w as s,e as t,f as e,K as Ee,C as E,L as He,M as Te,N as Ze,h as C,t as V,aw as Ae,F as B,G as O,q as ie,a9 as ke,k as q,av as Ge,Q as Ke,R as Qe,a7 as de,b as ne,ay as We,T as W,a as Q,X as se,Y as Se,Z as N,al as J,am as X,an as ee,ao as te,az as Ye,D as A,E as T,aA as Je,aB as G,aC as Xe,aD as ue,aE as et,aF as tt,aG as Pe,aH as Ie,aI as st,aJ as at,aK as lt,aL as nt,aM as ot,aN as rt,aO as it,aP as dt,aQ as ut,a3 as ct,aR as ft,aS as _e,v as mt,ax as pt,aT as re,x as gt,y as vt,U as _t,_ as qe,i as De,ac as ae,aU as ye,m as Ve,a5 as Fe,g as yt,H as Ct,ar as xt,at as ht,aj as bt,ah as $t,ai as wt,aq as kt,W as St}from"./app-CbgTKiUk.js";import{a as Pt,u as It,m as qt,e as Ce,b as xe,c as Dt,_ as Vt}from"./ToggleGroupItem-DEexWHyc.js";import{_ as ce,a as fe,b as me,c as pe,d as ge,e as ve}from"./SelectScrollDownButton-IBZWmk5S.js";import{a as Re,b as U,c as Be,f as Le,g as Me,u as Ft,e as Rt}from"./useRowSelection-fNqBqL4r.js";import{_ as je}from"./CardFooter.vue_vue_type_script_setup_true_lang-BnzMbzF4.js";import{_ as Bt}from"./DeviceMultiSelect-BaB4Sr_P.js";/* empty css               */import"./eventBus-CGRXT3Tn.js";function Lt(i,l){return n(),k("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:"currentColor"})])}function Mt(i,l){return n(),k("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}const jt={class:"flex justify-between"},zt={class:"flex items-center"},Nt={class:"flex items-center"},Ut={class:"grid gap-4 px-6 py-4 overflow-y-auto"},Ot={class:"flex flex-col justify-between"},Et={class:"underline"},Ht=["innerHTML"],Tt={__name:"PeekConfigSearchMatchesDialog",props:{editId:{type:Number,required:!0},record:{type:Object,required:!0},searchString:{type:String,required:!0}},setup(i){b({});const l=we(),c=b({}),u=b(!0),m=b(localStorage.getItem("selectedLanguage")||"language-plaintext"),{closeDialog:r,isDialogOpen:_}=l;le();const{text:y,copy:g,copied:a,isSupported:f}=Ne(),p=i,{matches:v}=p.record,S=["bash","c","cpp","css","html","java","javascript","language-plaintext","php","python","typescript"];K(()=>{window.addEventListener("keydown",P),u.value=!1});const x=I=>{if(!p.searchString)return I;const $=new RegExp(p.searchString,"gi");return I.replace($,Z=>`<span class="highlightMatch">${Z}</span>`).replace(/\n/g,"<br>")};function P(I){I.key==="Escape"&&d()}const h=H(()=>p.record.file);Ue(()=>{window.removeEventListener("keydown",P)});const L=I=>{c.value[I]=!0},j=I=>{c.value[I]=!1};function d(){r("peek-config-search-matches-dialog-"+p.editId)}return(I,$)=>{const z=D("Icon"),Z=D("Button"),R=Oe("highlightjs");return n(),w(e(Qe),{open:e(_)("peek-config-search-matches-dialog-"+i.editId)},{default:s(()=>[t(e(Ee),{"as-child":""},{default:s(()=>[E(I.$slots,"default")]),_:3}),t(e(He),{class:"sm:max-w-[70dvw] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]",onEscapeKeyDown:$[5]||($[5]=F=>e(r)("peek-config-search-matches-dialog-"+i.editId)),onPointerDownOutside:$[6]||($[6]=F=>e(r)("peek-config-search-matches-dialog-"+i.editId)),onCloseClicked:$[7]||($[7]=F=>e(r)("peek-config-search-matches-dialog-"+i.editId))},{default:s(()=>[t(e(Te),{class:"p-6 pb-0"},{default:s(()=>[t(e(Ze),null,{default:s(()=>[C("Configuration Quick Peek (Config ID: "+V(i.editId)+")",1)]),_:1}),t(e(Ae),null,{default:s(()=>[o("div",jt,[o("div",zt,[$[8]||($[8]=o("div",{class:"mr-2"},"Language Options:",-1)),t(e(ce),{modelValue:m.value,"onUpdate:modelValue":$[0]||($[0]=F=>m.value=F)},{default:s(()=>[t(e(fe),{class:"w-[180px]"},{default:s(()=>[t(e(me),{placeholder:"Select a language"})]),_:1}),t(e(pe),null,{default:s(()=>[t(e(ge),null,{default:s(()=>[(n(),k(B,null,O(S,F=>t(e(ve),{value:F,key:F},{default:s(()=>[C(V(F),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",Nt,[C(" Path: "+V(h.value)+" ",1),t(z,{icon:e(a)?"material-symbols:check-circle-outline":e(a)?"material-symbols:content-copy-outline":"material-symbols:content-copy",class:ie([e(a)?"text-green-500":"text-gray-500","ml-2 cursor-pointer hover:text-gray-700"]),onMouseover:$[1]||($[1]=F=>L("fileLocation")),onMouseleave:$[2]||($[2]=F=>j("fileLocation")),onClick:$[3]||($[3]=F=>e(g)(h.value))},null,8,["icon","class"])])])]),_:1})]),_:1}),o("div",Ut,[o("div",Ot,[u.value?(n(),w(ke,{key:0})):q("",!0),Ge((n(),k("pre",null,[$[14]||($[14]=C("        ")),o("code",{class:ie(m.value)},[$[12]||($[12]=C(`
           `)),(n(!0),k(B,null,O(e(v),(F,M)=>(n(),k("div",{key:M,class:"context-block"},[$[9]||($[9]=C(`
`)),o("span",Et,"Matched Line: "+V(F.line_number),1),$[10]||($[10]=C(`
      `)),o("pre",{innerHTML:x(F.context)},null,8,Ht),$[11]||($[11]=C(`
    `))]))),128)),$[13]||($[13]=C(`
        `))],2),$[15]||($[15]=C(`
      `))])),[[R]])])]),t(e(Ke),{class:"p-6 pt-0"},{default:s(()=>[t(Z,{onClick:$[4]||($[4]=F=>d()),variant:"outline"},{default:s(()=>$[16]||($[16]=[C(" Close ")])),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}}};function Zt(i){const l=de("formatters"),c=we(),{openDialog:u,closeDialog:m,isDialogOpen:r}=c,_=ne(),y=b(0),g=b([]),a=b(!1),f=b(1),p=b(1),v=b(5),S=b([]),x=We({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:!0,ignore_case:!0,start_date:"",end_date:""});W(()=>i.filters,I=>{P(I),h()});function P(I){S.value=[],g.value=[],y.value=0,f.value=1,p.value=1,Object.assign(x,I)}const h=async()=>{var I,$;a.value=!0;try{const z=await Q.post("/api/configs/search",{device_name:x.device_name,command:x.command,device_category:x.device_category,search_string:x.search_string,lines_before:x.lines_before,lines_after:x.lines_after,latest_version_only:x.latest_version_only,ignore_case:x.ignore_case,start_date:x.start_date+" 00:00:00",end_date:x.end_date+" 23:59:59",page:p.value,per_page:v.value});z.data.data.length&&(S.value=z.data.data,y.value=z.data.current_page,f.value=z.data.last_page)}catch(z){console.log(z),g.value=(($=(I=z.response)==null?void 0:I.data)==null?void 0:$.errors)||[]}finally{a.value=!1}};function L(I){_.push({name:"configsview",params:{id:parseInt(I)},query:{ref:"configsearch"}})}function j(I){v.value=I,h()}function d(I){console.log(I),p.value=I,h()}return{changePage:d,currentPage:y,errors:g,formatters:l,isDialogOpen:r,isFetching:a,lastPage:f,openDialog:u,perPage:v,results:S,searchModel:x,updatePerpage:j,viewDetailsPane:L}}const At={class:"px-6"},Gt={class:"flex items-center border-b"},Kt={key:0,class:"flex items-center justify-center my-4"},Qt={key:0},Wt={key:1},Yt={key:2,class:"flex items-center justify-center pb-8"},Jt={__name:"ConfigSearchResultsTable",props:{filters:Object},setup(i){const l=i,{changePage:c,currentPage:u,errors:m,formatters:r,isDialogOpen:_,isFetching:y,lastPage:g,openDialog:a,perPage:f,results:p,searchModel:v,updatePerpage:S,viewDetailsPane:x}=Zt(l);return(P,h)=>{const L=D("Icon"),j=D("Button");return n(),k("div",At,[t(e(Le),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(se),null,{default:s(()=>[t(e(U),{class:"w-[5%]"},{default:s(()=>h[2]||(h[2]=[C("ID")])),_:1}),t(e(U),{class:"w-[20%]"},{default:s(()=>h[3]||(h[3]=[C("Device")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>h[4]||(h[4]=[C("Command Group")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>h[5]||(h[5]=[C("Filesize")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>h[6]||(h[6]=[C("Config date")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>h[7]||(h[7]=[C("Matches")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>h[8]||(h[8]=[C("Actions")])),_:1})]),_:1})]),_:1}),t(e(Be),null,{default:s(()=>[e(y)?(n(),w(Se,{key:0})):(n(!0),k(B,{key:1},O(e(p),d=>(n(),w(e(se),{key:d.id},{default:s(()=>[t(e(N),{class:"text-start"},{default:s(()=>[C(V(d.id),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(d.device_name),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(d.device_category),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(e(r).formatFileSize(d.config_filesize)),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(e(r).formatTime(d.config_date)),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:I=>e(a)("peek-config-search-matches-dialog-"+d.id),class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl"},{default:s(()=>[o("span",Gt,[t(L,{icon:"charm:eye",class:"mr-2 text-muted-foreground hover:text-blue-500"}),C(" "+V(d.matches.length?d.matches.length:"No")+" match"+V(d.matches.length>1?"es":""),1)])]),_:2},1032,["onClick"])]),_:2},1024),t(e(te),{class:"text-white bg-rcgray-800"},{default:s(()=>h[9]||(h[9]=[o("p",null,"View Matches",-1)])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(N),{class:"flex items-center"},{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:I=>e(a)("peek-config-dialog-"+d.id)},{default:s(()=>[t(L,{icon:"lets-icons:view-alt-fill",class:"size-6 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(te),{class:"text-white bg-rcgray-800"},{default:s(()=>h[10]||(h[10]=[o("p",null,"Peek Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),t(e(J),null,{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:I=>e(x)(d.id)},{default:s(()=>[t(L,{icon:"hugeicons:file-view",class:"size-5 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(te),{class:"text-white bg-rcgray-800"},{default:s(()=>h[11]||(h[11]=[o("p",null,"Open Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),e(_)("peek-config-search-matches-dialog-"+d.id)?(n(),w(Tt,{key:0,record:d,editId:d.id,searchString:e(v).search_string},null,8,["record","editId","searchString"])):q("",!0),e(_)("peek-config-dialog-"+d.id)?(n(),w(Pt,{key:1,editId:d.id},null,8,["editId"])):q("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!e(y)&&e(p).length===0?(n(),k("div",Kt,[Object.keys(e(m)).length===0?(n(),k("div",Qt,"No results found.")):q("",!0),Object.keys(e(m)).length?(n(),k("div",Wt,[(n(!0),k(B,null,O(e(m),d=>(n(),k("span",{key:d,class:"col-span-3 col-start-2 text-sm text-red-400"},[h[12]||(h[12]=o("br",null,null,-1)),C(" "+V(d[0]),1)]))),128))])):q("",!0)])):q("",!0),!e(y)&&e(p).length>0?(n(),w(Me,{key:1,currentPage:e(u),lastPage:e(g),perPage:e(f),"onUpdate:currentPage":h[0]||(h[0]=d=>e(c)(d)),"onUpdate:perPage":h[1]||(h[1]=d=>e(S)(d))},null,8,["currentPage","lastPage","perPage"])):q("",!0),!e(y)&&e(u)>=e(g)?(n(),k("div",Yt,h[13]||(h[13]=[o("hr",{class:"flex-grow mx-8"},null,-1),o("div",{class:"text-muted-foreground"},"No more results to load.",-1),o("hr",{class:"flex-grow mx-8"},null,-1)]))):q("",!0)])}}},Xt={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},es={__name:"RangeCalendar",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1},modelValue:{type:Object,required:!1},placeholder:{type:null,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(i,{emit:l}){const c=i,u=l,m=H(()=>{const{class:_,...y}=c;return y}),r=Ye(m,u);return(_,y)=>(n(),w(e(Je),A({class:e(T)("p-3",c.class)},e(r)),{default:s(({grid:g,weekDays:a})=>[t(e(rs),null,{default:s(()=>[t(e(us)),t(e(is)),t(e(ds))]),_:1}),o("div",Xt,[(n(!0),k(B,null,O(g,f=>(n(),w(e(as),{key:f.value.toString()},{default:s(()=>[t(e(ns),null,{default:s(()=>[t(e(he),null,{default:s(()=>[(n(!0),k(B,null,O(a,p=>(n(),w(e(os),{key:p},{default:s(()=>[C(V(p),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t(e(ls),null,{default:s(()=>[(n(!0),k(B,null,O(f.rows,(p,v)=>(n(),w(e(he),{key:`weekDate-${v}`,class:"mt-2 w-full"},{default:s(()=>[(n(!0),k(B,null,O(p,S=>(n(),w(e(ts),{key:S.toString(),date:S},{default:s(()=>[t(e(ss),{day:S,month:f.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},ts={__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(Xe),A({class:e(T)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-view])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default")]),_:3},16,["class"]))}},ss={__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(et),A({class:e(T)(e(ue)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default")]),_:3},16,["class"]))}},as={__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(tt),A({class:e(T)("w-full border-collapse space-y-1",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default")]),_:3},16,["class"]))}},ls={__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i;return(c,u)=>(n(),w(e(st),Pe(Ie(l)),{default:s(()=>[E(c.$slots,"default")]),_:3},16))}},ns={__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const l=i;return(c,u)=>(n(),w(e(at),Pe(Ie(l)),{default:s(()=>[E(c.$slots,"default")]),_:3},16))}},he={__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(lt),A({class:e(T)("flex",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default")]),_:3},16,["class"]))}},os={__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(nt),A({class:e(T)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default")]),_:3},16,["class"]))}},rs={__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(ot),A({class:e(T)("relative flex w-full items-center justify-between pt-1",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default")]),_:3},16,["class"]))}},is={__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(rt),A({class:e(T)("text-sm font-medium",l.class)},e(u)),{default:s(({headingValue:_})=>[E(m.$slots,"default",{headingValue:_},()=>[C(V(_),1)])]),_:3},16,["class"]))}},ds={__name:"RangeCalendarNextButton",props:{step:{type:String,required:!1},nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(dt),A({class:e(T)(e(ue)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default",{},()=>[t(e(it),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},us={__name:"RangeCalendarPrevButton",props:{step:{type:String,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const l=i,c=H(()=>{const{class:m,...r}=l;return r}),u=G(c);return(m,r)=>(n(),w(e(ut),A({class:e(T)(e(ue)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},e(u)),{default:s(()=>[E(m.$slots,"default",{},()=>[t(e(Mt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},ze=ct({__name:"ConfigSearchFilterCardDateRangePicker",emits:["dateChange"],setup(i,{emit:l}){const c=l,u=new ft("en-US",{dateStyle:"medium"}),m=new Date().getFullYear(),r=new Date().getMonth()+1,_=new Date().getDate(),y=b({start:new _e(m,r,_).subtract({days:7}),end:new _e(m,r,_)}),g=_t(a=>{c("dateChange",a)},500);return W(y,a=>{g(a)}),K(()=>{c("dateChange",y.value)}),(a,f)=>(n(),w(e(vt),null,{default:s(()=>[t(e(mt),{"as-child":""},{default:s(()=>[t(e(pt),{variant:"outline",class:ie(e(T)("w-[280px] justify-start text-left font-normal",!y.value&&"text-muted-foreground"))},{default:s(()=>[t(e(Lt),{class:"w-4 h-4 mr-2"}),y.value.start?(n(),k(B,{key:0},[y.value.end?(n(),k(B,{key:0},[C(V(e(u).format(y.value.start.toDate(e(re)())))+" - "+V(e(u).format(y.value.end.toDate(e(re)()))),1)],64)):(n(),k(B,{key:1},[C(V(e(u).format(y.value.start.toDate(e(re)()))),1)],64))],64)):(n(),k(B,{key:1},[C("Pick a date")],64))]),_:1},8,["class"])]),_:1}),t(e(gt),{class:"w-auto p-0"},{default:s(()=>[t(e(es),{modelValue:y.value,"onUpdate:modelValue":f[0]||(f[0]=p=>y.value=p),"initial-focus":"","number-of-months":2,"onUpdate:startValue":f[1]||(f[1]=p=>y.value.start=p)},null,8,["modelValue"])]),_:1})]),_:1}))}});function cs(i){const l=b({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:b(!0),ignore_case:b(!0),start_date:"",end_date:""}),c=b(null),u=b([]);K(()=>{m()});function m(){Q.get("/api/configs/distinct-commands/0").then(g=>{u.value=g.data.data}).catch(g=>{createNotification({type:"danger",message:g.response.data.message})})}function r(){l.value.device_name="",l.value.command="",l.value.device_category="",l.value.search_string="",l.value.lines_before=5,l.value.lines_after=5,l.value.latest_version_only=b(!0),l.value.ignore_case=b(!0),l.value.start_date="",l.value.end_date="",i("searchCompleted",l.value)}function _(g){if(g.start&&g.end){const a=`${g.start.year}-${String(g.start.month).padStart(2,"0")}-${String(g.start.day).padStart(2,"0")}`,f=`${g.end.year}-${String(g.end.month).padStart(2,"0")}-${String(g.end.day).padStart(2,"0")}`;l.start_date=a,l.end_date=f}else l.start_date="",l.end_date="";c.value=g}function y(){i("searchCompleted",l.value)}return{clearAll:r,commands:u,model:l,performSearch:y,setDates:_}}const fs={key:0,class:"space-y-2"},ms={key:0,class:"grid gap-3"},ps={class:"grid items-center"},gs={class:"grid items-center"},vs={class:"grid items-center"},_s={class:"grid items-center"},ys={class:"flex items-center mt-4 space-x-4"},Cs={class:"flex items-center mb-4 space-x-4"},xs={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2"},hs={class:"flex flex-col items-start"},bs={class:"flex flex-col items-start"},$s={class:"flex flex-col items-start w-full space-x-2"},ws={__name:"ConfigSearchFilterCard",props:{isLoading:Boolean},emits:["searchCompleted"],setup(i,{emit:l}){const c=l,{clearAll:u,commands:m,model:r,performSearch:_,setDates:y}=cs(c);return(g,a)=>{const f=D("Skeleton"),p=D("Input"),v=D("Label"),S=D("Button");return n(),k("div",null,[t(e(Ve),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(qe),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>a[11]||(a[11]=[o("div",{class:"grid gap-0.5"},null,-1)])),_:1}),t(e(De),{class:"p-4 pt-0 text-sm"},{default:s(()=>[i.isLoading?(n(),k("div",fs,[t(f,{class:"w-1/2 h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"}),t(f,{class:"w-full h-4"})])):q("",!0),t(ae,{name:"fade"},{default:s(()=>[i.isLoading?q("",!0):(n(),k("div",ms,[o("div",ps,[t(e(ce),{modelValue:e(r).command,"onUpdate:modelValue":a[0]||(a[0]=x=>e(r).command=x)},{default:s(()=>[t(e(fe),{class:"w-full"},{default:s(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(pe),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(ge),null,{default:s(()=>[(n(!0),k(B,null,O(e(m),x=>(n(),w(e(ve),{value:x.command},{default:s(()=>[C(V(x.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[12]||(a[12]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[C(" Required "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",gs,[t(p,{modelValue:e(r).search_string,"onUpdate:modelValue":a[1]||(a[1]=x=>e(r).search_string=x),id:"search_string",autocomplete:"off",placeholder:"Search String",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[13]||(a[13]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[C(" Required "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",vs,[t(p,{modelValue:e(r).device_name,"onUpdate:modelValue":a[2]||(a[2]=x=>e(r).device_name=x),id:"device_name",autocomplete:"off",placeholder:"Device Name",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[14]||(a[14]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial device name",-1))]),o("div",_s,[t(p,{modelValue:e(r).device_category,"onUpdate:modelValue":a[3]||(a[3]=x=>e(r).device_category=x),id:"device_category",autocomplete:"off",placeholder:"Command Group",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[15]||(a[15]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial command group name",-1))]),o("div",ys,[t(e(ye),{id:"ignore_case",checked:e(r).ignore_case,"onUpdate:checked":a[4]||(a[4]=x=>e(r).ignore_case=x)},null,8,["checked"]),a[16]||(a[16]=o("label",{for:"ignore_case",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Ignore Case ",-1))]),o("div",Cs,[t(e(ye),{id:"latest_version_only",checked:e(r).latest_version_only,"onUpdate:checked":a[5]||(a[5]=x=>e(r).latest_version_only=x)},null,8,["checked"]),a[17]||(a[17]=o("label",{for:"latest_version_only",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Latest Version Only ",-1))]),o("div",xs,[o("div",hs,[t(p,{type:"number",id:"lines_before",modelValue:e(r).lines_before,"onUpdate:modelValue":a[6]||(a[6]=x=>e(r).lines_before=x)},null,8,["modelValue"]),t(v,{for:"lines_before",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>a[18]||(a[18]=[C(" Lines Before ")])),_:1})]),o("div",bs,[t(p,{type:"number",id:"lines_after",modelValue:e(r).lines_after,"onUpdate:modelValue":a[7]||(a[7]=x=>e(r).lines_after=x)},null,8,["modelValue"]),t(v,{for:"lines_after",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>a[19]||(a[19]=[C(" Lines After ")])),_:1})])]),o("div",$s,[t(ze,{class:"w-full",onDateChange:a[8]||(a[8]=x=>e(y)(x))}),a[20]||(a[20]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(je),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[i.isLoading?q("",!0):(n(),w(S,{key:0,variant:"outline",onClick:a[9]||(a[9]=x=>e(u)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>a[21]||(a[21]=[C(" Clear ")])),_:1})),i.isLoading?q("",!0):(n(),w(S,{key:1,variant:"primary",onClick:a[10]||(a[10]=x=>e(_)()),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>a[22]||(a[22]=[C(" Search ")])),_:1}))]),_:1})]),_:1})])}}},ks={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},Ss={class:"flex justify-between w-full p-2 border-b"},Ps={__name:"ConfigSearch",setup(i){const l=b({}),c=ne(),u=r=>{l.value={...r}},m=()=>{c.go(-1)};return(r,_)=>{const y=D("Icon"),g=D("Button"),a=D("ResizablePanel"),f=D("ResizableHandle"),p=D("ResizablePanelGroup");return n(),k("div",ks,[o("div",Ss,[t(g,{onClick:_[0]||(_[0]=v=>m()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(y,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),_[1]||(_[1]=o("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),_[2]||(_[2]=o("div",{class:"flex justify-end"},null,-1))]),t(p,{direction:"horizontal",class:""},{default:s(()=>[t(a,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref:"panelElement2",class:"h-[86vh]"},{default:s(()=>[_[3]||(_[3]=o("h1",{class:"m-2 text-sm font-semibold"},"Search Options",-1)),t(ws,{onSearchCompleted:u})]),_:1},512),t(f,{"with-handle":""}),t(a,{class:"h-[86vh]"},{default:s(()=>[t(e(Fe),{class:"border border-none rounded-md"},{default:s(()=>[o("div",null,[_[4]||(_[4]=o("h1",{class:"m-2 text-sm font-semibold"},"Results",-1)),t(Jt,{filters:l.value},null,8,["filters"])])]),_:1})]),_:1})]),_:1})])}}};function Is(i){const l=b(null),c=b([]),u=b({selectedCommand:[],device:[],start_date:"",end_date:""});K(()=>{m()});function m(){Q.get("/api/configs/distinct-commands/0").then(g=>{c.value=g.data.data}).catch(g=>{createNotification({type:"danger",message:g.response.data.message})})}function r(){u.value.selectedCommand=[],u.value.device=[],u.value.start_date="",u.value.end_date="",i("updateConfigFilter",u.value)}function _(g){if(g.start&&g.end){const a=`${g.start.year}-${String(g.start.month).padStart(2,"0")}-${String(g.start.day).padStart(2,"0")}`,f=`${g.end.year}-${String(g.end.month).padStart(2,"0")}-${String(g.end.day).padStart(2,"0")}`;u.value.start_date=a,u.value.end_date=f}else u.value.start_date="",u.value.end_date="";l.value=g}function y(){i("updateConfigFilter",u.value)}return{clearAll:r,commands:c,model:u,performFilter:y,setDates:_}}const qs={class:"grid gap-0.5"},Ds={key:0,class:"space-y-2"},Vs={key:0,class:"grid gap-3"},Fs={class:"grid items-center"},Rs={class:"grid items-center"},Bs={class:"flex flex-col items-start w-full space-x-2"},be={__name:"ConfigCompareFilterCard",props:{isLoading:Boolean,comparePosition:String},emits:["updateConfigFilter"],setup(i,{emit:l}){const c=l,u=de("formatters"),{clearAll:m,commands:r,model:_,performFilter:y,setDates:g}=Is(c);return(a,f)=>{const p=D("Skeleton"),v=D("Button");return n(),k("div",null,[t(e(Ve),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(qe),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[o("div",qs,[t(e(yt),{class:"flex items-center gap-2 text-lg group"},{default:s(()=>[C(V(e(u).capitalize(i.comparePosition))+" Device",1)]),_:1})])]),_:1}),t(e(De),{class:"p-4 pt-0 text-sm"},{default:s(()=>[i.isLoading?(n(),k("div",Ds,[t(p,{class:"w-1/2 h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"})])):q("",!0),t(ae,{name:"fade"},{default:s(()=>[i.isLoading?q("",!0):(n(),k("div",Vs,[o("div",Fs,[t(Bt,{singleSelect:!0,modelValue:e(_).device,"onUpdate:modelValue":f[0]||(f[0]=S=>e(_).device=S),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),f[5]||(f[5]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[C(" Select a device for the left side (Required) "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",Rs,[t(e(ce),{modelValue:e(_).selectedCommand,"onUpdate:modelValue":f[1]||(f[1]=S=>e(_).selectedCommand=S)},{default:s(()=>[t(e(fe),{class:"w-full"},{default:s(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(pe),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(ge),null,{default:s(()=>[(n(!0),k(B,null,O(e(r),S=>(n(),w(e(ve),{value:S.command},{default:s(()=>[C(V(S.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),f[6]||(f[6]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Optionally select a command to filter the results",-1))]),o("div",Bs,[t(ze,{class:"w-full",onDateChange:f[2]||(f[2]=S=>e(g)(S))}),f[7]||(f[7]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(je),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[i.isLoading?q("",!0):(n(),w(v,{key:0,variant:"outline",onClick:f[3]||(f[3]=S=>e(m)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>f[8]||(f[8]=[C(" Clear ")])),_:1})),i.isLoading?q("",!0):(n(),w(v,{key:1,variant:"primary",onClick:f[4]||(f[4]=S=>e(y)(i.comparePosition)),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>f[9]||(f[9]=[C(" Filter ")])),_:1}))]),_:1})]),_:1})])}}};function Ls(i,l){const{toastSuccess:c,toastError:u}=le(),m=b(!1),r=b(1),_=b(1),y=b(parseInt(localStorage.getItem("perPage")||"5")),g=b([]);K(()=>{i.filterData.device.length>=1&&a()});function a(){if(m.value=!0,i.filterData.device.length===0){console.error("No device selected.");return}Q.get("/api/configs/all-by-deviceid/"+i.filterData.device[0].id+"/1?filter[q]="+i.filterData.selectedCommand,{params:{perPage:y.value,page:r.value}}).then(f=>{g.value=f.data,_.value=f.data.last_page,m.value=!1}).catch(f=>{console.error("Error fetching commands:",f),u("Error","Failed to fetch commands."),m.value=!1})}return W([r,y],()=>{a()}),W(y,f=>{localStorage.setItem("perPage",f.toString())}),{currentPage:r,isLoading:m,lastPage:_,perPage:y,results:g}}const Ms={class:"w-full"},js={key:0,class:"min-h-[35dvh] flex items-center justify-center"},zs={class:"text-sm text-center"},Ns={class:"text-muted-foreground"},Us={key:1,class:"min-h-[35dvh] flex-1 w-full"},Os={class:"px-6"},Es={key:0,class:"flex items-center mt-4"},Hs={class:"text-sm"},$e={__name:"ConfigCompareFilterConfigResults",props:{filterData:Object,comparePosition:String},emits:["updateSelectedRows"],setup(i,{emit:l}){const c=de("formatters"),u=l,m=i,{currentPage:r,isLoading:_,lastPage:y,perPage:g,results:a}=Ls(m),{selectedRows:f,selectAll:p,toggleSelectAll:v,toggleSingleSelectRow:S}=Ft(a);return W(f,x=>{u("updateSelectedRows",x)}),(x,P)=>{const h=D("Button"),L=D("Checkbox"),j=D("Icon");return n(),k("div",Ms,[i.filterData.device.length===0?(n(),k("div",js,[o("div",zs,[o("span",Ns,V(e(c).capitalize(i.comparePosition))+" selection. No results, yet!",1),P[4]||(P[4]=o("br",null,null,-1)),P[5]||(P[5]=o("span",{class:"text-muted-foreground"},"Add filters to select configurations for comparison",-1))])])):q("",!0),i.filterData.device.length>0?(n(),k("div",Us,[o("div",Os,[t(e(Le),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(se),null,{default:s(()=>[t(e(U),{class:"w-[2%]"}),t(e(U),{class:"w-[5%]"},{default:s(()=>[t(h,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:P[0]||(P[0]=d=>x.toggleSort("id"))},{default:s(()=>P[6]||(P[6]=[o("span",{class:"ml-2"},"ID",-1)])),_:1})]),_:1}),t(e(U),{class:"w-[20%]"},{default:s(()=>[t(h,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:P[1]||(P[1]=d=>x.toggleSort("cred_name"))},{default:s(()=>P[7]||(P[7]=[o("span",{class:"ml-2"},"Name",-1)])),_:1})]),_:1}),t(e(U),{class:"w-[30%]"},{default:s(()=>P[8]||(P[8]=[C("Command")])),_:1}),t(e(U),{class:"w-[30%]"},{default:s(()=>P[9]||(P[9]=[C("Filename")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>P[10]||(P[10]=[C("Created")])),_:1})]),_:1})]),_:1}),t(e(Be),null,{default:s(()=>[e(_)?(n(),w(Se,{key:0})):e(_)?(n(),w(Rt,{key:2})):(n(!0),k(B,{key:1},O(e(a).data,d=>(n(),w(e(se),{onClick:I=>e(S)(d.id),class:"cursor-pointer hover:bg-rcgray-800",key:d.id},{default:s(()=>[t(e(N),{class:"text-start"},{default:s(()=>[t(L,{class:"cursor-pointer",id:"select-"+d.id,checked:!!e(f).includes(d.id),onClick:I=>e(S)(d.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(d.id),1)]),_:2},1024),t(e(N),{class:"text-start"}),t(e(N),{class:"text-start"},{default:s(()=>[C(V(d.command),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(d.config_filename),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[C(V(e(c).formatTime(d.created_at)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(r),lastPage:e(y),perPage:e(g),"onUpdate:currentPage":P[2]||(P[2]=d=>r.value=d),"onUpdate:perPage":P[3]||(P[3]=d=>g.value=d)},null,8,["currentPage","lastPage","perPage"]),e(f).length>0?(n(),k("div",Es,[t(e(Ct),{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(j,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),o("span",Hs,"Config ID "+V(e(f))+" selected for comparison",1)]),_:1})])):q("",!0)])])):q("",!0),P[11]||(P[11]=o("div",{class:"w-full my-4 border-t"},null,-1))])}}},Ts={class:"flex flex-col"},Zs={class:"flex items-center p-2"},As={class:"flex items-center gap-2 ml-auto"},Gs={__name:"CompareDiffEditorComponent",props:{leftSelectedId:Number,rightSelectedId:Number,configResultsLeft:Object,configResultsRight:Object},setup(i){const l=i,c=b([]),{checkDarkModeIsSet:u,checkLineNumbersIsSet:m,checkMiniMapIsSet:r,checkStickyScrollIsSet:_,copied:y,copyItem:g,copyPath:a,darkmode:f,download:p,initDiffEditor:v,lineNumbers:S,meditorValue:x,minimap:P,search:h,toggleEditorDarkMode:L,toggleEditorLineNumbers:j,toggleEditorMinimap:d,toggleStickyScroll:I}=It(qt);K(()=>{$(),z()});function $(){u()&&c.value.push("dark"),m()&&c.value.push("lineNumbers")}function z(){var Z=Ce.createModel(l.configResultsLeft.filecontent,"text/plain"),R=Ce.createModel(l.configResultsRight.filecontent,"text/plain");let F=v("code-editor__code-pre","rconfig");F&&F.setModel({original:Z,modified:R})}return(Z,R)=>{const F=D("Icon"),M=D("Button"),oe=D("Separator");return n(),k(B,null,[o("div",Ts,[o("div",Zs,[R[4]||(R[4]=o("div",{class:"flex items-center gap-2"},null,-1)),o("div",null,[t(M,{variant:"ghost",onClick:e(g),title:"copyItem"},{default:s(()=>[t(F,{icon:"mdi:content-copy"})]),_:1},8,["onClick"]),t(M,{variant:"ghost",class:"ml-1",onClick:R[0]||(R[0]=Y=>e(p)(Z.model.fileName)),title:"download"},{default:s(()=>[t(F,{icon:"mingcute:download-fill"})]),_:1})]),t(oe,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),o("div",As,[t(e(Dt),{modelValue:c.value,"onUpdate:modelValue":R[3]||(R[3]=Y=>c.value=Y),type:"multiple"},{default:s(()=>[t(e(xe),{value:"dark",title:"Toggle bold",onClick:R[1]||(R[1]=Y=>e(L)())},{default:s(()=>[t(F,{icon:"mdi:theme-light-dark",class:"w-4 h-4"})]),_:1}),t(e(xe),{value:"lineNumbers",title:"Line Numbers",onClick:R[2]||(R[2]=Y=>e(j)())},{default:s(()=>[t(F,{icon:"mingcute:numbers-09-sort-ascending-line",class:"w-4 h-4"})]),_:1})]),_:1},8,["modelValue"])]),t(oe,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),R[5]||(R[5]=o("span",null,"CONFIG",-1))]),t(oe,{class:"relative w-full h-px shrink-0 bg-border"})]),R[6]||(R[6]=o("div",{class:"code-editor__code-pre",id:"code-editor__code-pre",style:{height:"calc(80vh)"}},null,-1))],64)}}};function Ks(i){const l=b(!0),c=b([]),u=b([]),m=b(parseInt(i.leftSelectedId[0],10)),r=b(parseInt(i.rightSelectedId[0],10)),{toastSuccess:_,toastError:y}=le();K(()=>{l.value=!0,g(m.value),a(r.value),setTimeout(()=>{l.value=!1},Math.floor(Math.random()*1501)+500)});function g(p){Q.get("/api/configs/"+p).then(async v=>{c.value=v.data,c.value.filecontent=await f(p)}).catch(v=>{console.error("Error fetching commands:",v),y("Error","Failed to fetch commands.")})}function a(p){Q.get("/api/configs/"+p).then(async v=>{u.value=v.data,u.value.filecontent=await f(p)}).catch(v=>{console.error("Error fetching commands:",v),y("Error","Failed to fetch commands.")})}function f(p){return Q.get("/api/configs/view-config/"+p).then(v=>v.data.data.content).catch(v=>{console.error("Error fetching commands:",v),y("Error","Failed to fetch commands.")})}return{isLoadingComponent:l,configResultsLeft:c,configResultsRight:u,getConfigLeft:g,getConfigRight:a,getConfigFileContent:f}}const Qs={key:0,class:"flex items-center justify-center h-full mt-48"},Ws={__name:"ConfigCompareResults",props:{leftSelectedId:Array,rightSelectedId:Array},setup(i){const l=i,{isLoadingComponent:c,configResultsLeft:u,configResultsRight:m,getConfigLeft:r,getConfigRight:_,getConfigFileContent:y}=Ks(l);return(g,a)=>(n(),k(B,null,[e(c)?(n(),k("div",Qs,[t(ke,{text:"Running comparison"})])):q("",!0),e(c)?q("",!0):(n(),w(Gs,{key:1,configResultsRight:e(m),configResultsLeft:e(u),leftSelectedId:i.leftSelectedId,rightSelectedId:i.rightSelectedId},null,8,["configResultsRight","configResultsLeft","leftSelectedId","rightSelectedId"]))],64))}};function Ys(){const i=b({selectedCommand:[],device:[],start_date:"",end_date:""}),l=b({selectedCommand:[],device:[],start_date:"",end_date:""}),c=b(100),u=b(200),m=b(300),r=b(400),_=ne(),{toastSuccess:y,toastError:g}=le(),a=b([]),f=b([]),p=b(!1),v=b(null),S=b(!1),x=(I,$)=>{I==="left"?i.value=$:I==="right"&&(l.value=$),u.value+=1,r.value+=1},P=()=>{if(a.length===0||f.length===0){g("Please select configurations for comparison");return}y("Comparing configurations...","",2e3),p.value=!0},h=()=>{_.go(-1)},L=()=>{a.value=[],i.value={selectedCommand:[],device:[],start_date:"",end_date:""},f.value=[],l.value={selectedCommand:[],device:[],start_date:"",end_date:""},p.value=!1,u.value+=1,c.value+=1,r.value+=1,m.value+=1};function j(){v!=null&&v.value.isCollapsed?v==null||v.value.expand():v==null||v.value.collapse(),S.value=!S.value}function d(){v!=null&&v.value.isCollapsed?v==null||v.value.expand():v==null||v.value.collapse(),S.value=!S.value}return{close:h,closeNav:j,leftConfigData:i,leftConfigFilterKey:c,leftConfigResultsKey:u,leftSelectedId:a,loadComparison:p,navClosed:S,openNav:d,panelElement3:v,reset:L,rightConfigData:l,rightConfigFilterKey:m,rightConfigResultsKey:r,rightSelectedId:f,sendConfigCompare:P,updateConfigFilterData:x}}const Js={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},Xs={class:"flex justify-between w-full p-2 border-b"},ea={class:"flex items-center justify-end"},ta={key:0},sa={class:"text-sm"},aa={class:"flex items-center justify-between p-2 mb-2 border-b"},la={class:"relative flex flex-col items-center"},na={class:"min-h-[35dvh] flex-1 w-full"},oa={class:"min-h-[35dvh] flex-1 w-full"},ra={class:"h-[80dvh]"},ia={class:"flex items-center justify-between p-2 mb-2 border-b"},da={key:0,class:"relative flex flex-col items-center"},ua={key:1},ca={__name:"ConfigCompare",setup(i){const{close:l,closeNav:c,leftConfigData:u,leftConfigFilterKey:m,leftConfigResultsKey:r,leftSelectedId:_,loadComparison:y,navClosed:g,reset:a,openNav:f,panelElement3:p,rightConfigData:v,rightConfigFilterKey:S,rightConfigResultsKey:x,rightSelectedId:P,sendConfigCompare:h,updateConfigFilterData:L}=Ys();return(j,d)=>{const I=D("Icon"),$=D("Button"),z=D("Badge"),Z=D("ResizablePanel"),R=D("ResizableHandle"),F=D("ResizablePanelGroup");return n(),k("div",Js,[o("div",Xs,[t($,{onClick:d[0]||(d[0]=M=>e(l)()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(I,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),d[11]||(d[11]=o("h2",{class:"items-center content-center text-muted-foreground"},"Config Compare",-1)),o("div",ea,[e(_).length>0&&e(P).length>0?(n(),k("div",ta,[t(z,{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(I,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),o("span",sa,"Compare Config ID "+V(e(_))+" with Config ID "+V(e(P)),1)]),_:1})])):q("",!0),e(_)&&e(P)?(n(),w($,{key:1,onClick:d[1]||(d[1]=M=>e(h)(e(_),e(P))),class:"h-8 ml-2 text-white bg-blue-600 hover:bg-blue-700"},{default:s(()=>d[9]||(d[9]=[C(" Compare ")])),_:1})):q("",!0),e(_)&&e(P)?(n(),w($,{key:2,variant:"outline",onClick:d[2]||(d[2]=M=>e(a)()),class:"h-8 ml-2 text-white"},{default:s(()=>d[10]||(d[10]=[C(" Reset ")])),_:1})):q("",!0)])]),t(F,{direction:"horizontal",class:""},{default:s(()=>[t(Z,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement3",ref:p,class:"min-h-[86vh]"},{default:s(()=>[o("div",aa,[d[12]||(d[12]=o("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(xt,{class:"mr-2",onClose:d[3]||(d[3]=M=>e(c)())})]),o("div",la,[o("div",na,[(n(),w(be,{key:e(m),onUpdateConfigFilter:d[4]||(d[4]=M=>e(L)("left",M)),comparePosition:"left"}))]),d[13]||(d[13]=o("div",{class:"w-full my-4 border-t"},null,-1)),o("div",oa,[(n(),w(be,{key:e(S),onUpdateConfigFilter:d[5]||(d[5]=M=>e(L)("right",M)),comparePosition:"right"}))]),d[14]||(d[14]=o("div",{class:"w-full my-4 border-t"},null,-1))])]),_:1},512),t(R,{"with-handle":""}),t(Z,{class:"min-h-[86vh]"},{default:s(()=>[t(e(Fe),{class:"border border-none rounded-md"},{default:s(()=>[o("div",ra,[o("div",ia,[t(ht,{class:"mr-2",onOpenNav:d[6]||(d[6]=M=>e(f)()),navPanelBtnState:e(g)},null,8,["navPanelBtnState"]),d[15]||(d[15]=o("h1",{class:"w-full ml-6 text-sm font-semibold"},"Filter Results",-1))]),e(y)?q("",!0):(n(),k("div",da,[(n(),w($e,{key:e(r),filterData:e(u),onUpdateSelectedRows:d[7]||(d[7]=M=>_.value=M),comparePosition:"left"},null,8,["filterData"])),(n(),w($e,{key:e(x),filterData:e(v),onUpdateSelectedRows:d[8]||(d[8]=M=>P.value=M),comparePosition:"right"},null,8,["filterData"]))])),e(y)?(n(),k("div",ua,[t(Ws,{leftSelectedId:e(_),rightSelectedId:e(P)},null,8,["leftSelectedId","rightSelectedId"])])):q("",!0)])]),_:1})]),_:1})]),_:1})])}}};function fa(){const i=bt(),l=b(localStorage.getItem("inventorySelectedView")||"devices"),c=$t(),u=ne(),m=b(parseInt(c.params.id)||0),r=b(c.query||null),_=b({}),y=[{id:"configs",label:"Configurations",icon:"ConfigToolsIcon",isFavorite:b(!1),route:"/configs"},{id:"configsearch",label:"Config Search",icon:"ConfigSearchIcon",isFavorite:b(!1),route:"/config-search"},{id:"configcompare",label:"Config Compare",icon:"ConfigCompareIcon",isFavorite:b(!1),route:"/config-compare"}];K(()=>{c.params.view?g(c.params.view):c.name==="configs"?g(c.name):c.path.includes("inventory")||g(c.name);const p=c.query;Object.keys(p).length>0&&u.push({name:l.value,query:p}),y.forEach(v=>{v.isFavorite.value=i.isFavorite(v.id)})});function g(p){f(p),localStorage.setItem("inventorySelectedView",p),l.value=p,u.push({name:p})}function a(p){const v=y.find(S=>S.id===p);v&&(v.isFavorite.value=!v.isFavorite.value,i.toggleFavorite(v))}function f(p){const v=document.querySelector(`[data-nav='${p}']`);wt(()=>{if(v){const{offsetLeft:S,offsetWidth:x}=v;_.value={left:`${S}px`,width:`${x}px`}}})}return{bottomBorderStyle:_,configsId:m,statusIdParam:r,changeView:g,currentView:l,favoritesStore:i,route:c,router:u,toggleFavorite:a,viewItems:y}}const ma={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},pa={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},ga={class:"relative"},va=["onClick"],ka={__name:"Main",setup(i){const{configsId:l,statusIdParam:c,changeView:u,currentView:m,bottomBorderStyle:r,toggleFavorite:_,viewItems:y}=fa();return(g,a)=>{const f=D("ConfigToolsIcon"),p=D("Button"),v=D("ConfigSearchIcon"),S=D("ConfigCompareIcon"),x=D("StarUnselected"),P=D("StarSelected");return n(),k("main",ma,[o("div",pa,[o("div",ga,[t(p,{class:"border",onClick:a[0]||(a[0]=h=>e(u)("configs")),"data-nav":"configs",variant:"ghost"},{default:s(()=>[t(f,{class:"mr-2"}),a[3]||(a[3]=C(" Configurations "))]),_:1}),t(p,{class:"ml-2 border",onClick:a[1]||(a[1]=h=>e(u)("configsearch")),"data-nav":"configsearch",variant:"ghost"},{default:s(()=>[t(v,{class:"mr-2"}),a[4]||(a[4]=C(" Search "))]),_:1}),t(p,{class:"ml-2 border",onClick:a[2]||(a[2]=h=>e(u)("configcompare")),"data-nav":"configcompare",variant:"ghost"},{default:s(()=>[t(S,{class:"mr-2"}),a[5]||(a[5]=C(" Compare "))]),_:1}),e(m)?(n(),k("div",{key:0,class:"absolute -bottom-1.5 h-0.5 bg-blue-500",style:kt(e(r))},null,4)):q("",!0)]),t(e(J),null,{default:s(()=>[(n(!0),k(B,null,O(e(y),h=>(n(),w(e(X),{key:h.id},{default:s(()=>[e(m)===h.id?(n(),w(e(ee),{key:0,"as-child":""},{default:s(()=>[o("div",{onClick:St(L=>e(_)(h.id),["stop","prevent"])},[h.isFavorite.value?q("",!0):(n(),w(x,{key:0})),h.isFavorite.value?(n(),w(P,{key:1})):q("",!0)],8,va)]),_:2},1024)):q("",!0),t(e(te),null,{default:s(()=>[o("p",null,V(h.isFavorite.value?"Remove from favorites":"Add "+e(m)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",null,[e(m)==="configs"?(n(),w(Vt,{key:0,configsId:e(l),statusId:e(c).statusId},null,8,["configsId","statusId"])):q("",!0),t(ae,{name:"fade"},{default:s(()=>[e(m)==="configsearch"?(n(),w(Ps,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>a[6]||(a[6]=[o("h1",{class:"text-2xl text-muted-foreground"},"Config Search",-1)])),_:1})):q("",!0)]),_:1}),t(ae,{name:"fade"},{default:s(()=>[e(m)==="configcompare"?(n(),w(ca,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>a[7]||(a[7]=[o("h1",{class:"text-2xl text-muted-foreground"},"Config Compare",-1)])),_:1})):q("",!0)]),_:1})])])}}};export{ka as default};
