import{a as h,u as k}from"./ViewFunctions-DwBLl11m.js";import{P as x}from"./PageHeader-C6NCWsA1.js";import{D as V}from"./DataTable-DybiaaLA.js";import{S as O}from"./SideDrawer-DQBQIuzk.js";import{b as L}from"./DeleteModal-DhRlCK46.js";import{_ as S,f as u,g as M,r as c,o as d,c as w,b as g,a as o,n as P,v as F,t as j,h as b,p as B,F as N,e as y,q as R,l as _,w as C}from"./app-jAvOudJp.js";import{L as T}from"./LoadingSpinner-BUiGzFl7.js";import"./DataTableToolbar-BuDfiQlS.js";import"./DataTableSpinner-D390i41d.js";/* empty css            */const q={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:T},setup(t,{emit:a}){const l=u(!1),e=u(t.viewstate.editid===0?"add":"edit"),{errors:m,model:r,clearModel:i,updateModel:n,getModel:p,storeModel:f,isLoading:v}=h(t.viewstate.modelName,t.viewstate.modelObject);M(()=>{p(t.viewstate.editid)});const s=async()=>{t.viewstate.editid!=0?await n(r):await f(r),m.value===""&&(a("formsubmitted",t.viewstate.pagenamesingle+" "+e.value+"ed!"),D())};function D(){a("closeDrawer")}return{showRoleOptions:l,close:D,errors:m,model:r,saveModels:s,clearModel:i,isLoading:v}}},K={key:0,novalidate:"",class:"pf-c-form"},z=["value"],E={class:"pf-c-form__group"},H={class:"pf-c-form__group-control"},I=["aria-invalid"],U={key:0,class:"pf-c-form__helper-text pf-m-error",id:"form-help-text-address-helper","aria-live":"polite"},A={class:"pf-c-form__group pf-m-action"},G={class:"pf-c-form__group-control"},J={class:"pf-c-form__actions"};function Q(t,a,l,e,m,r){const i=c("loading-spinner");return d(),w(N,null,[g(i,{showSpinner:e.isLoading},null,8,["showSpinner"]),e.isLoading?b("",!0):(d(),w("form",K,[o("input",{id:"editid",name:"editid",type:"hidden",value:l.viewstate.editid},null,8,z),o("div",E,[a[3]||(a[3]=o("div",{class:"pf-c-form__group-label"},[o("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[o("span",{class:"pf-c-form__label-text"},"Vendor Name"),o("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),o("div",H,[P(o("input",{class:"pf-c-form-control",required:"",type:"text",id:"vendorName",name:"vendorname","onUpdate:modelValue":a[0]||(a[0]=n=>e.model.vendorName=n),"aria-invalid":!!e.errors.vendorName,autocomplete:"off"},null,8,I),[[F,e.model.vendorName]]),e.errors.vendorName?(d(),w("p",U,j(e.errors.vendorName[0]),1)):b("",!0)])]),o("div",A,[o("div",G,[o("div",J,[o("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:a[1]||(a[1]=B((...n)=>e.saveModels&&e.saveModels(...n),["prevent"]))},"Save"),o("button",{class:"pf-c-button pf-m-link",type:"button",onClick:a[2]||(a[2]=(...n)=>e.close&&e.close(...n))},"Cancel")])])])]))],64)}const W=S(q,[["render",Q]]),X={components:{VendorsForm:W,PageHeader:x,DataTable:V,SideDrawer:O,DeleteModal:L},setup(){const t=y({editid:0,pagename:"Vendors",pagedesc:"rConfig system vendors",pagenamesingle:"Vendor",modelName:"vendors",openDrawerState:!1,showDeleteModal:!1,sideDrawerComponentKey:1,pageOptionsState:{page:1,per_page:10},modelObject:{vendorName:""}}),{models:a,isLoading:l,dataTablePageChanged:e,openDrawer:m,closeDrawerState:r,deleteRow:i,formSubmitted:n,confirmDelete:p,destroyModel:f}=k(t,t.modelName,t.modelObject);M(()=>{e(t.pageOptionsState)});const v=y({headers:[{key:"id",label:"ID",sortable:!0,error:"Can't be blank",width:10},{key:"vendorName",label:"Vendor Name",sortable:!0}],data:a,isLoading:l});return{viewstate:t,dataTablePageChanged:e,openDrawer:m,closeDrawerState:r,deleteRow:i,confirmDelete:p,table:v,destroyModel:f,formSubmitted:n}}},Y={class:"pf-c-page__main",tabindex:"-1"},Z={class:"pf-c-page__main-section pf-m-no-padding"},$={class:"pf-c-drawer__main"};function ee(t,a,l,e,m,r){const i=c("page-header"),n=c("data-table"),p=c("vendors-form"),f=c("side-drawer"),v=c("delete-modal");return d(),w(N,null,[o("main",Y,[g(i,{pagename:e.viewstate.pagename,desc:e.viewstate.pagedesc},null,8,["pagename","desc"]),a[6]||(a[6]=o("div",{class:"pf-c-divider",role:"separator"},null,-1)),o("section",Z,[o("div",{class:R(["pf-c-drawer",{"pf-m-expanded":e.viewstate.openDrawerState}])},[o("div",$,[g(n,{pagename:e.viewstate.pagenamesingle,tabledata:e.table,onPagechanged:e.dataTablePageChanged,onOpenDrawer:a[0]||(a[0]=s=>e.openDrawer(s)),onDeleteRow:a[1]||(a[1]=s=>e.deleteRow(s))},null,8,["pagename","tabledata","onPagechanged"]),(d(),_(f,{pagename:e.viewstate.pagenamesingle,drawerState:e.viewstate.openDrawerState,editid:e.viewstate.editid,onCloseDrawer:a[3]||(a[3]=s=>e.viewstate.openDrawerState=!1),key:e.viewstate.sideDrawerComponentKey},{subtext:C(()=>a[5]||(a[5]=[o("div",{class:"pf-l-flex__item"},"Please complete all fields",-1)])),form:C(()=>[(d(),_(p,{viewstate:e.viewstate,onCloseDrawer:e.closeDrawerState,onFormsubmitted:a[2]||(a[2]=s=>e.formSubmitted(s)),key:e.viewstate.editid},null,8,["viewstate","onCloseDrawer"]))]),_:1},8,["pagename","drawerState","editid"]))])],2)])]),e.viewstate.showDeleteModal?(d(),_(v,{key:0,editid:e.viewstate.editid,onCloseModal:a[4]||(a[4]=s=>e.viewstate.showDeleteModal=!1),onConfirmDelete:e.confirmDelete},null,8,["editid","onConfirmDelete"])):b("",!0)],64)}const ce=S(X,[["render",ee]]);export{ce as default};
