import{_ as k,i as S,r as p,o as i,c as n,a as s,b as r,w as u,d as w,e as L,f as m,g as $,h as o,j as v,t as h,F as D,k as V,l as g}from"./app-CMvkN1B1.js";import{H as R}from"./HelpContent-Dx8vRmxi.js";import{P as I}from"./PageHeader-DVPVCgk1.js";import{D as P}from"./DeviceViewDeviceDetailsDescr-Dk6snmB_.js";/* empty css            */import"./CopyLogo-BpYBUaPy.js";const E={props:{model:{type:Object,default:()=>({})}},components:{},setup(_,{emit:e}){const c=S("create-notification");function t(){axios.post("/api/device/purge-failed-configs",{device_id:"--all"}).then(d=>{c({type:"success",title:"Purge Successful",message:"Purge failed config files for all devices."})}).catch(d=>{c({type:"danger",title:"Error",message:d.response.data.message})})}return{purgeFailedConfigs:t}}},H={class:"pf-c-card"},N={class:"pf-c-menu"},O={class:"pf-c-menu__content"},M={class:"pf-c-menu__list"},F={class:"pf-c-menu__list-item"},j={class:"pf-c-menu__list-item"},A={class:"pf-c-menu__list-item"},B={class:"pf-c-menu__list-item"};function G(_,e,c,t,d,f){const a=p("router-link");return i(),n("div",null,[s("div",H,[e[5]||(e[5]=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"Common Actions")],-1)),s("div",N,[s("div",O,[s("ul",M,[s("li",F,[r(a,{to:"/devices",class:"pf-c-menu__item",type:"button"},{default:u(()=>e[1]||(e[1]=[s("span",{class:"pf-c-menu__item-main"},[s("span",{class:"pf-c-menu__item-icon"},[s("i",{class:"fas fa-plus-circle"})]),s("span",{class:"pf-c-menu__item-text"},"Create a new device")],-1),s("span",{class:"pf-c-menu__item-description"},"Setup a new devices in rConfig",-1)])),_:1})]),s("li",j,[r(a,{to:"/devices",class:"pf-c-menu__item",type:"button"},{default:u(()=>e[2]||(e[2]=[s("span",{class:"pf-c-menu__item-main"},[s("span",{class:"pf-c-menu__item-icon"},[s("i",{class:"pficon pf-icon-storage-domain"})]),s("span",{class:"pf-c-menu__item-text"},"View Devices")],-1),s("span",{class:"pf-c-menu__item-description pf-u-text-break-word"},"View all devices",-1)])),_:1})]),s("li",A,[r(a,{to:"/config-search",class:"pf-c-menu__item",type:"button"},{default:u(()=>e[3]||(e[3]=[s("span",{class:"pf-c-menu__item-main"},[s("span",{class:"pf-c-menu__item-icon"},[s("i",{class:"fas fa-search"})]),s("span",{class:"pf-c-menu__item-text"},"Search Configs")],-1),s("span",{class:"pf-c-menu__item-description pf-u-text-break-word"},"Search multiple configuration files",-1)])),_:1})]),s("li",B,[s("button",{class:"pf-c-menu__item",onClick:e[0]||(e[0]=l=>t.purgeFailedConfigs())},e[4]||(e[4]=[w('<span class="pf-c-menu__item-main"><span class="pf-c-menu__item-icon"><i class="fas fa-trash"></i></span><span class="pf-c-menu__item-text">Purge Failed Configs</span></span><span class="pf-c-menu__item-description pf-u-text-break-word">Purge all Failed Configs for all devices</span>',2)]))])])])])])])}const Q=k(E,[["render",G]]),T={props:{},setup(_){const e=L({}),c=m(!1),t=m(!1);$(()=>{f()});function d(){console.log("refreshing config details..."),c.value=!0,f()}function f(){t.value=!0,axios.get("/api/dashboard/configinfo").then(a=>{Object.assign(e,a.data.data),c.value=!1,t.value=!1})}return{configinfos:e,refreshData:d,isRefreshing:c,isLoading:t}}},z={class:"pf-c-card"},U={class:"pf-c-card__header"},Y={class:"pf-c-card__actions"},q={class:"pf-c-button__icon"},J={key:0,class:"fas fa-redo","aria-hidden":"true"},K={key:1,class:"pf-c-spinner pf-m-md",role:"progressbar","aria-valuetext":"Loading...",style:{"--pf-c-spinner--Color":"#6a6e72"}},W={class:"pf-c-card__body"},X={class:"pf-l-grid pf-m-all-6-col-on-sm pf-m-all-3-col-on-lg pf-m-gutter"},Z={class:"pf-l-grid__item"},ss={class:"pf-l-flex pf-m-space-items-sm"},es={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},ts={class:"pf-l-flex__item"},is={class:"pf-l-flex__item"},os={key:0,class:"pf-c-skeleton"},ns={key:1},as={class:"pf-l-grid__item"},cs={class:"pf-l-flex pf-m-space-items-sm"},ls={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},ds={class:"pf-l-flex__item"},rs={class:"pf-l-flex__item"},fs={key:0,class:"pf-c-skeleton"},_s={key:1},ps={class:"pf-l-grid__item"},ms={class:"pf-l-flex pf-m-space-items-sm"},us={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},gs={class:"pf-l-flex__item"},vs={class:"pf-l-flex__item pf-m-flex-1"},hs={key:0,class:"pf-c-skeleton"},xs={key:1},ks={class:"pf-l-grid__item"},ys={class:"pf-l-flex pf-m-space-items-sm"},bs={class:"pf-l-flex pf-m-column pf-m-space-items-none pf-m-flex-1"},$s={class:"pf-l-flex__item"},Cs={class:"pf-l-flex__item pf-m-flex-1"},Ls={key:0,class:"pf-c-skeleton"},Ss={key:1};function ws(_,e,c,t,d,f){const a=p("router-link");return i(),n("div",z,[s("div",U,[s("div",Y,[s("button",{class:"pf-c-button pf-m-plain",onClick:e[0]||(e[0]=l=>t.refreshData())},[s("span",q,[t.isRefreshing?o("",!0):(i(),n("i",J)),t.isRefreshing?(i(),n("span",K,e[1]||(e[1]=[s("span",{class:"pf-c-spinner__clipper"},null,-1),s("span",{class:"pf-c-spinner__lead-ball"},null,-1),s("span",{class:"pf-c-spinner__tail-ball"},null,-1)]))):o("",!0)])])]),e[2]||(e[2]=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"Configuration Status")],-1))]),s("div",W,[s("div",X,[s("div",Z,[s("div",ss,[e[4]||(e[4]=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-check-circle pf-u-success-color-100","aria-hidden":"true"})],-1)),s("div",es,[s("div",ts,[r(a,{to:"/devices/status/1"},{default:u(()=>e[3]||(e[3]=[v("Device Count")])),_:1})]),s("div",is,[t.isLoading?(i(),n("div",os)):o("",!0),t.isLoading?o("",!0):(i(),n("span",ns,h(t.configinfos.deviceCount)+" total",1))])])])]),s("div",as,[s("div",cs,[e[6]||(e[6]=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-exclamation-circle pf-u-danger-color-100","aria-hidden":"true"})],-1)),s("div",ls,[s("div",ds,[r(a,{to:"/devices/status/0"},{default:u(()=>e[5]||(e[5]=[v("Devices Down")])),_:1})]),s("div",rs,[t.isLoading?(i(),n("div",fs)):o("",!0),t.isLoading?o("",!0):(i(),n("span",_s,h(t.configinfos.deviceDownCount)+" total",1))])])])]),s("div",ps,[s("div",ms,[e[8]||(e[8]=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-check-circle pf-u-success-color-100","aria-hidden":"true"})],-1)),s("div",us,[s("div",gs,[r(a,{to:"/device/view/configs/0?id=0&status=all"},{default:u(()=>e[7]||(e[7]=[v("Config Files")])),_:1})]),s("div",vs,[t.isLoading?(i(),n("div",hs)):o("",!0),t.isLoading?o("",!0):(i(),n("span",xs,h(t.configinfos.configTotalCount)+" total",1))])])])]),s("div",ks,[s("div",ys,[e[10]||(e[10]=s("div",{class:"pf-l-flex__item"},[s("i",{class:"fas fa-exclamation-circle pf-u-danger-color-100","aria-hidden":"true"})],-1)),s("div",bs,[s("div",$s,[r(a,{to:"/device/view/configs/0?id=0&status=0"},{default:u(()=>e[9]||(e[9]=[v("Failed Configs")])),_:1})]),s("div",Cs,[t.isLoading?(i(),n("div",Ls)):o("",!0),t.isLoading?o("",!0):(i(),n("span",Ss,h(t.configinfos.configDownCount)+" total",1))])])])])])])])}const Ds=k(T,[["render",ws]]),Vs={props:{},setup(_){const e=m(!0),c=m(!1),t=L([]),d=m(0),f=S("create-notification");$(()=>{l()});function a(){console.log("refreshing environment details..."),c.value=!0,l()}function l(){e.value=!0,axios.get("/api/dashboard/health-latest").then(x=>{Object.assign(t,x.data.data);var b=t.filter(y=>y.notificationMessage.toLowerCase().includes("failed")),C=t.filter(y=>y.notificationMessage.toLowerCase().includes("warning"));(b.length>0||C.length>0)&&(d.value=b.length),c.value=!1,e.value=!1}).catch(x=>{f({type:"danger",title:"Error",message:x.response})})}return{failedItems:d,healthChecks:t,isLoading:e,isRefreshing:c,refreshData:a}}},Rs={class:"pf-c-card"},Is={class:"pf-c-card__header"},Ps={class:"pf-c-card__actions"},Es={class:"pf-c-button__icon"},Hs={key:0,class:"fas fa-redo","aria-hidden":"true"},Ns={key:1,class:"pf-c-spinner pf-m-md",role:"progressbar","aria-valuetext":"Loading...",style:{"--pf-c-spinner--Color":"#6a6e72"}},Os={class:"pf-c-card__body"},Ms={key:0,class:"pf-c-skeleton"},Fs={key:1,class:"pf-l-grid pf-m-all-6-col-on-sm pf-m-all-3-col-on-lg pf-m-gutter"},js={class:"pf-l-flex pf-m-space-items-sm"},As={class:"pf-l-flex__item"},Bs={key:0,class:"fas fa-check-circle pf-u-success-color-100"},Gs={key:1,class:"fas fa-exclamation-triangle pf-u-warning-color-100"},Qs={key:2,class:"fas fa-exclamation-circle pf-u-danger-color-100"},Ts={class:"pf-l-flex__item"},zs={class:"pf-l-flex__item pf-u-font-size-sm"},Us={class:"pf-u-color-300"},Ys={key:0},qs={key:0,class:"pf-c-divider"},Js={key:1,class:"pf-c-card__footer",style:{"padding-top":"10px","padding-bottom":"10px"}};function Ks(_,e,c,t,d,f){const a=p("router-link");return i(),n("div",Rs,[s("div",Is,[s("div",Ps,[s("button",{class:"pf-c-button pf-m-plain",onClick:e[0]||(e[0]=l=>t.refreshData())},[s("span",Es,[t.isRefreshing?o("",!0):(i(),n("i",Hs)),t.isRefreshing?(i(),n("span",Ns,e[1]||(e[1]=[s("span",{class:"pf-c-spinner__clipper"},null,-1),s("span",{class:"pf-c-spinner__lead-ball"},null,-1),s("span",{class:"pf-c-spinner__tail-ball"},null,-1)]))):o("",!0)])])]),e[2]||(e[2]=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"Environment Status")],-1))]),s("div",Os,[t.isLoading?(i(),n("div",Ms)):o("",!0),t.isLoading?o("",!0):(i(),n("div",Fs,[(i(!0),n(D,null,V(t.healthChecks,l=>(i(),n("div",{class:"pf-l-grid__item",key:l.name},[s("div",js,[s("div",As,[l.notificationMessage==="ok"?(i(),n("i",Bs)):o("",!0),l.notificationMessage==="warning"?(i(),n("i",Gs)):o("",!0),l.notificationMessage==="failed"?(i(),n("i",Qs)):o("",!0)]),s("div",Ts,[s("span",null,h(l.label),1)]),s("div",zs,[s("span",Us,[v(h(l.status)+" ",1),l.shortSummary!=""?(i(),n("span",Ys," - "+h(l.shortSummary),1)):o("",!0)])])])]))),128))]))]),t.failedItems!=0?(i(),n("hr",qs)):o("",!0),t.failedItems!=0?(i(),n("div",Js,[r(a,{to:"/settings/overview"},{default:u(()=>e[3]||(e[3]=[v("View Help")])),_:1})])):o("",!0)])}const Ws=k(Vs,[["render",Ks]]),Xs={props:{},components:{HelpContent:R},setup(_,{emit:e}){function c(){localStorage.setItem("rconfig.dashboardHelpCardShow",!1),e("removeDashboardHelpCard")}return{removeDashboardHelpCard:c}}},Zs={class:"pf-c-card pf-m-expanded"},se={class:"pf-c-card__header"},ee={class:"pf-c-card__actions"};function te(_,e,c,t,d,f){const a=p("help-content");return i(),n("div",Zs,[s("div",se,[s("div",ee,[s("button",{class:"pf-c-button pf-m-plain",onClick:e[0]||(e[0]=l=>t.removeDashboardHelpCard()),alt:"Click to remove this help card from the dashboard!",title:"Click to remove this help card from the dashboard!",style:{cursor:"help"}},e[1]||(e[1]=[s("span",{class:"pf-c-button__icon"},[s("i",{class:"fas fa-times","aria-hidden":"true"})],-1)]))]),e[2]||(e[2]=s("div",{class:"pf-c-card__title"},"Getting started with V6 Core",-1))]),r(a)])}const ie=k(Xs,[["render",te]]),oe={props:{},components:{DeviceViewDeviceDetailsDescr:P},setup(_){const e=L({}),c=m(!1),t=m(!1);$(()=>{f()});function d(){console.log("refreshing server details..."),c.value=!0,f()}function f(){t.value=!0,axios.get("/api/dashboard/sysinfo").then(a=>{Object.assign(e,a.data),c.value=!1,t.value=!1})}return{sysinfo:e,refreshData:d,isRefreshing:c,isLoading:t}}},ne={class:"pf-c-card"},ae={class:"pf-c-card__header"},ce={class:"pf-c-card__actions"},le={class:"pf-c-button__icon"},de={key:0,class:"fas fa-redo","aria-hidden":"true"},re={key:1,class:"pf-c-spinner pf-m-md",role:"progressbar","aria-valuetext":"Loading...",style:{"--pf-c-spinner--Color":"#6a6e72"}},fe={class:"pf-c-card__body"},_e={class:"pf-c-description-list"},pe={class:"pf-c-description-list__group"},me={key:0,class:"pf-c-skeleton"},ue={class:"pf-c-description-list__group"},ge={key:0,class:"pf-c-skeleton"},ve={class:"pf-c-description-list__group"},he={key:0,class:"pf-c-skeleton"},xe={class:"pf-c-description-list__group"},ke={key:0,class:"pf-c-skeleton"},ye={class:"pf-c-description-list__group"},be={key:0,class:"pf-c-skeleton"},$e={class:"pf-c-description-list__group"},Ce={key:0,class:"pf-c-skeleton"},Le={class:"pf-c-description-list__group"},Se={key:0,class:"pf-c-skeleton"},we={class:"pf-c-card__footer"};function De(_,e,c,t,d,f){const a=p("device-view-device-details-descr"),l=p("router-link");return i(),n("div",ne,[s("div",ae,[s("div",ce,[s("button",{class:"pf-c-button pf-m-plain",onClick:e[0]||(e[0]=x=>t.refreshData())},[s("span",le,[t.isRefreshing?o("",!0):(i(),n("i",de)),t.isRefreshing?(i(),n("span",re,e[1]||(e[1]=[s("span",{class:"pf-c-spinner__clipper"},null,-1),s("span",{class:"pf-c-spinner__lead-ball"},null,-1),s("span",{class:"pf-c-spinner__tail-ball"},null,-1)]))):o("",!0)])])]),e[2]||(e[2]=s("div",{class:"pf-c-card__title"},[s("h2",{class:"pf-c-title pf-m-lg"},"System Details")],-1))]),s("div",fe,[s("dl",_e,[s("div",pe,[e[3]||(e[3]=s("dt",{class:"pf-c-description-list__term"},"OS VERSION",-1)),t.isLoading?(i(),n("div",me)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.OSVersion},null,8,["text"]))]),s("div",ue,[e[4]||(e[4]=s("dt",{class:"pf-c-description-list__term"},"SERVERNAME",-1)),t.isLoading?(i(),n("div",ge)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.ServerName},null,8,["text"]))]),s("div",ve,[e[5]||(e[5]=s("dt",{class:"pf-c-description-list__term"},"LOCAL IP",-1)),t.isLoading?(i(),n("div",he)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.localIp},null,8,["text"]))]),s("div",xe,[e[6]||(e[6]=s("dt",{class:"pf-c-description-list__term"},"PUBLIC IP",-1)),t.isLoading?(i(),n("div",ke)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.PublicIP},null,8,["text"]))]),s("div",ye,[e[7]||(e[7]=s("dt",{class:"pf-c-description-list__term"},"PHP / LARAVEL VERSION",-1)),t.isLoading?(i(),n("div",be)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.PHPVersion},null,8,["text"]))]),s("div",$e,[e[8]||(e[8]=s("dt",{class:"pf-c-description-list__term"},"REDIS VERSION",-1)),t.isLoading?(i(),n("div",Ce)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.RedisVersion},null,8,["text"]))]),s("div",Le,[e[9]||(e[9]=s("dt",{class:"pf-c-description-list__term"},"MYSQL VERSION",-1)),t.isLoading?(i(),n("div",Se)):o("",!0),t.isLoading?o("",!0):(i(),g(a,{key:1,text:t.sysinfo.MySQLVersion},null,8,["text"]))])])]),e[11]||(e[11]=s("hr",{class:"pf-c-divider"},null,-1)),s("div",we,[r(l,{to:"/settings/overview"},{default:u(()=>e[10]||(e[10]=[v("View Settings")])),_:1})])])}const Ve=k(oe,[["render",De]]),Re={components:{CommonActionsMenu:Q,ConfigStatusCard:Ds,EnvStatusCard:Ws,GettingStarted:ie,PageHeader:I,ServerDetails:Ve},setup(){const _=m("Dashboard"),e=m("Overview of rConfig activity and statistics"),c=m(!0);return $(()=>{c.value=localStorage.getItem("rconfig.dashboardHelpCardShow")}),{pagename:_,pagedesc:e,gettingStartedShow:c}}},Ie={class:"pf-c-page__main",tabindex:"-1"},Pe={class:"pf-c-page__main-section pf-m-no-padding"},Ee={class:"pf-c-drawer pf-m-expanded pf-m-inline-on-2xl"},He={class:"pf-c-drawer__main"},Ne={class:"pf-c-drawer__content pf-m-no-background"},Oe={class:"pf-c-drawer__body pf-m-padding"},Me={class:"pf-l-grid pf-m-gutter"},Fe={class:"pf-l-grid__item pf-m-12-col pf-m-3-col-on-md"},je={class:"pf-l-grid__item pf-m-12-col pf-m-6-col-on-md"};function Ae(_,e,c,t,d,f){const a=p("page-header"),l=p("server-details"),x=p("config-status-card"),b=p("env-status-card"),C=p("getting-started"),y=p("common-actions-menu");return i(),n("main",Ie,[r(a,{pagename:t.pagename,desc:t.pagedesc},null,8,["pagename","desc"]),e[1]||(e[1]=s("div",{class:"pf-c-divider",role:"separator"},null,-1)),s("section",Pe,[s("div",Ee,[s("div",He,[s("div",Ne,[s("div",Oe,[s("div",Me,[s("div",Fe,[r(l)]),s("div",je,[r(x),r(b,{class:"pf-u-mt-md"}),t.gettingStartedShow!=="false"?(i(),g(C,{key:0,onRemoveDashboardHelpCard:e[0]||(e[0]=Be=>t.gettingStartedShow="false"),class:"pf-u-mt-md pf-l-grid__item pf-m-all-6-col-on-sm pf-m-all-4-col-on-md pf-m-all-2-col-on-lg pf-m-all-1-col-on-xl"})):o("",!0)]),r(y,{class:"pf-l-grid__item pf-m-12-col pf-m-3-col-on-md"})])])])])])])])}const qe=k(Re,[["render",Ae]]);export{qe as default};
