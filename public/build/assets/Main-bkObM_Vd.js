import{o as r,d as b,j as i,r as w,I as oe,u as he,p as Ce,A as Q,B as F,J as be,c as q,au as $e,z as C,w as a,e as t,f as e,K as we,C as M,L as ke,M as Se,N as qe,h as g,t as V,aF as Pe,F as D,G as z,q as X,a9 as Ve,k as I,av as Ie,Q as Be,R as De,a7 as Me,b as W,ay as Fe,T as re,a as ie,X as ae,Y as Le,Z as T,al as E,am as G,an as A,ao as K,aA as Re,D as j,E as L,aH as ze,aD as O,aI as je,aJ as te,aK as Oe,aL as He,aM as de,aN as ue,aO as Ue,aP as Ne,aQ as Te,aR as Ze,aS as Ee,aT as Ge,aU as Ae,aV as Ke,aW as Qe,a3 as We,aX as Ye,aY as se,v as Je,aG as Xe,aZ as J,x as et,y as tt,U as at,_ as st,i as lt,ac as ee,a_ as le,m as nt,a5 as ce,aj as ot,ah as rt,ai as it,aq as dt,W as ut}from"./app-YSBy-tDu.js";import{a as ct,_ as ft}from"./ConfigsTable-Qrq4Md9M.js";import{_ as fe,a as pe,b as me,c as ge,d as _e,e as ve}from"./SelectScrollDownButton-BjyxQM5g.js";import{a as pt,b as Z,c as mt,f as gt,g as _t}from"./useRowSelection-BquEgmSr.js";import{_ as vt}from"./CardFooter.vue_vue_type_script_setup_true_lang-Dz_-laWC.js";/* empty css               */import"./eventBus-CGRXT3Tn.js";function yt(u,l){return r(),b("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:"currentColor"})])}function xt(u,l){return r(),b("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}const ht={class:"flex justify-between"},Ct={class:"flex items-center"},bt={class:"flex items-center"},$t={class:"grid gap-4 px-6 py-4 overflow-y-auto"},wt={class:"flex flex-col justify-between"},kt={class:"underline"},St=["innerHTML"],qt={__name:"PeekConfigSearchMatchesDialog",props:{editId:{type:Number,required:!0},record:{type:Object,required:!0},searchString:{type:String,required:!0}},setup(u){w({});const l=oe(),d=w({}),c=w(!0),o=w(localStorage.getItem("selectedLanguage")||"language-plaintext"),{closeDialog:n,isDialogOpen:x}=l;he();const{text:_,copy:y,copied:s,isSupported:h}=Ce(),f=u,{matches:S}=f.record,P=["bash","c","cpp","css","html","java","javascript","language-plaintext","php","python","typescript"];Q(()=>{window.addEventListener("keydown",U),c.value=!1});const m=k=>{if(!f.searchString)return k;const v=new RegExp(f.searchString,"gi");return k.replace(v,Y=>`<span class="highlightMatch">${Y}</span>`).replace(/\n/g,"<br>")};function U(k){k.key==="Escape"&&$()}const p=F(()=>f.record.file);be(()=>{window.removeEventListener("keydown",U)});const H=k=>{d.value[k]=!0},N=k=>{d.value[k]=!1};function $(){n("peek-config-search-matches-dialog-"+f.editId)}return(k,v)=>{const R=q("Icon"),Y=q("Button"),ye=$e("highlightjs");return r(),C(e(De),{open:e(x)("peek-config-search-matches-dialog-"+u.editId)},{default:a(()=>[t(e(we),{"as-child":""},{default:a(()=>[M(k.$slots,"default")]),_:3}),t(e(ke),{class:"sm:max-w-[70dvw] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]",onEscapeKeyDown:v[5]||(v[5]=B=>e(n)("peek-config-search-matches-dialog-"+u.editId)),onPointerDownOutside:v[6]||(v[6]=B=>e(n)("peek-config-search-matches-dialog-"+u.editId)),onCloseClicked:v[7]||(v[7]=B=>e(n)("peek-config-search-matches-dialog-"+u.editId))},{default:a(()=>[t(e(Se),{class:"p-6 pb-0"},{default:a(()=>[t(e(qe),null,{default:a(()=>[g("Configuration Quick Peek (Config ID: "+V(u.editId)+")",1)]),_:1}),t(e(Pe),null,{default:a(()=>[i("div",ht,[i("div",Ct,[v[8]||(v[8]=i("div",{class:"mr-2"},"Language Options:",-1)),t(e(fe),{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=B=>o.value=B)},{default:a(()=>[t(e(pe),{class:"w-[180px]"},{default:a(()=>[t(e(me),{placeholder:"Select a language"})]),_:1}),t(e(ge),null,{default:a(()=>[t(e(_e),null,{default:a(()=>[(r(),b(D,null,z(P,B=>t(e(ve),{value:B,key:B},{default:a(()=>[g(V(B),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",bt,[g(" Path: "+V(p.value)+" ",1),t(R,{icon:e(s)?"material-symbols:check-circle-outline":e(s)?"material-symbols:content-copy-outline":"material-symbols:content-copy",class:X([e(s)?"text-green-500":"text-gray-500","ml-2 cursor-pointer hover:text-gray-700"]),onMouseover:v[1]||(v[1]=B=>H("fileLocation")),onMouseleave:v[2]||(v[2]=B=>N("fileLocation")),onClick:v[3]||(v[3]=B=>e(y)(p.value))},null,8,["icon","class"])])])]),_:1})]),_:1}),i("div",$t,[i("div",wt,[c.value?(r(),C(Ve,{key:0})):I("",!0),Ie((r(),b("pre",null,[v[14]||(v[14]=g("        ")),i("code",{class:X(o.value)},[v[12]||(v[12]=g(`
           `)),(r(!0),b(D,null,z(e(S),(B,xe)=>(r(),b("div",{key:xe,class:"context-block"},[v[9]||(v[9]=g(`
`)),i("span",kt,"Matched Line: "+V(B.line_number),1),v[10]||(v[10]=g(`
      `)),i("pre",{innerHTML:m(B.context)},null,8,St),v[11]||(v[11]=g(`
    `))]))),128)),v[13]||(v[13]=g(`
        `))],2),v[15]||(v[15]=g(`
      `))])),[[ye]])])]),t(e(Be),{class:"p-6 pt-0"},{default:a(()=>[t(Y,{onClick:v[4]||(v[4]=B=>$()),variant:"outline"},{default:a(()=>v[16]||(v[16]=[g(" Close ")])),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}}};function Pt(u){const l=Me("formatters"),d=oe(),{openDialog:c,closeDialog:o,isDialogOpen:n}=d,x=W(),_=w(0),y=w([]),s=w(!1),h=w(1),f=w(1),S=w(5),P=w([]),m=Fe({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:!0,ignore_case:!0,start_date:"",end_date:""});re(()=>u.filters,k=>{U(k),p()});function U(k){P.value=[],y.value=[],_.value=0,h.value=1,f.value=1,Object.assign(m,k)}const p=async()=>{var k,v;s.value=!0;try{const R=await ie.post("/api/configs/search",{device_name:m.device_name,command:m.command,device_category:m.device_category,search_string:m.search_string,lines_before:m.lines_before,lines_after:m.lines_after,latest_version_only:m.latest_version_only,ignore_case:m.ignore_case,start_date:m.start_date+" 00:00:00",end_date:m.end_date+" 23:59:59",page:f.value,per_page:S.value});R.data.data.length&&(P.value=R.data.data,_.value=R.data.current_page,h.value=R.data.last_page)}catch(R){console.log(R),y.value=((v=(k=R.response)==null?void 0:k.data)==null?void 0:v.errors)||[]}finally{s.value=!1}};function H(k){x.push({name:"configsview",params:{id:parseInt(k)},query:{ref:"configsearch"}})}function N(k){S.value=k,p()}function $(k){console.log(k),f.value=k,p()}return{changePage:$,currentPage:_,errors:y,formatters:l,isDialogOpen:n,isFetching:s,lastPage:h,openDialog:c,perPage:S,results:P,searchModel:m,updatePerpage:N,viewDetailsPane:H}}const Vt={class:"px-6"},It={class:"flex items-center border-b"},Bt={key:0,class:"flex items-center justify-center my-4"},Dt={key:0},Mt={key:1},Ft={key:2,class:"flex items-center justify-center pb-8"},Lt={__name:"ConfigSearchResultsTable",props:{filters:Object},setup(u){const l=u,{changePage:d,currentPage:c,errors:o,formatters:n,isDialogOpen:x,isFetching:_,lastPage:y,openDialog:s,perPage:h,results:f,searchModel:S,updatePerpage:P,viewDetailsPane:m}=Pt(l);return(U,p)=>{const H=q("Icon"),N=q("Button");return r(),b("div",Vt,[t(e(gt),null,{default:a(()=>[t(e(pt),null,{default:a(()=>[t(e(ae),null,{default:a(()=>[t(e(Z),{class:"w-[5%]"},{default:a(()=>p[2]||(p[2]=[g("ID")])),_:1}),t(e(Z),{class:"w-[20%]"},{default:a(()=>p[3]||(p[3]=[g("Device")])),_:1}),t(e(Z),{class:"w-[10%]"},{default:a(()=>p[4]||(p[4]=[g("Command Group")])),_:1}),t(e(Z),{class:"w-[10%]"},{default:a(()=>p[5]||(p[5]=[g("Filesize")])),_:1}),t(e(Z),{class:"w-[10%]"},{default:a(()=>p[6]||(p[6]=[g("Config date")])),_:1}),t(e(Z),{class:"w-[10%]"},{default:a(()=>p[7]||(p[7]=[g("Matches")])),_:1}),t(e(Z),{class:"w-[10%]"},{default:a(()=>p[8]||(p[8]=[g("Actions")])),_:1})]),_:1})]),_:1}),t(e(mt),null,{default:a(()=>[e(_)?(r(),C(Le,{key:0})):(r(!0),b(D,{key:1},z(e(f),$=>(r(),C(e(ae),{key:$.id},{default:a(()=>[t(e(T),{class:"text-start"},{default:a(()=>[g(V($.id),1)]),_:2},1024),t(e(T),{class:"text-start"},{default:a(()=>[g(V($.device_name),1)]),_:2},1024),t(e(T),{class:"text-start"},{default:a(()=>[g(V($.device_category),1)]),_:2},1024),t(e(T),{class:"text-start"},{default:a(()=>[g(V(e(n).formatFileSize($.config_filesize)),1)]),_:2},1024),t(e(T),{class:"text-start"},{default:a(()=>[g(V(e(n).formatTime($.config_date)),1)]),_:2},1024),t(e(T),{class:"text-start"},{default:a(()=>[t(e(E),null,{default:a(()=>[t(e(G),null,{default:a(()=>[t(e(A),{"as-child":""},{default:a(()=>[t(N,{variant:"ghost",onClick:k=>e(s)("peek-config-search-matches-dialog-"+$.id),class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl"},{default:a(()=>[i("span",It,[t(H,{icon:"charm:eye",class:"mr-2 text-muted-foreground hover:text-blue-500"}),g(" "+V($.matches.length?$.matches.length:"No")+" match"+V($.matches.length>1?"es":""),1)])]),_:2},1032,["onClick"])]),_:2},1024),t(e(K),{class:"text-white bg-rcgray-800"},{default:a(()=>p[9]||(p[9]=[i("p",null,"View Matches",-1)])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(T),{class:"flex items-center"},{default:a(()=>[t(e(E),null,{default:a(()=>[t(e(G),null,{default:a(()=>[t(e(A),{"as-child":""},{default:a(()=>[t(N,{variant:"ghost",onClick:k=>e(s)("peek-config-dialog-"+$.id)},{default:a(()=>[t(H,{icon:"lets-icons:view-alt-fill",class:"size-6 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(K),{class:"text-white bg-rcgray-800"},{default:a(()=>p[10]||(p[10]=[i("p",null,"Peek Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),t(e(E),null,{default:a(()=>[t(e(G),null,{default:a(()=>[t(e(A),{"as-child":""},{default:a(()=>[t(N,{variant:"ghost",onClick:k=>e(m)($.id)},{default:a(()=>[t(H,{icon:"hugeicons:file-view",class:"size-5 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(K),{class:"text-white bg-rcgray-800"},{default:a(()=>p[11]||(p[11]=[i("p",null,"Open Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),e(x)("peek-config-search-matches-dialog-"+$.id)?(r(),C(qt,{key:0,record:$,editId:$.id,searchString:e(S).search_string},null,8,["record","editId","searchString"])):I("",!0),e(x)("peek-config-dialog-"+$.id)?(r(),C(ct,{key:1,editId:$.id},null,8,["editId"])):I("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!e(_)&&e(f).length===0?(r(),b("div",Bt,[Object.keys(e(o)).length===0?(r(),b("div",Dt,"No results found.")):I("",!0),Object.keys(e(o)).length?(r(),b("div",Mt,[(r(!0),b(D,null,z(e(o),$=>(r(),b("span",{key:$,class:"col-span-3 col-start-2 text-sm text-red-400"},[p[12]||(p[12]=i("br",null,null,-1)),g(" "+V($[0]),1)]))),128))])):I("",!0)])):I("",!0),!e(_)&&e(f).length>0?(r(),C(_t,{key:1,currentPage:e(c),lastPage:e(y),perPage:e(h),"onUpdate:currentPage":p[0]||(p[0]=$=>e(d)($)),"onUpdate:perPage":p[1]||(p[1]=$=>e(P)($))},null,8,["currentPage","lastPage","perPage"])):I("",!0),!e(_)&&e(c)>=e(y)?(r(),b("div",Ft,p[13]||(p[13]=[i("hr",{class:"flex-grow mx-8"},null,-1),i("div",{class:"text-muted-foreground"},"No more results to load.",-1),i("hr",{class:"flex-grow mx-8"},null,-1)]))):I("",!0)])}}},Rt={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},zt={__name:"RangeCalendar",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1},modelValue:{type:Object,required:!1},placeholder:{type:null,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(u,{emit:l}){const d=u,c=l,o=F(()=>{const{class:x,..._}=d;return _}),n=Re(o,c);return(x,_)=>(r(),C(e(ze),j({class:e(L)("p-3",d.class)},e(n)),{default:a(({grid:y,weekDays:s})=>[t(e(Zt),null,{default:a(()=>[t(e(At)),t(e(Et)),t(e(Gt))]),_:1}),i("div",Rt,[(r(!0),b(D,null,z(y,h=>(r(),C(e(Ht),{key:h.value.toString()},{default:a(()=>[t(e(Nt),null,{default:a(()=>[t(e(ne),null,{default:a(()=>[(r(!0),b(D,null,z(s,f=>(r(),C(e(Tt),{key:f},{default:a(()=>[g(V(f),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t(e(Ut),null,{default:a(()=>[(r(!0),b(D,null,z(h.rows,(f,S)=>(r(),C(e(ne),{key:`weekDate-${S}`,class:"mt-2 w-full"},{default:a(()=>[(r(!0),b(D,null,z(f,P=>(r(),C(e(jt),{key:P.toString(),date:P},{default:a(()=>[t(e(Ot),{day:P,month:h.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},jt={__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(je),j({class:e(L)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-view])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}},Ot={__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Oe),j({class:e(L)(e(te)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}},Ht={__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(He),j({class:e(L)("w-full border-collapse space-y-1",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}},Ut={__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const l=u;return(d,c)=>(r(),C(e(Ue),de(ue(l)),{default:a(()=>[M(d.$slots,"default")]),_:3},16))}},Nt={__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const l=u;return(d,c)=>(r(),C(e(Ne),de(ue(l)),{default:a(()=>[M(d.$slots,"default")]),_:3},16))}},ne={__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Te),j({class:e(L)("flex",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}},Tt={__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Ze),j({class:e(L)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}},Zt={__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Ee),j({class:e(L)("relative flex w-full items-center justify-between pt-1",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}},Et={__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Ge),j({class:e(L)("text-sm font-medium",l.class)},e(c)),{default:a(({headingValue:x})=>[M(o.$slots,"default",{headingValue:x},()=>[g(V(x),1)])]),_:3},16,["class"]))}},Gt={__name:"RangeCalendarNextButton",props:{step:{type:String,required:!1},nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Ke),j({class:e(L)(e(te)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default",{},()=>[t(e(Ae),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},At={__name:"RangeCalendarPrevButton",props:{step:{type:String,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const l=u,d=F(()=>{const{class:o,...n}=l;return n}),c=O(d);return(o,n)=>(r(),C(e(Qe),j({class:e(L)(e(te)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},e(c)),{default:a(()=>[M(o.$slots,"default",{},()=>[t(e(xt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Kt=We({__name:"ConfigSearchFilterCardDateRangePicker",emits:["dateChange"],setup(u,{emit:l}){const d=l,c=new Ye("en-US",{dateStyle:"medium"}),o=new Date().getFullYear(),n=new Date().getMonth()+1,x=new Date().getDate(),_=w({start:new se(o,n,x).subtract({days:7}),end:new se(o,n,x)}),y=at(s=>{d("dateChange",s)},500);return re(_,s=>{y(s)}),Q(()=>{d("dateChange",_.value)}),(s,h)=>(r(),C(e(tt),null,{default:a(()=>[t(e(Je),{"as-child":""},{default:a(()=>[t(e(Xe),{variant:"outline",class:X(e(L)("w-[280px] justify-start text-left font-normal",!_.value&&"text-muted-foreground"))},{default:a(()=>[t(e(yt),{class:"w-4 h-4 mr-2"}),_.value.start?(r(),b(D,{key:0},[_.value.end?(r(),b(D,{key:0},[g(V(e(c).format(_.value.start.toDate(e(J)())))+" - "+V(e(c).format(_.value.end.toDate(e(J)()))),1)],64)):(r(),b(D,{key:1},[g(V(e(c).format(_.value.start.toDate(e(J)()))),1)],64))],64)):(r(),b(D,{key:1},[g("Pick a date")],64))]),_:1},8,["class"])]),_:1}),t(e(et),{class:"w-auto p-0"},{default:a(()=>[t(e(zt),{modelValue:_.value,"onUpdate:modelValue":h[0]||(h[0]=f=>_.value=f),"initial-focus":"","number-of-months":2,"onUpdate:startValue":h[1]||(h[1]=f=>_.value.start=f)},null,8,["modelValue"])]),_:1})]),_:1}))}});function Qt(u){const l=w({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:w(!0),ignore_case:w(!0),start_date:"",end_date:""}),d=w(null),c=w([]);Q(()=>{o()});function o(){ie.get("/api/configs/distinct-commands/0").then(y=>{c.value=y.data.data}).catch(y=>{createNotification({type:"danger",message:y.response.data.message})})}function n(){l.value.device_name="",l.value.command="",l.value.device_category="",l.value.search_string="",l.value.lines_before=5,l.value.lines_after=5,l.value.latest_version_only=w(!0),l.value.ignore_case=w(!0),l.value.start_date="",l.value.end_date="",u("searchCompleted",l.value)}function x(y){if(y.start&&y.end){const s=`${y.start.year}-${String(y.start.month).padStart(2,"0")}-${String(y.start.day).padStart(2,"0")}`,h=`${y.end.year}-${String(y.end.month).padStart(2,"0")}-${String(y.end.day).padStart(2,"0")}`;l.start_date=s,l.end_date=h}else l.start_date="",l.end_date="";d.value=y}function _(){u("searchCompleted",l.value)}return{clearAll:n,commands:c,model:l,performSearch:_,setDates:x}}const Wt={key:0,class:"space-y-2"},Yt={key:0,class:"grid gap-3"},Jt={class:"grid items-center"},Xt={class:"grid items-center"},ea={class:"grid items-center"},ta={class:"grid items-center"},aa={class:"flex items-center mt-4 space-x-4"},sa={class:"flex items-center mb-4 space-x-4"},la={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2"},na={class:"flex flex-col items-start"},oa={class:"flex flex-col items-start"},ra={class:"flex flex-col items-start w-full space-x-2"},ia={__name:"ConfigSearchFilterCard",props:{isLoading:Boolean},emits:["searchCompleted"],setup(u,{emit:l}){const d=l,{clearAll:c,commands:o,model:n,performSearch:x,setDates:_}=Qt(d);return(y,s)=>{const h=q("Skeleton"),f=q("Input"),S=q("Label"),P=q("Button");return r(),b("div",null,[t(e(nt),{class:"m-2 overflow-hidden"},{default:a(()=>[t(e(st),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:a(()=>s[11]||(s[11]=[i("div",{class:"grid gap-0.5"},null,-1)])),_:1}),t(e(lt),{class:"p-4 pt-0 text-sm"},{default:a(()=>[u.isLoading?(r(),b("div",Wt,[t(h,{class:"w-1/2 h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"}),t(h,{class:"w-full h-4"})])):I("",!0),t(ee,{name:"fade"},{default:a(()=>[u.isLoading?I("",!0):(r(),b("div",Yt,[i("div",Jt,[t(e(fe),{modelValue:e(n).command,"onUpdate:modelValue":s[0]||(s[0]=m=>e(n).command=m)},{default:a(()=>[t(e(pe),{class:"w-full"},{default:a(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(ge),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:a(()=>[t(e(_e),null,{default:a(()=>[(r(!0),b(D,null,z(e(o),m=>(r(),C(e(ve),{value:m.command},{default:a(()=>[g(V(m.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),s[12]||(s[12]=i("p",{class:"ml-1 text-xs text-muted-foreground"},[g(" Required "),i("span",{class:"text-red-400"},"*")],-1))]),i("div",Xt,[t(f,{modelValue:e(n).search_string,"onUpdate:modelValue":s[1]||(s[1]=m=>e(n).search_string=m),id:"search_string",autocomplete:"off",placeholder:"Search String",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),s[13]||(s[13]=i("p",{class:"ml-1 text-xs text-muted-foreground"},[g(" Required "),i("span",{class:"text-red-400"},"*")],-1))]),i("div",ea,[t(f,{modelValue:e(n).device_name,"onUpdate:modelValue":s[2]||(s[2]=m=>e(n).device_name=m),id:"device_name",autocomplete:"off",placeholder:"Device Name",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),s[14]||(s[14]=i("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial device name",-1))]),i("div",ta,[t(f,{modelValue:e(n).device_category,"onUpdate:modelValue":s[3]||(s[3]=m=>e(n).device_category=m),id:"device_category",autocomplete:"off",placeholder:"Command Group",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),s[15]||(s[15]=i("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial command group name",-1))]),i("div",aa,[t(e(le),{id:"ignore_case",checked:e(n).ignore_case,"onUpdate:checked":s[4]||(s[4]=m=>e(n).ignore_case=m)},null,8,["checked"]),s[16]||(s[16]=i("label",{for:"ignore_case",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Ignore Case ",-1))]),i("div",sa,[t(e(le),{id:"latest_version_only",checked:e(n).latest_version_only,"onUpdate:checked":s[5]||(s[5]=m=>e(n).latest_version_only=m)},null,8,["checked"]),s[17]||(s[17]=i("label",{for:"latest_version_only",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Latest Version Only ",-1))]),i("div",la,[i("div",na,[t(f,{type:"number",id:"lines_before",modelValue:e(n).lines_before,"onUpdate:modelValue":s[6]||(s[6]=m=>e(n).lines_before=m)},null,8,["modelValue"]),t(S,{for:"lines_before",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:a(()=>s[18]||(s[18]=[g(" Lines Before ")])),_:1})]),i("div",oa,[t(f,{type:"number",id:"lines_after",modelValue:e(n).lines_after,"onUpdate:modelValue":s[7]||(s[7]=m=>e(n).lines_after=m)},null,8,["modelValue"]),t(S,{for:"lines_after",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:a(()=>s[19]||(s[19]=[g(" Lines After ")])),_:1})])]),i("div",ra,[t(Kt,{class:"w-full",onDateChange:s[8]||(s[8]=m=>e(_)(m))}),s[20]||(s[20]=i("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(vt),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:a(()=>[u.isLoading?I("",!0):(r(),C(P,{key:0,variant:"outline",onClick:s[9]||(s[9]=m=>e(c)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:a(()=>s[21]||(s[21]=[g(" Clear ")])),_:1})),u.isLoading?I("",!0):(r(),C(P,{key:1,variant:"primary",onClick:s[10]||(s[10]=m=>e(x)()),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:a(()=>s[22]||(s[22]=[g(" Search ")])),_:1}))]),_:1})]),_:1})])}}},da={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},ua={class:"flex justify-between w-full p-2 border-b"},ca={class:"h-[90dvh]"},fa={__name:"ConfigSearch",setup(u){const l=w({}),d=W(),c=n=>{l.value={...n}},o=()=>{d.go(-1)};return(n,x)=>{const _=q("Icon"),y=q("Button"),s=q("ResizablePanel"),h=q("ResizableHandle"),f=q("ResizablePanelGroup");return r(),b("div",da,[i("div",ua,[t(y,{onClick:x[0]||(x[0]=S=>o()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:a(()=>[t(_,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),x[1]||(x[1]=i("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),x[2]||(x[2]=i("div",{class:"flex justify-end"},null,-1))]),t(f,{direction:"horizontal",class:""},{default:a(()=>[t(s,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref:"panelElement2",class:"min-h-[100vh]"},{default:a(()=>[x[3]||(x[3]=i("h1",{class:"m-2 text-sm font-semibold"},"Search Options",-1)),t(ia,{onSearchCompleted:c})]),_:1},512),t(h,{"with-handle":""}),t(s,{class:"min-h-[100vh]"},{default:a(()=>[t(e(ce),{class:"border border-none rounded-md"},{default:a(()=>[i("div",ca,[x[4]||(x[4]=i("h1",{class:"m-2 text-sm font-semibold"},"Results",-1)),t(Lt,{filters:l.value},null,8,["filters"])])]),_:1})]),_:1})]),_:1})])}}},pa={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},ma={class:"flex justify-between w-full p-2 border-b"},ga={__name:"ConfigCompare",setup(u){w({});const l=W(),d=()=>{l.go(-1)};return(c,o)=>{const n=q("Icon"),x=q("Button"),_=q("ResizablePanel"),y=q("ResizableHandle"),s=q("ResizablePanelGroup");return r(),b("div",pa,[i("div",ma,[t(x,{onClick:o[0]||(o[0]=h=>d()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:a(()=>[t(n,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),o[1]||(o[1]=i("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),o[2]||(o[2]=i("div",{class:"flex justify-end"},null,-1))]),t(s,{direction:"horizontal",class:""},{default:a(()=>[t(_,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref:"panelElement2",class:"min-h-[100vh]"},{default:a(()=>o[3]||(o[3]=[i("h1",{class:"m-2 text-sm font-semibold"},"Search Options",-1),g(" CONFIG COMPARE LEFT ")])),_:1},512),t(y,{"with-handle":""}),t(_,{class:"min-h-[100vh]"},{default:a(()=>[t(e(ce),{class:"border border-none rounded-md"},{default:a(()=>o[4]||(o[4]=[i("div",{class:"h-[90dvh]"},[i("h1",{class:"m-2 text-sm font-semibold"},"Results"),g(" CONFIG COMPARE RIGHT ")],-1)])),_:1})]),_:1})]),_:1})])}}};function _a(){const u=ot(),l=w(localStorage.getItem("inventorySelectedView")||"devices"),d=rt(),c=W(),o=w(parseInt(d.params.id)||0),n=w(d.query||null),x=w({}),_=[{id:"configs",label:"Configurations",icon:"ConfigToolsIcon",isFavorite:w(!1),route:"/configs"},{id:"configsearch",label:"Config Search",icon:"ConfigSearchIcon",isFavorite:w(!1),route:"/config-search"},{id:"configcompare",label:"Config Compare",icon:"ConfigCompareIcon",isFavorite:w(!1),route:"/config-compare"}];Q(()=>{d.params.view?y(d.params.view):d.name==="configs"?y(d.name):d.path.includes("inventory")||y(d.name);const f=d.query;Object.keys(f).length>0&&c.push({name:l.value,query:f}),_.forEach(S=>{S.isFavorite.value=u.isFavorite(S.id)})});function y(f){h(f),localStorage.setItem("inventorySelectedView",f),l.value=f,c.push({name:f})}function s(f){const S=_.find(P=>P.id===f);S&&(S.isFavorite.value=!S.isFavorite.value,u.toggleFavorite(S))}function h(f){const S=document.querySelector(`[data-nav='${f}']`);it(()=>{if(S){const{offsetLeft:P,offsetWidth:m}=S;x.value={left:`${P}px`,width:`${m}px`}}})}return{bottomBorderStyle:x,configsId:o,statusIdParam:n,changeView:y,currentView:l,favoritesStore:u,route:d,router:c,toggleFavorite:s,viewItems:_}}const va={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},ya={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},xa={class:"relative"},ha=["onClick"],Pa={__name:"Main",setup(u){const{configsId:l,statusIdParam:d,changeView:c,currentView:o,bottomBorderStyle:n,toggleFavorite:x,viewItems:_}=_a();return(y,s)=>{const h=q("ConfigToolsIcon"),f=q("Button"),S=q("ConfigSearchIcon"),P=q("ConfigCompareIcon"),m=q("StarUnselected"),U=q("StarSelected");return r(),b("main",va,[i("div",ya,[i("div",xa,[t(f,{class:"border",onClick:s[0]||(s[0]=p=>e(c)("configs")),"data-nav":"configs",variant:"ghost"},{default:a(()=>[t(h,{class:"mr-2"}),s[3]||(s[3]=g(" Configurations "))]),_:1}),t(f,{class:"ml-2 border",onClick:s[1]||(s[1]=p=>e(c)("configsearch")),"data-nav":"configsearch",variant:"ghost"},{default:a(()=>[t(S,{class:"mr-2"}),s[4]||(s[4]=g(" Search "))]),_:1}),t(f,{class:"ml-2 border",onClick:s[2]||(s[2]=p=>e(c)("configcompare")),"data-nav":"configcompare",variant:"ghost"},{default:a(()=>[t(P,{class:"mr-2"}),s[5]||(s[5]=g(" Compare "))]),_:1}),e(o)?(r(),b("div",{key:0,class:"absolute -bottom-1.5 h-0.5 bg-blue-500",style:dt(e(n))},null,4)):I("",!0)]),t(e(E),null,{default:a(()=>[(r(!0),b(D,null,z(e(_),p=>(r(),C(e(G),{key:p.id},{default:a(()=>[e(o)===p.id?(r(),C(e(A),{key:0,"as-child":""},{default:a(()=>[i("div",{onClick:ut(H=>e(x)(p.id),["stop","prevent"])},[p.isFavorite.value?I("",!0):(r(),C(m,{key:0})),p.isFavorite.value?(r(),C(U,{key:1})):I("",!0)],8,ha)]),_:2},1024)):I("",!0),t(e(K),null,{default:a(()=>[i("p",null,V(p.isFavorite.value?"Remove from favorites":"Add "+e(o)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),i("div",null,[e(o)==="configs"?(r(),C(ft,{key:0,configsId:e(l),statusId:e(d).statusId},null,8,["configsId","statusId"])):I("",!0),t(ee,{name:"fade"},{default:a(()=>[e(o)==="configsearch"?(r(),C(fa,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:a(()=>s[6]||(s[6]=[i("h1",{class:"text-2xl text-muted-foreground"},"Config Search",-1)])),_:1})):I("",!0)]),_:1}),t(ee,{name:"fade"},{default:a(()=>[e(o)==="configcompare"?(r(),C(ga,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:a(()=>s[7]||(s[7]=[i("h1",{class:"text-2xl text-muted-foreground"},"Config Compare",-1)])),_:1})):I("",!0)]),_:1})])])}}};export{Pa as default};
