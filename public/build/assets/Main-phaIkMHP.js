import{v as we,o,q as N,w as l,x as xt,y as kt,e,z as We,A as wt,b as w,d as t,g as c,i as a,t as C,c as h,F as X,B as Q,C as tt,j as M,u as re,r as f,s as ee,a as H,D as ne,E as Ce,G as he,H as De,I as Ie,J as Ke,K as Re,L as Qe,M as Ve,N as Se,O as J,P as Ee,Q as se,R as ae,n as xe,S as ye,T as be,U as lt,V as st,W as Fe,X as at,Y as $t,Z as ot,$ as Oe,a0 as nt,a1 as Ct,a2 as ht,a3 as Dt,a4 as dt,l as It,_ as Vt,f as St,m as Et,h as Nt,a5 as Pt,a6 as Tt,a7 as Ye,a8 as Mt,a9 as At,aa as Ut,ab as Bt,ac as Ft,ad as Lt,ae as jt,af as zt,ag as Ze,ah as Kt,ai as Ot,aj as Gt,ak as qt}from"./app-fY3sLAf_.js";import{u as ue,a as Ne,_ as Pe,b as ie,c as q,d as Te,e as Me,f as R,g as Ae,h as Ue,i as Be,j as $e,k as Rt,l as Ht,m as Wt,n as Yt,o as Xt,p as Jt,q as Qt,r as Zt,s as Le,t as el}from"./useRowSelection-CPnAcT3K.js";import{_ as je}from"./ActionsMenu-DQ6AHg62.js";import{_ as me,a as ve,b as pe}from"./PopoverContent-Bxf65_8n.js";import{_ as it,a as tl,b as ll}from"./TagMultiSelect.vue_vue_type_script_setup_true_lang-BSAJcp7Q.js";import{_ as rt}from"./Spinner-DINfgm7_.js";import{e as ce,_ as ut}from"./eventBus-DszLYHzG.js";import{_ as Ge}from"./DeviceListPopover-DebyXI5V.js";import{_ as sl}from"./DropdownMenuSeparator.vue_vue_type_script_setup_true_lang-CeGGFAy9.js";import{_ as al}from"./ClearFilters.vue_vue_type_script_setup_true_lang-X8wFCmgG.js";import{_ as ol}from"./CardFooter.vue_vue_type_script_setup_true_lang-DTkh_sb0.js";import{u as nl}from"./useTemplatesGithub-hQURjgo0.js";/* empty css               */const dl={__name:"SheetDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(y){const P=y,b=we(()=>{const{class:x,...S}=P;return S});return(x,S)=>(o(),N(e(wt),kt({class:e(We)("text-sm text-muted-foreground",P.class)},b.value),{default:l(()=>[xt(x.$slots,"default")]),_:3},16,["class"]))}},il={class:"space-y-2"},rl={class:"mb-2 text-sm text-muted-foreground"},ul={key:0,class:"text-xs text-muted-foreground"},cl={__name:"CategoryListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(y){return(P,b)=>{const x=w("Button"),S=w("router-link");return o(),N(e(pe),null,{default:l(()=>[t(e(me),{"as-child":""},{default:l(()=>[t(x,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>b[0]||(b[0]=[c(" ... ")])),_:1})]),_:1}),t(e(ve),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[a("div",il,[a("p",rl,"All command groups associated with "+C(y.recordName)+". Showing "+C(y.displayCount)+" records.",1)]),(o(!0),h(X,null,Q(y.items.slice(0,y.displayCount),n=>(o(),N(e(tt),{key:n[y.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(S,{to:n.view_url},{default:l(()=>[c(C(n[y.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),y.displayCount>y.displayCount-1?(o(),h("span",ul,[b[2]||(b[2]=a("br",null,null,-1)),c(" Displaying only "+C(y.displayCount)+" records. Visit the ",1),t(S,{to:"/commandgroups",class:"text-blue-500 hover:underline"},{default:l(()=>b[1]||(b[1]=[c(" Command Groups ")])),_:1}),b[3]||(b[3]=c(" page to view all devices. "))])):M("",!0)]),_:1})]),_:1})}}},ml={key:0,class:"grid gap-2 py-4"},vl={class:"grid items-center grid-cols-4 gap-4"},pl={class:"grid items-center grid-cols-4 gap-4"},fl={class:"grid items-center grid-cols-4 gap-4"},gl={class:"flex flex-col w-full space-y-2"},_l={key:0,class:"text-red-400"},yl={key:1,class:"text-red-400"},bl={key:2,class:"text-red-400"},xl={class:"pl-2 ml-auto"},kl={class:"rc-kdb-class2"},wl={class:"pl-2 ml-auto"},$l={class:"rc-kdb-class2"},Cl={__name:"CommandAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:x,toastInfo:S,toastWarning:n,toastDefault:p}=re(),g=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=g,k=P,u=f([]),r=f(!1),m=f({command:"",description:"",category:[]}),d=y;function T(s){s.ctrlKey&&s.key==="Enter"&&D()}ee(()=>{d.editId>0&&(r.value=!0,H.get(`/api/commands/${d.editId}`).then(s=>{m.value=s.data,m.value.categoryArray=s.data.category.map(v=>v.id)}),r.value=!1),window.addEventListener("keydown",T)}),ne(()=>{window.removeEventListener("keydown",T)});function D(){let s=d.editId>0?`/${d.editId}`:"",v=d.editId>0?"patch":"post";H[v]("/api/commands"+s,m.value).then(I=>{k("save",I.data),b("Command created","The command has been created successfully."),$("DialogNewCommand")}).catch(I=>{u.value=I.response.data.errors})}return(s,v)=>{const I=w("Button"),E=w("Icon");return o(),N(e(Se),{open:e(U)("DialogNewCommand")},{default:l(()=>[t(e(Ce),{"as-child":""}),t(e(he),{class:"sm:max-w-fit",onEscapeKeyDown:v[6]||(v[6]=L=>e($)("DialogNewCommand")),onPointerDownOutside:v[7]||(v[7]=L=>e($)("DialogNewCommand")),onCloseClicked:v[8]||(v[8]=L=>e($)("DialogNewCommand"))},{default:l(()=>[t(e(De),null,{default:l(()=>[t(e(Ie),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Command "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your command here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),t(rt,{state:r.value},null,8,["state"]),r.value?M("",!0):(o(),h("div",ml,[a("div",vl,[t(e(Re),{for:"command",class:"text-right"},{default:l(()=>v[9]||(v[9]=[c(" Command Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(Qe),{modelValue:m.value.command,"onUpdate:modelValue":v[0]||(v[0]=L=>m.value.command=L),id:"command",class:"col-span-3"},null,8,["modelValue"])]),a("div",pl,[t(e(Re),{for:"description",class:"text-right"},{default:l(()=>v[10]||(v[10]=[c(" Description ")])),_:1}),t(e(Qe),{modelValue:m.value.description,"onUpdate:modelValue":v[1]||(v[1]=L=>m.value.description=L),id:"description",class:"col-span-3"},null,8,["modelValue"])]),a("div",fl,[t(e(Re),{for:"description",class:"text-right"},{default:l(()=>v[11]||(v[11]=[c(" Command Groups ")])),_:1}),t(it,{modelValue:m.value.category,"onUpdate:modelValue":v[2]||(v[2]=L=>m.value.category=L)},null,8,["modelValue"])])])),a("div",gl,[u.value.description?(o(),h("span",_l,C(u.value.description[0]),1)):M("",!0),u.value.command?(o(),h("span",yl,C(u.value.command[0]),1)):M("",!0),u.value.category?(o(),h("span",bl,C(u.value.category[0]),1)):M("",!0)]),t(e(Ve),null,{default:l(()=>[t(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:v[3]||(v[3]=L=>e($)("DialogNewCommand")),size:"sm"},{default:l(()=>v[12]||(v[12]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),d.editId===0?(o(),N(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:v[4]||(v[4]=L=>D()),variant:"primary"},{default:l(()=>[v[14]||(v[14]=c(" Save ")),a("div",xl,[a("kbd",kl,[v[13]||(v[13]=c(" Ctrl  ")),t(E,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),d.editId>0?(o(),N(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:v[5]||(v[5]=L=>D()),variant:"primary"},{default:l(()=>[v[16]||(v[16]=c(" Update ")),a("div",wl,[a("kbd",$l,[v[15]||(v[15]=c(" Ctrl  ")),t(E,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function hl(){const y=f(1),P=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),x=f(""),S=f({}),n=ue(),p=f(0),g=f(!1),A=f(1),$=f(1),U=f([]),k=f(!1),{openDialog:u}=n,{toastSuccess:r,toastError:m}=re();async function d(V={}){g.value=!0;try{const B=await H.get("/api/commands",{params:{page:y.value,perPage:P.value,sort:b.value,...S.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching commands:",B),m("Error","Failed to fetch commands.")}finally{g.value=!1}}const T=V=>{p.value=0,$.value=Math.random(),u("DialogNewCommand")};function D(V){p.value=V,$.value=Math.random(),u("DialogNewCommand")}const s=async V=>{try{await H.delete(`/api/commands/${V}`),d(),r("Command Deleted","The command has been deleted successfully."),k.value=!1}catch(B){console.error("Error deleting command:",B),m("Error","Failed to delete command."),k.value=!1}},v=async V=>{try{await H.post("/api/commands/delete-many",{ids:V}),d(),r("Commands Deleted","The commands have been deleted successfully."),k.value=!1,ce.emit("deleteManyCommandsSuccess")}catch(B){console.error("Error deleting commands:",B),m("Error","Failed to delete commands."),k.value=!1}},I=V=>{p.value=V,$.value=Math.random(),u("DialogNewCommand")},E=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewCommand"))}const K=Ee(()=>{S.value["filter[commandname]"]=x.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(x,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{commands:U,isLoading:g,currentPage:y,perPage:P,lastPage:A,editId:p,newCommandModalKey:$,searchTerm:x,openDialog:u,fetchCommands:d,createCommand:T,updateCommand:D,deleteCommand:s,deleteManyCommands:v,handleSave:E,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:k}}const Dl={class:"flex flex-col h-full gap-1 text-center"},Il={class:"flex items-center justify-between p-4"},Vl={class:"flex items-center"},Sl={class:"flex"},El={class:"px-6"},Nl={key:0,class:"mr-2"},Pl={__name:"Main",setup(y){const{editId:P,commands:b,currentPage:x,perPage:S,searchTerm:n,lastPage:p,isLoading:g,fetchCommands:A,viewEditDialog:$,createCommand:U,deleteCommand:k,deleteManyCommands:u,handleSave:r,showConfirmDelete:m,handleKeyDown:d,newCommandModalKey:T,toggleSort:D,sortParam:s}=hl(),{selectedRows:v,selectAll:I,toggleSelectAll:E,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",d),ce.on("deleteManyCommandsSuccess",()=>{v.value=[],I.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",Dl,[a("div",Il,[a("div",Vl,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter commands...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",Sl,[e(v).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>m.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(v).length)+" Command(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New Command "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",El,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(q),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(E)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(D)("id"))},{default:l(()=>[t(Z,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(D)("tagname"))},{default:l(()=>[t(Z,{icon:e(s)==="tagname"?"lucide:sort-asc":e(s)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Command",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>i[16]||(i[16]=[c("Description")])),_:1}),t(e(q),{class:"w-[40%]"},{default:l(()=>i[17]||(i[17]=[c("Command Groups")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>i[18]||(i[18]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(g)?(o(),N(Me,{key:0})):e(g)?(o(),N(Ae,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(R),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(v).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.command),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.description),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.category.slice(0,8),(Y,fe)=>(o(),h("span",{key:Y.categoryName,class:"mr-2"},[t(j,{variant:"outline",class:xe([Y.badgeColor?Y.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","py-1 mt-1 hover:bg-rcgray-800"])},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.categoryName),1)]),_:2},1032,["to"])]),_:2},1032,["class"])]))),128)),_.category.length>8?(o(),h("span",Nl,[t(cl,{recordName:_.command,items:_.category,displayField:"categoryName"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(k)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(x),lastPage:e(p),perPage:e(S),"onUpdate:currentPage":i[7]||(i[7]=_=>x.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>S.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(Cl,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(T),editId:e(P)},null,8,["editId"])),t($e,{ids:e(v),showConfirmDelete:e(m),onClose:i[10]||(i[10]=_=>m.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(v)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Tl={class:"py-1"},Ml={class:"grid grid-cols-3 gap-2 mt-4 place-items-center"},Al=["onClick"],Ul=ye({__name:"BadgeColorSelector",emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f({}),S=[{label:"Lime",bgClass:"bg-lime-400 text-lime-900 border-lime-300"},{label:"Yellow",bgClass:"bg-yellow-400 text-yellow-900 border-yellow-300"},{label:"Teal",bgClass:"bg-teal-400 text-teal-900 border-teal-300"},{label:"Sky",bgClass:"bg-sky-400 text-sky-900 border-sky-300"},{label:"Pink",bgClass:"bg-pink-400 text-pink-900 border-pink-300"},{label:"Emerald",bgClass:"bg-emerald-400 text-emerald-900 border-emerald-300"},{label:"Orange",bgClass:"bg-orange-400 text-orange-900 border-orange-300"},{label:"Amber",bgClass:"bg-amber-400 text-amber-900 border-amber-300"},{label:"Fuchsia",bgClass:"bg-fuchsia-400 text-fuchsia-900 border-fuchsia-300"},{label:"Rose",bgClass:"bg-rose-400 text-rose-900 border-rose-300"},{label:"Violet",bgClass:"bg-violet-500 text-violet-100 border-violet-600"},{label:"Indigo",bgClass:"bg-indigo-500 text-indigo-100 border-indigo-600"},{label:"Blue",bgClass:"bg-blue-500 text-blue-100 border-blue-600"},{label:"Green",bgClass:"bg-green-500 text-green-100 border-green-600"},{label:"Purple",bgClass:"bg-purple-500 text-purple-100 border-purple-600"},{label:"Stone",bgClass:"bg-stone-600 text-stone-200 border-stone-700"},{label:"Red",bgClass:"bg-red-600 text-red-100 border-red-700"},{label:"Fuchsia Dark",bgClass:"bg-fuchsia-700 text-fuchsia-200 border-fuchsia-800"},{label:"Violet Dark",bgClass:"bg-violet-700 text-violet-200 border-violet-800"},{label:"Teal Dark",bgClass:"bg-teal-700 text-teal-200 border-teal-800"}];function n(p){x.value=p,b("update:modelValue",p.bgClass)}return(p,g)=>{const A=w("Button"),$=w("Separator");return o(),N(e(pe),null,{default:l(()=>[g[0]||(g[0]=a("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),t(e(me),{class:"col-span-3"},{default:l(()=>[t(A,{variant:"ghost",class:"flex flex-wrap items-start justify-start w-full p-1 pl-2 whitespace-normal border h-fit"},{default:l(()=>[a("div",{class:xe(["h-6 px-2 border-2 border-transparent rounded-full cursor-pointer w-fit",Object.keys(x.value).length===0?"bg-gray-600 text-gray-200 border-gray-500":x.value.bgClass])},C(Object.keys(x.value).length===0?"Select color":x.value.label),3)]),_:1})]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[t($),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Tl,[a("div",Ml,[(o(),h(X,null,Q(S,(U,k)=>a("div",{key:k,class:xe(["cursor-pointer w-6 h-6 rounded-full border-2",U.bgClass,x.value.value===k?"ring-2 ring-offset-2 ring-black":"border-transparent"]),onClick:u=>n(U)},null,10,Al)),64))])])]),_:1})]),_:1})]),_:1})}}}),Bl={class:"grid gap-2 py-4"},Fl={class:"grid items-center grid-cols-4 gap-4"},Ll={class:"grid items-center grid-cols-4 gap-4"},jl={class:"grid items-center grid-cols-4 gap-4"},zl={class:"flex flex-col w-full space-y-2"},Kl={key:0,class:"text-red-400"},Ol={key:1,class:"text-red-400"},Gl={class:"pl-2 ml-auto"},ql={class:"rc-kdb-class2"},Rl={class:"pl-2 ml-auto"},Hl={class:"rc-kdb-class2"},Wl={__name:"CommandGroupAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:x,toastInfo:S,toastWarning:n,toastDefault:p}=re(),g=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=g,k=P;f([]);const u=f([]),r=f({categoryName:"",categoryDescription:"",badgeColor:{}}),m=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{m.editId>0&&H.get(`/api/categories/${m.editId}`).then(D=>{r.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=m.editId>0?`/${m.editId}`:"",s=m.editId>0?"patch":"post";H[s]("/api/categories"+D,r.value).then(v=>{k("save",v.data),b("Command Group created","The tag has been created successfully."),$("DialogNewCommandGroups")}).catch(v=>{u.value=v.response.data.errors})}return(D,s)=>{const v=w("Label"),I=w("Input"),E=w("Button"),L=w("Icon");return o(),N(e(Se),{open:e(U)("DialogNewCommandGroups")},{default:l(()=>[t(e(Ce),{"as-child":""}),t(e(he),{class:"sm:max-w-fit",onEscapeKeyDown:s[6]||(s[6]=K=>e($)("DialogNewCommandGroups")),onPointerDownOutside:s[7]||(s[7]=K=>e($)("DialogNewCommandGroups")),onCloseClicked:s[8]||(s[8]=K=>e($)("DialogNewCommandGroups"))},{default:l(()=>[t(e(De),null,{default:l(()=>[t(e(Ie),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Command Group "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your command group here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",Bl,[a("div",Fl,[t(v,{for:"categoryName",class:"text-right"},{default:l(()=>s[9]||(s[9]=[c(" Name ")])),_:1}),t(I,{modelValue:r.value.categoryName,"onUpdate:modelValue":s[0]||(s[0]=K=>r.value.categoryName=K),id:"categoryName",class:"col-span-3"},null,8,["modelValue"])]),a("div",Ll,[t(v,{for:"categoryDescription",class:"text-right"},{default:l(()=>s[10]||(s[10]=[c(" Description ")])),_:1}),t(I,{modelValue:r.value.categoryDescription,"onUpdate:modelValue":s[1]||(s[1]=K=>r.value.categoryDescription=K),id:"categoryDescription",class:"col-span-3"},null,8,["modelValue"])]),a("div",jl,[t(v,{for:"categoryDescription",class:"text-right"},{default:l(()=>s[11]||(s[11]=[c(" Color ")])),_:1}),t(Ul,{modelValue:r.value.badgeColor,"onUpdate:modelValue":s[2]||(s[2]=K=>r.value.badgeColor=K)},null,8,["modelValue"])])]),a("div",zl,[u.value.categoryDescription?(o(),h("span",Kl,C(u.value.categoryDescription[0]),1)):M("",!0),u.value.categoryName?(o(),h("span",Ol,C(u.value.categoryName[0]),1)):M("",!0)]),t(e(Ve),null,{default:l(()=>[t(E,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[3]||(s[3]=K=>e($)("DialogNewCommandGroups")),size:"sm"},{default:l(()=>s[12]||(s[12]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),m.editId===0?(o(),N(E,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=K=>T()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=c(" Save ")),a("div",Gl,[a("kbd",ql,[s[13]||(s[13]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),m.editId>0?(o(),N(E,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[5]||(s[5]=K=>T()),variant:"primary"},{default:l(()=>[s[16]||(s[16]=c(" Update ")),a("div",Rl,[a("kbd",Hl,[s[15]||(s[15]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Yl(){const y=f(1),P=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),x=f(""),S=f({}),n=ue(),p=f(0),g=f(!1),A=f(1),$=f(1),U=f([]),k=f(!1),{openDialog:u}=n,{toastSuccess:r,toastError:m}=re();async function d(V={}){g.value=!0;try{const B=await H.get("/api/categories",{params:{page:y.value,perPage:P.value,sort:b.value,...S.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching categories:",B),m("Error","Failed to fetch categories.")}finally{g.value=!1}}const T=V=>{p.value=0,$.value=Math.random(),u("DialogNewCommandGroups")};function D(V){p.value=V,$.value=Math.random(),u("DialogNewCommandGroups")}const s=async V=>{try{await H.delete(`/api/categories/${V}`),d(),r("CommandGroups Deleted","The Command Group has been deleted successfully.")}catch(B){console.error("Error deleting Command Group:",B),m("Error","Failed to delete Command Group.")}},v=async V=>{try{await H.post("/api/categories/delete-many",{ids:V}),d(),r("CommandGroups Deleted","The command groups have been deleted successfully."),k.value=!1,ce.emit("deleteManyCommandGroupsSuccess")}catch(B){console.error("Error deleting command groups:",B),m("Error","Failed to delete command groups."),k.value=!1}},I=V=>{p.value=V,$.value=Math.random(),u("DialogNewCommandGroups")},E=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewCommandGroups"))}const K=Ee(()=>{S.value["filter[categoryName]"]=x.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(x,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{categories:U,isLoading:g,currentPage:y,perPage:P,lastPage:A,editId:p,newCommandGroupsModalKey:$,searchTerm:x,openDialog:u,fetchCommandGroups:d,createCommandGroup:T,updateCommandGroup:D,deleteCommandGroup:s,deleteManyCommandGroups:v,handleSave:E,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:k}}const Xl={class:"flex flex-col h-full gap-1 text-center"},Jl={class:"flex items-center justify-between p-4"},Ql={class:"flex items-center"},Zl={class:"flex"},es={class:"px-6"},ts={key:0,class:"mr-2"},ls={__name:"Main",setup(y){const{editId:P,categories:b,currentPage:x,perPage:S,searchTerm:n,lastPage:p,isLoading:g,fetchCommandGroups:A,viewEditDialog:$,createCommandGroup:U,deleteCommandGroup:k,deleteManyCommandGroups:u,handleSave:r,showConfirmDelete:m,handleKeyDown:d,newCommandGroupModalKey:T,toggleSort:D,sortParam:s}=Yl(),{selectedRows:v,selectAll:I,toggleSelectAll:E,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",d),ce.on("deleteManyCommandGroupsSuccess",()=>{v.value=[],I.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",Xl,[a("div",Jl,[a("div",Ql,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter categories...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",Zl,[e(v).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>m.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(v).length)+" CommandGroup(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New CommandGroup "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",es,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(q),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(E)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(D)("id"))},{default:l(()=>[t(Z,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(D)("categoryName"))},{default:l(()=>[t(Z,{icon:e(s)==="categoryName"?"lucide:sort-asc":e(s)==="-categoryName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>i[16]||(i[16]=[c("Description")])),_:1}),t(e(q),{class:"w-[40%]"},{default:l(()=>i[17]||(i[17]=[c("Devices")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>i[18]||(i[18]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(g)?(o(),N(Me,{key:0})):e(g)?(o(),N(Ae,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(R),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(v).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.categoryName),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.categoryDescription),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.device.slice(0,8),(Y,fe)=>(o(),h("span",{key:Y.device_name,class:"mr-2"},[t(j,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",ts,[t(Ge,{recordName:_.categoryName,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(k)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(x),lastPage:e(p),perPage:e(S),"onUpdate:currentPage":i[7]||(i[7]=_=>x.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>S.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(Wl,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(T),editId:e(P)},null,8,["editId"])),t($e,{ids:e(v),showConfirmDelete:e(m),onClose:i[10]||(i[10]=_=>m.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(v)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},ss={__name:"ConfirmDisableAlert",props:{ids:{type:Array,required:!0},showConfirmDisable:{type:Boolean,required:!0}},emits:["handleDisable","close"],setup(y,{emit:P}){const b=P;ee(()=>{window.addEventListener("keydown",n=>{n.key==="Escape"&&S()})}),ne(()=>{window.removeEventListener("keydown",n=>{n.key==="Escape"&&S()})});function x(){b("handleDisable")}function S(){b("close")}return(n,p)=>(o(),N(e(Zt),{open:y.showConfirmDisable},{default:l(()=>[t(e(Rt),null,{default:l(()=>[t(e(Ht),null,{default:l(()=>[t(e(Wt),null,{default:l(()=>[c("Disable device with ID "+C(y.ids)+"?",1)]),_:1}),t(e(Yt),null,{default:l(()=>p[2]||(p[2]=[c("Are you absolutely sure you want to disable this device? Disabling a device stops it from downloading configs via scheduled tasks and other operations.")])),_:1})]),_:1}),t(e(Xt),null,{default:l(()=>[t(e(Jt),{onCancel:p[0]||(p[0]=g=>S())},{default:l(()=>p[3]||(p[3]=[c("Cancel")])),_:1}),t(e(Qt),{onAction:p[1]||(p[1]=g=>x())},{default:l(()=>p[4]||(p[4]=[c("Continue")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}},as={__name:"ActionsMenuDevices",props:{rowData:{type:Object,required:!0},showEditBtn:{type:Boolean,default:!0}},emits:["onEdit","onDelete","onDisable"],setup(y,{emit:P}){const b=f(!1),x=f(!1),S=P;function n(){S("onEdit")}function p(){b.value=!0}function g(){x.value=!0}function A(){S("onDisable"),x.value=!1}function $(){S("onEnable")}return(U,k)=>{const u=w("Button"),r=w("Icon");return o(),h("div",null,[t(e(at),null,{default:l(()=>[t(e(lt),{"as-child":""},{default:l(()=>[t(u,{variant:"ghost",class:"hover:animate-pulse"},{default:l(()=>k[2]||(k[2]=[c(" ... ")])),_:1})]),_:1}),t(e(st),{class:"w-56",align:"end",side:"bottom"},{default:l(()=>[y.showEditBtn?(o(),N(e(Fe),{key:0,class:"cursor-pointer hover:bg-rcgray-800",onClick:n},{default:l(()=>[k[3]||(k[3]=a("span",null,"Edit",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"fluent-color:text-edit-style-16"})]),_:1})]),_:1})):M("",!0),y.showEditBtn?(o(),N(e(sl),{key:1})):M("",!0),y.rowData.status===100?(o(),N(e(Fe),{key:2,class:"cursor-pointer hover:bg-rcgray-800",onClick:$},{default:l(()=>[k[4]||(k[4]=a("span",null,"Enable",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"emojione-v1:up-arrow"})]),_:1})]),_:1})):M("",!0),y.rowData.status!=100?(o(),N(e(Fe),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:g},{default:l(()=>[k[5]||(k[5]=a("span",null,"Disable",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"emojione-v1:down-arrow"})]),_:1})]),_:1})):M("",!0),t(e(Fe),{class:"cursor-pointer hover:bg-rcgray-800",onClick:p},{default:l(()=>[k[6]||(k[6]=a("span",{class:"text-red-400"},"Delete",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"flat-color-icons:full-trash"})]),_:1})]),_:1})]),_:1})]),_:1}),t(ss,{ids:[y.rowData.id],showConfirmDisable:x.value,onClose:k[0]||(k[0]=m=>x.value=!1),onHandleDisable:A},null,8,["ids","showConfirmDisable"]),t($e,{ids:[y.rowData.id],showConfirmDelete:b.value,onClose:k[1]||(k[1]=m=>b.value=!1),onHandleDelete:A},null,8,["ids","showConfirmDelete"])])}}},os={key:0,class:"text-sm font-light"},ns={class:"text-sm font-semibold"},ds={class:"relative items-center w-full"},is={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},rs={class:"py-1"},us=["onClick"],cs=["checked"],ms={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},vs={"data-size":"20"},ps={class:"p-1 border-5"},fs=ye({__name:"CategoryFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([]),S=f(!1),n=f([]),p=f(""),g=f(!1),A=y;ee(()=>{U()}),J(()=>A.modelValue,u=>{n.value=u,g.value=n.value.length===x.value.length});function $(u){if(u.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...x.value],g.value=!0);else{const r=n.value.findIndex(m=>m.id===u.id);r!==-1?(n.value.splice(r,1),g.value=!1):(n.value.push(u),n.value.length===x.value.length&&(g.value=!0))}S.value=!1,b("update:modelValue",n.value)}function U(){H.get("/api/categories/?perPage=10000").then(u=>{x.value=u.data.data})}const k=we(()=>x.value.filter(u=>u.categoryName.toLowerCase().includes(p.value.toLowerCase())));return(u,r)=>{const m=w("Button"),d=w("Input"),T=w("Icon"),D=w("Separator");return o(),N(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(m,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t($t,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Command Group")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",os,[r[2]||(r[2]=c(" Command Group ")),a("strong",ns,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",ds,[t(d,{id:"search",type:"text",modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=s=>p.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",is,[t(T,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",rs,[(o(!0),h(X,null,Q(k.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:v=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(v=>v.id===s.id),class:"mr-2"},null,8,cs),a("span",ms,[a("span",vs,C(s.categoryName),1)])],8,us))),128))])]),_:1}),t(D),a("div",ps,[t(m,{variant:"ghost",class:"justify-start w-full p-1",onClick:r[1]||(r[1]=s=>$({id:9999999}))},{default:l(()=>[t(T,{icon:g.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(g.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}});function gs(y){const P=ot(),{openSheet:b,closeSheet:x,isSheetOpen:S}=P,n=f([]),p=f(!1),g=f(!1),A=Oe(),$=nt("formatters");ee(()=>{S("DeviceCommentSheet")&&U()});function U(){p.value=!0,H.get(`/api/device-comments/${y.deviceId}`).then(m=>{n.value=m.data,p.value=!1}).catch(m=>{console.error(m),p.value=!1})}function k(m){x("DeviceCommentSheet"),A.push({name:"device",params:{id:m}})}function u(){g.value||(n.value.unshift({user:{name:"New User"},created_at:new Date().toISOString(),comment:"",is_open:!0,isEditable:!0}),g.value=!0)}function r(m){n.value[m].isEditable=!1,H.post("/api/device/comments",{comment:n.value[m].comment,device_id:y.deviceId}).then(d=>{}).catch(d=>{console.error(d)})}return{addComment:u,closeSheet:x,comments:n,formatters:$,isLoading:p,isSheetOpen:S,saveComment:r,viewDevice:k}}const _s={class:"border-b"},ys={key:0},bs={class:"mt-4 space-y-4"},xs={class:"text-sm text-muted-foreground"},ks={key:1},ws={__name:"CommentSheet",props:{deviceId:{type:Number,required:!0},deviceName:{type:String,required:!0}},setup(y){const P=y,{addComment:b,closeSheet:x,comments:S,formatters:n,isLoading:p,isSheetOpen:g,saveComment:A,viewDevice:$}=gs(P);return(U,k)=>{const u=w("Button"),r=w("CommentAddIcon"),m=w("Textarea"),d=w("Icon");return o(),N(e(Tt),{open:e(g)("DeviceCommentSheet")},{default:l(()=>[t(e(Ct),{class:"h-[96vh] m-6 rounded-lg border",onEscapeKeyDown:k[1]||(k[1]=T=>e(x)("DeviceCommentSheet")),onPointerDownOutside:k[2]||(k[2]=T=>e(x)("DeviceCommentSheet")),onCloseClicked:k[3]||(k[3]=T=>e(x)("DeviceCommentSheet"))},{default:l(()=>[e(p)?(o(),N(ut,{key:0})):M("",!0),e(p)?M("",!0):(o(),N(e(ht),{key:1},{default:l(()=>[t(e(Dt),null,{default:l(()=>k[4]||(k[4]=[c("Comments")])),_:1}),t(e(dl),null,{default:l(()=>[k[5]||(k[5]=a("span",{class:"text-muted-foreground"},"Comments on",-1)),t(u,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:k[0]||(k[0]=T=>e($)(y.deviceId))},{default:l(()=>[a("span",_s,C(y.deviceName),1)]),_:1}),t(u,{variant:"ghost",class:"float-right",onClick:e(b)},{default:l(()=>[t(r,{class:"text-muted-foreground"})]),_:1},8,["onClick"])]),_:1})]),_:1})),t(dt,{name:"fade"},{default:l(()=>[e(p)?M("",!0):(o(),h("div",ys,[a("div",bs,[(o(!0),h(X,null,Q(e(S),(T,D)=>(o(),N(e(It),{key:D},{default:l(()=>[t(e(Vt),{class:"p-2"},{default:l(()=>[t(e(St),null,{default:l(()=>[a("span",null,C(T.user.name),1)]),_:2},1024),t(e(Et))]),_:2},1024),t(e(Nt),{class:"flex justify-end px-2 py-0"},{default:l(()=>[T.isEditable?(o(),N(m,{key:0,modelValue:T.comment,"onUpdate:modelValue":s=>T.comment=s,rows:"1",class:"mt-2"},null,8,["modelValue","onUpdate:modelValue"])):(o(),N(m,{key:1,class:"border-none",modelValue:T.comment,"onUpdate:modelValue":s=>T.comment=s,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),t(e(ol),{class:"flex justify-between px-2 py-1"},{default:l(()=>[a("div",xs,C(e(n).formatTime(T.created_at)),1),a("div",null,[T.isEditable?(o(),N(u,{key:0,onClick:s=>e(A)(D),variant:"outline",size:"sm",class:""},{default:l(()=>k[6]||(k[6]=[c(" Save ")])),_:2},1032,["onClick"])):M("",!0),T.isEditable?M("",!0):(o(),h("div",ks,[T.is_open?(o(),N(u,{key:0,title:"Resolve Comment",size:"sm",variant:"ghost",class:"py-2"},{default:l(()=>[t(d,{icon:"solar:check-circle-broken"})]),_:1})):M("",!0)]))])]),_:2},1024)]),_:2},1024))),128))])]))]),_:1}),t(e(Pt),null,{default:l(()=>k[7]||(k[7]=[a("div",{class:"flex-1"},null,-1)])),_:1})]),_:1})]),_:1},8,["open"])}}},$s={class:"flex items-center"},Cs={class:"ml-2"},hs={class:"grid gap-2 p-4"},Ds={class:"grid items-center grid-cols-1 gap-4"},Is={key:0,class:"col-start-2 -mt-4 text-sm text-red-400"},Vs={class:"pl-2 ml-auto"},Ss={class:"rc-kdb-class2"},Es={class:"pl-2 ml-auto"},Ns={class:"rc-kdb-class2"},Ps={__name:"DeviceModelAddDialog",props:{editId:{type:Number,default:0}},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:x,toastInfo:S,toastWarning:n,toastDefault:p}=re(),g=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=g,k=P;f([]);const u=f([]),r=f({name:""});f("");const m=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=m.editId>0?`/${m.editId}`:"",s=m.editId>0?"patch":"post";H[s]("/api/device-models"+D,r.value).then(v=>{k("save"),b("Device Model created","The device model has been created successfully."),$("DialogDeviceModelAdd"),r.value={name:""}}).catch(v=>{u.value=v.response.data.errors})}return(D,s)=>{const v=w("Icon"),I=w("Button"),E=w("UserIcon"),L=w("Label"),K=w("Input");return o(),N(e(Se),{open:e(U)("DialogDeviceModelAdd")},{default:l(()=>[t(e(Ce),{"as-child":""},{default:l(()=>[t(I,{variant:"ghost",onClick:s[0]||(s[0]=i=>e(A)("DialogDeviceModelAdd")),class:"justify-start w-full p-1"},{default:l(()=>[t(v,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),s[8]||(s[8]=a("span",null,"Create new record",-1))]),_:1})]),_:1}),t(e(he),{class:"p-0 sm:max-w-1/3",onEscapeKeyDown:s[5]||(s[5]=i=>e($)("DialogDeviceModelAdd")),onPointerDownOutside:s[6]||(s[6]=i=>e($)("DialogDeviceModelAdd")),onCloseClicked:s[7]||(s[7]=i=>e($)("DialogDeviceModelAdd"))},{default:l(()=>[t(e(De),{class:"rc-dialog-header"},{default:l(()=>[t(e(Ie),{class:"text-sm text-rcgray-200"},{default:l(()=>[a("div",$s,[t(E),a("span",Cs,C(y.editId>0?"Edit":"Add")+" Device Model "+C(y.editId>0?"(ID: "+y.editId+")":""),1)])]),_:1})]),_:1}),a("div",hs,[a("div",Ds,[t(L,{for:"name",class:"text-left"},{default:l(()=>s[9]||(s[9]=[c(" Device Model Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(K,{modelValue:r.value.name,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value.name=i),id:"name",class:"col-span-3",autocomplete:"off"},null,8,["modelValue"]),u.value.name?(o(),h("span",Is,C(u.value.name[0]),1)):M("",!0)])]),t(e(Ve),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[2]||(s[2]=i=>e($)("DialogDeviceModelAdd")),size:"sm"},{default:l(()=>s[10]||(s[10]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),m.editId===0?(o(),N(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=i=>T()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=c(" Save ")),a("div",Vs,[a("kbd",Ss,[s[11]||(s[11]=c(" Ctrl  ")),t(v,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),m.editId>0?(o(),N(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=i=>T()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=c(" Update ")),a("div",Es,[a("kbd",Ns,[s[13]||(s[13]=c(" Ctrl  ")),t(v,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}},Ts={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},Ms={class:"relative items-center w-full"},As={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Us={class:"py-1"},Bs=["onClick"],Fs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ls={"data-size":"20"},js={class:"p-1 border-5"},zs=ye({__name:"DeviceModelMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([]);f([]);const S=f(!1),n=f(""),p=f([]),g=y,A=we(()=>x.value.filter(r=>r.name.toLowerCase().includes(n.value.toLowerCase())&&!p.value.some(m=>m.id===r.id)));J(()=>g.modelValue,r=>{p.value=r}),ee(()=>{k(),g.modelValue&&g.modelValue.length>0&&(p.value=g.modelValue)});function $(r){g.singleSelect?p.value=[r]:p.value.push(r),S.value=!1,n.value="",b("update:modelValue",p.value)}function U(r){const m=p.value.findIndex(d=>d.name===r);m!==-1&&p.value.splice(m,1),b("update:modelValue",p.value)}function k(){H.get("/api/device-models/?perPage=10000").then(r=>{x.value=r.data.data})}function u(){k()}return(r,m)=>{const d=w("Icon"),T=w("Button"),D=w("Input"),s=w("Separator");return o(),N(e(pe),null,{default:l(()=>[t(e(me),{class:"col-span-3"},{default:l(()=>[t(T,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",p.value.length===0?"text-muted-foreground":" "]),style:Ye(p.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[c(C(p.value&&p.value.length===0?"Select device model":"")+" ",1),(o(!0),h(X,null,Q(p.value,v=>(o(),h("span",{key:v.id,class:"relative my-1 group"},[a("span",Ts,[c(C(v.name)+" ",1),t(d,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(I=>U(v.name),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",Ms,[t(D,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=v=>n.value=v),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",As,[t(d,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(s),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Us,[(o(!0),h(X,null,Q(A.value,v=>(o(),h("div",{key:v.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:I=>$(v)},[a("span",Fs,[a("span",Ls,C(v.name),1)])],8,Bs))),128))])]),_:1}),t(s),a("div",js,[t(Ps,{onSave:m[1]||(m[1]=v=>u())})])]),_:1})]),_:1})}}}),Ks={class:"grid gap-4"},Os={class:"space-y-2"},Gs={class:"flex items-center space-x-2"},qs={class:"font-medium leading-none"},Rs={class:"text-sm text-muted-foreground"},He=ye({__name:"HelpPopover",props:{title:{type:String,required:!0},content:{type:String,required:!0}},setup(y){return(P,b)=>{const x=w("Icon");return o(),N(e(pe),null,{default:l(()=>[t(e(me),{"as-child":""},{default:l(()=>[t(e(Mt),{tabindex:"-1",variant:"ghost",class:"h-0 p-0 m-0 ml-1"},{default:l(()=>[t(x,{icon:"formkit:help"})]),_:1})]),_:1}),t(e(ve),{class:"w-80",side:"top",align:"start"},{default:l(()=>[a("div",Ks,[a("div",Os,[a("div",Gs,[t(x,{icon:"formkit:help"}),a("h4",qs,C(y.title),1)]),a("p",Rs,C(y.content),1)])])]),_:1})]),_:1})}}}),Hs={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},Ws={class:"relative items-center w-full"},Ys={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Xs={class:"py-1"},Js=["onClick"],Qs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Zs={"data-size":"20"},ea={class:"p-1 border-5"},ta=ye({__name:"TemplateMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([]);f([]);const S=f(!1),n=f(""),p=f([]),g=y,A=we(()=>x.value.filter(u=>u.templateName.toLowerCase().includes(n.value.toLowerCase())&&!p.value.some(r=>r.id===u.id)));J(()=>g.modelValue,u=>{p.value=u}),ee(()=>{k(),g.modelValue&&g.modelValue.length>0&&(p.value=g.modelValue)});function $(u){g.singleSelect?p.value=[u]:p.value.push(u),S.value=!1,n.value="",b("update:modelValue",p.value)}function U(u){const r=p.value.findIndex(m=>m.templateName===u);r!==-1&&p.value.splice(r,1),b("update:modelValue",p.value)}function k(){H.get("/api/templates/?perPage=10000").then(u=>{x.value=u.data.data})}return(u,r)=>{const m=w("Icon"),d=w("Button"),T=w("Input"),D=w("Separator");return o(),N(e(pe),null,{default:l(()=>[t(e(me),{class:"col-span-3"},{default:l(()=>[t(d,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",p.value.length===0?"text-muted-foreground":" "]),style:Ye(p.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[c(C(p.value&&p.value.length===0?"Select templates":"")+" ",1),(o(!0),h(X,null,Q(p.value,s=>(o(),h("span",{key:s.id,class:"relative my-1 group"},[a("span",Hs,[c(C(s.templateName)+" ",1),t(m,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(v=>U(s.templateName),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",Ws,[t(T,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Ys,[t(m,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Xs,[(o(!0),h(X,null,Q(A.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:v=>$(s)},[a("span",Qs,[a("span",Zs,C(s.templateName),1)])],8,Js))),128))])]),_:1}),t(D),a("div",ea,[t(d,{variant:"ghost",class:"justify-start w-full p-1"},{default:l(()=>[t(m,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),r[1]||(r[1]=a("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}}),la={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},sa={class:"relative items-center w-full"},aa={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},oa={class:"py-1"},na=["onClick"],da={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},ia={"data-size":"20"},ra={class:"p-1 border-5"},ua=ye({__name:"VendorMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([]);f([]);const S=f(!1),n=f(""),p=f([]),g=y,A=we(()=>x.value.filter(u=>u.vendorName.toLowerCase().includes(n.value.toLowerCase())&&!p.value.some(r=>r.id===u.id)));J(()=>g.modelValue,u=>{p.value=u}),ee(()=>{k(),g.modelValue&&g.modelValue.length>0&&p.value.push(...g.modelValue)});function $(u){g.singleSelect?p.value=[u]:p.value.push(u),S.value=!1,n.value="",b("update:modelValue",p.value)}function U(u){const r=p.value.findIndex(m=>m.vendorName===u);r!==-1&&p.value.splice(r,1),b("update:modelValue",p.value)}function k(){H.get("/api/vendors/?perPage=10000").then(u=>{x.value=u.data.data})}return(u,r)=>{const m=w("Icon"),d=w("Button"),T=w("Input"),D=w("Separator");return o(),N(e(pe),null,{default:l(()=>[t(e(me),{class:"col-span-3"},{default:l(()=>[t(d,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",p.value.length===0?"text-muted-foreground":" "]),style:Ye(p.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[c(C(p.value&&p.value.length===0?"Select vendors":"")+" ",1),(o(!0),h(X,null,Q(p.value,s=>(o(),h("span",{key:s.id,class:"relative my-1 group"},[a("span",la,[c(C(s.vendorName)+" ",1),t(m,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(v=>U(s.vendorName),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",sa,[t(T,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",aa,[t(m,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-64"},{default:l(()=>[a("div",oa,[(o(!0),h(X,null,Q(A.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:v=>$(s)},[a("span",da,[a("span",ia,C(s.vendorName),1)])],8,na))),128))])]),_:1}),t(D),a("div",ra,[t(d,{variant:"ghost",class:"justify-start w-full p-1"},{default:l(()=>[t(m,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),r[1]||(r[1]=a("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}}),ca={class:"relative"},ma=["id","type"],et=ye({__name:"Input-password",props:{defaultValue:{},modelValue:{},class:{},id:{}},emits:["update:modelValue"],setup(y,{emit:P}){const b=y,S=At(b,"modelValue",P,{passive:!0,defaultValue:b.defaultValue}),n=f(!1);return(p,g)=>{const A=w("Icon");return o(),h("div",ca,[Ut(a("input",{id:b.id,"onUpdate:modelValue":g[0]||(g[0]=$=>se(S)?S.value=$:null),type:n.value?"text":"password",autocomplete:"off",class:xe(e(We)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none focus-visible:ring-0",b.class,{"text-gray-500":!n.value}))},null,10,ma),[[Bt,e(S)]]),a("button",{tabindex:"-1",onClick:g[1]||(g[1]=$=>n.value=!n.value),type:"button",class:xe(e(We)("absolute inset-y-0 z-20 flex items-center px-3 cursor-pointer end-0 rounded-e-md focus:outline-none",n.value?"text-blue-600 dark:text-blue-500":"text-gray-400 dark:text-neutral-600"))},[n.value?(o(),N(A,{key:0,icon:"lucide:eye",class:"size-3.5 transition-transform duration-200 ease-in-out"})):(o(),N(A,{key:1,icon:"lucide:eye-off",class:"size-3.5 transition-transform duration-200 ease-in-out"}))],2)])}}});function va(y,P){const{toastSuccess:b,toastError:x,toastInfo:S,toastWarning:n,toastDefault:p}=re(),g=ue(),{closeDialog:A,isDialogOpen:$}=g,U=f(!1),k=f(!1),u=f([]),r=f({device_name:"",device_ip:"",device_port_override:"",device_vendor:[],device_model:"",selectedCategoryArray:[],selectedModelArray:[],device_category_id:0,device_tags:[],device_username:"",device_password:"",device_enable_password:"",device_template:[],device_main_prompt:"",device_enable_prompt:""});ee(()=>{y>0&&(k.value=!0,H.get(`/api/devices/${y}`).then(I=>{r.value.device_name=I.data.device_name,r.value.device_ip=I.data.device_ip,r.value.device_port_override=I.data.device_port_override,r.value.device_vendor.push(I.data.vendor[0]),r.value.device_model=I.data.device_model,r.value.selectedCategoryArray.push(I.data.category[0]),r.value.selectedModelArray=[{name:I.data.device_model}],r.value.device_category_id=I.data.device_category_id,I.data.tag.forEach(E=>{r.value.device_tags.push(E)}),r.value.device_username=I.data.device_username,r.value.device_password=I.data.device_password,r.value.device_enable_password=I.data.device_enable_password,r.value.device_template.push(I.data.template[0]),r.value.device_main_prompt=I.data.device_main_prompt,r.value.device_enable_prompt=I.data.device_enable_prompt,k.value=!1})),window.addEventListener("keydown",m)}),ne(()=>{window.removeEventListener("keydown",m)});function m(I){I.ctrlKey&&I.key==="Enter"&&d()}function d(){r.value.selectedModelArray.length>0&&(r.value.device_model=r.value.selectedModelArray[0].name),r.value.selectedCategoryArray.length>0&&(r.value.device_category_id=r.value.selectedCategoryArray[0].id);let I=y>0?`/${y}`:"",E=y>0?"patch":"post";H[E]("/api/devices"+I,r.value).then(L=>{P("save",L.data),b("Device created","The device has been created successfully."),A("DialogNewDevice")}).catch(L=>{x("Error","There was an error saving the device."),console.log(L),L.response&&L.response.data&&L.response.data.errors&&(u.value=L.response.data.errors)})}function T(){r.value.device_main_prompt=r.value.device_name+"#",r.value.device_enable_prompt=r.value.device_name+">"}function D(){U.value=!0}function s(){U.value=!1}function v(){U.value=!1,A("DialogNewDevice")}return{isLoading:k,model:r,saveDialog:d,errors:u,isDialogOpen:$,generatePrompts:T,showConfirmCloseAlert:U,showConfirmCloseDialog:D,cancelCloseDialog:s,confirmCloseDialog:v}}const pa={class:"flex items-center"},fa={class:"ml-2"},ga={key:0},_a={class:"text-muted-foreground"},ya={key:0,class:"grid grid-cols-1 gap-6 px-4 lg:grid-cols-2"},ba={class:"flex flex-col col-span-1"},xa={key:0,class:"text-red-400"},ka={class:"flex flex-row space-x-4"},wa={class:"flex flex-col w-1/2"},$a={key:0,class:"text-red-400"},Ca={class:"flex flex-col w-1/2"},ha={key:1,class:"text-red-400"},Da={key:2,class:"text-red-400"},Ia={key:3,class:"text-red-400"},Va={key:4,class:"text-red-400"},Sa={class:"flex flex-col col-span-1"},Ea={key:0,class:"text-red-400"},Na={key:1,class:"text-red-400"},Pa={key:2,class:"text-red-400"},Ta={key:3,class:"text-red-400"},Ma={key:4,class:"text-red-400"},Aa={key:5,class:"text-red-400"},Ua={class:"pl-2 ml-auto"},Ba={class:"rc-kdb-class2"},Fa={class:"pl-2 ml-auto"},La={class:"rc-kdb-class2"},ja={__name:"DeviceAddEditDialog",props:{editId:Number},emits:["save","close"],setup(y,{emit:P}){const b=y,x=P,{isLoading:S,model:n,saveDialog:p,errors:g,isDialogOpen:A,generatePrompts:$,showConfirmCloseAlert:U,showConfirmCloseDialog:k,cancelCloseDialog:u,confirmCloseDialog:r}=va(b.editId,x);return(m,d)=>{const T=w("DeviceIcon"),D=w("Label"),s=w("Input"),v=w("Icon"),I=w("Button");return o(),h(X,null,[t(e(Se),{open:e(A)("DialogNewDevice")},{default:l(()=>[t(e(Ce),{"as-child":""}),t(e(he),{onInteractOutside:d[17]||(d[17]=E=>e(k)()),onPointerDownOutside:d[18]||(d[18]=E=>e(k)()),class:"p-0 sm:max-w-7xl",onEscapeKeyDown:d[19]||(d[19]=E=>e(k)()),onCloseClicked:d[20]||(d[20]=E=>e(k)())},{default:l(()=>[t(e(De),{class:"rc-dialog-header"},{default:l(()=>[t(e(Ie),{class:"text-sm text-rcgray-200"},{default:l(()=>[a("div",pa,[t(T),a("span",fa,C(y.editId>0?"Edit":"Add")+" Device "+C(y.editId>0?"(ID: "+y.editId+")":""),1),e(n).device_name?(o(),h("span",ga,[d[21]||(d[21]=c(" :   ")),a("span",_a,C(e(n).device_name),1)])):M("",!0)])]),_:1})]),_:1}),t(e(be),{class:"min-h-96 xl:h-auto"},{default:l(()=>[e(S)?(o(),N(ut,{key:0})):M("",!0),t(dt,{name:"fade"},{default:l(()=>[e(S)?M("",!0):(o(),h("div",ya,[a("div",ba,[d[29]||(d[29]=a("h3",{class:"text-lg font-semibold border-b"},"Device Information",-1)),t(D,{for:"device_name",class:"mt-4 mb-1 font-light"},{default:l(()=>d[22]||(d[22]=[c(" Device Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_name,"onUpdate:modelValue":d[0]||(d[0]=E=>e(n).device_name=E),id:"device_name",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(g).device_name?(o(),h("span",xa,C(e(g).device_name[0]),1)):M("",!0),a("div",ka,[a("div",wa,[t(D,{for:"device_ip",class:"mt-4 mb-1 font-light"},{default:l(()=>d[23]||(d[23]=[c(" Device IP "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_ip,"onUpdate:modelValue":d[1]||(d[1]=E=>e(n).device_ip=E),id:"device_ip",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(g).device_ip?(o(),h("span",$a,C(e(g).device_ip[0]),1)):M("",!0)]),a("div",Ca,[t(D,{for:"device_port_override",class:"mt-4 mb-1 font-light"},{default:l(()=>[d[24]||(d[24]=c(" Device Port ")),t(He,{title:"Device Port",content:"Set the connection port specific to this device. it overrides the value set in the connection template. Leave empty otherwise."})]),_:1}),t(s,{modelValue:e(n).device_port_override,"onUpdate:modelValue":d[2]||(d[2]=E=>e(n).device_port_override=E),id:"device_port_override",type:"number",autocomplete:"off",class:"w-full"},null,8,["modelValue"])])]),t(D,{for:"vector",class:"mt-4 mb-1 font-light"},{default:l(()=>d[25]||(d[25]=[c(" Vendor "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(ua,{singleSelect:!0,modelValue:e(n).device_vendor,"onUpdate:modelValue":d[3]||(d[3]=E=>e(n).device_vendor=E),id:"device_vendor",class:"w-full"},null,8,["modelValue"]),e(g).device_vendor?(o(),h("span",ha,C(e(g).device_vendor[0]),1)):M("",!0),t(D,{for:"device_category_id",class:"mt-4 mb-1 font-light"},{default:l(()=>d[26]||(d[26]=[c(" Category "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(it,{modelValue:e(n).selectedCategoryArray,"onUpdate:modelValue":d[4]||(d[4]=E=>e(n).selectedCategoryArray=E),id:"selectedCategoryArray",singleSelect:!0,class:"w-full"},null,8,["modelValue"]),e(g).device_category_id?(o(),h("span",Da,C(e(g).device_category_id[0]),1)):M("",!0),t(D,{for:"device_model",class:"mt-4 mb-1 font-light"},{default:l(()=>d[27]||(d[27]=[c(" Model "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(zs,{singleSelect:!0,modelValue:e(n).selectedModelArray,"onUpdate:modelValue":d[5]||(d[5]=E=>e(n).selectedModelArray=E),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),e(g).device_model?(o(),h("span",Ia,C(e(g).device_model[0]),1)):M("",!0),t(D,{for:"device_tags",class:"mt-4 mb-1 font-light"},{default:l(()=>d[28]||(d[28]=[c(" Tags "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(tl,{modelValue:e(n).device_tags,"onUpdate:modelValue":d[6]||(d[6]=E=>e(n).device_tags=E),id:"device_tags",class:"w-full"},null,8,["modelValue"]),e(g).device_tags?(o(),h("span",Va,C(e(g).device_tags[0]),1)):M("",!0)]),a("div",Sa,[d[37]||(d[37]=a("h3",{class:"text-lg font-semibold border-b"},"Connection Information",-1)),t(D,{for:"device_username",class:"mt-4 mb-1 font-light"},{default:l(()=>d[30]||(d[30]=[c(" Username "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_username,"onUpdate:modelValue":d[7]||(d[7]=E=>e(n).device_username=E),id:"device_username",autocomplete:"current-password",class:"w-full"},null,8,["modelValue"]),e(g).device_username?(o(),h("span",Ea,C(e(g).device_username[0]),1)):M("",!0),t(D,{for:"device_password",class:"mt-4 mb-1 font-light"},{default:l(()=>d[31]||(d[31]=[c(" Device Password "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(et),{modelValue:e(n).device_password,"onUpdate:modelValue":d[8]||(d[8]=E=>e(n).device_password=E),id:"device_password",class:"w-full"},null,8,["modelValue"]),e(g).device_password?(o(),h("span",Na,C(e(g).device_password[0]),1)):M("",!0),t(D,{for:"device_enable_password",class:"mt-4 mb-1 font-light"},{default:l(()=>d[32]||(d[32]=[c(" Device Enable Password ")])),_:1}),t(e(et),{modelValue:e(n).device_enable_password,"onUpdate:modelValue":d[9]||(d[9]=E=>e(n).device_enable_password=E),id:"device_enable_password",class:"w-full"},null,8,["modelValue"]),e(g).device_enable_password?(o(),h("span",Pa,C(e(g).device_enable_password[0]),1)):M("",!0),t(D,{for:"device_template",class:"mt-4 mb-1 font-light"},{default:l(()=>d[33]||(d[33]=[c(" Template "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(ta,{singleSelect:!0,modelValue:e(n).device_template,"onUpdate:modelValue":d[10]||(d[10]=E=>e(n).device_template=E),id:"device_template",class:"w-full"},null,8,["modelValue"]),e(g).device_template?(o(),h("span",Ta,C(e(g).device_template[0]),1)):M("",!0),t(D,{for:"main_prompt",class:"mt-4 mb-1 font-light"},{default:l(()=>[d[34]||(d[34]=c(" Main Prompt ")),t(He,{title:"Device Main Prompt",content:"This is the 'Privileged EXEC' prompt. You will run show commands from this prompt and you can access configure mode. Usually 'router1#'"})]),_:1}),t(s,{modelValue:e(n).device_main_prompt,"onUpdate:modelValue":d[11]||(d[11]=E=>e(n).device_main_prompt=E),id:"device_main_prompt",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(g).device_main_prompt?(o(),h("span",Ma,C(e(g).device_main_prompt[0]),1)):M("",!0),t(D,{for:"enable_prompt",class:"mt-4 mb-1 font-light"},{default:l(()=>[d[35]||(d[35]=c(" Enable Prompt ")),t(He,{title:"Device Main Prompt",content:" This is the 'User EXEC' prompt. The first level of access prompt. Usually 'router1>'"})]),_:1}),t(s,{modelValue:e(n).device_enable_prompt,"onUpdate:modelValue":d[12]||(d[12]=E=>e(n).device_enable_prompt=E),id:"device_enable_prompt",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),a("button",{class:"flex items-center p-2 text-sm text-left rounded-lg pf-c-button pf-m-link pf-m-inline hover:bg-rcgray-800 max-w-fit text-muted-foreground hover:text-gray-200",type:"button",onClick:d[13]||(d[13]=E=>e($)())},[t(v,{icon:"material-symbols:flash-auto",class:"w-4 h-4 mr-1"}),d[36]||(d[36]=c(" Auto generate prompts from device name "))]),e(g).device_enable_prompt?(o(),h("span",Aa,C(e(g).device_enable_prompt[0]),1)):M("",!0)])]))]),_:1})]),_:1}),t(e(Ve),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:d[14]||(d[14]=E=>e(k)()),size:"sm"},{default:l(()=>d[38]||(d[38]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),b.editId===0?(o(),N(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:d[15]||(d[15]=E=>e(p)()),variant:"primary"},{default:l(()=>[d[40]||(d[40]=c(" Save ")),a("div",Ua,[a("kbd",Ba,[d[39]||(d[39]=c(" Ctrl  ")),t(v,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),b.editId>0?(o(),N(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:d[16]||(d[16]=E=>e(p)()),variant:"primary"},{default:l(()=>[d[42]||(d[42]=c(" Update ")),a("div",Fa,[a("kbd",La,[d[41]||(d[41]=c(" Ctrl  ")),t(v,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"]),t(ll,{showConfirmCloseAlert:e(U),onHandleClose:e(u),onHandleConfirm:e(r)},null,8,["showConfirmCloseAlert","onHandleClose","onHandleConfirm"])],64)}}},za={key:0,class:"text-sm font-light"},Ka={class:"text-sm font-semibold"},Oa={class:"py-1"},Ga=["onClick"],qa=["checked"],Ra={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ha={"data-size":"20"},Wa=ye({__name:"StatusFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([{id:0,name:"Unreachable"},{id:1,name:"Reachable"},{id:2,name:"Unknown"},{id:100,name:"Disabled"},{id:200,name:"All"}]),S=f(!1),n=f([]),p=y;J(()=>p.modelValue,A=>{n.value=A});function g(A){if(A.id===200)n.value.length===x.value.length?n.value=[]:n.value=[...x.value];else{const $=n.value.findIndex(U=>U.id===A.id);if($!==-1){n.value.splice($,1);const U=n.value.findIndex(k=>k.id===200);U!==-1&&n.value.splice(U,1)}else n.value.push(A)}S.value=!1,b("update:modelValue",n.value)}return(A,$)=>{const U=w("Icon"),k=w("Button");return o(),N(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(k,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(U,{icon:"material-symbols-light:signal-wifi-statusbar-not-connected-rounded",class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Status")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",za,[$[0]||($[0]=c(" Status ")),a("strong",Ka,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"p-0 w-44"},{default:l(()=>[t(e(be),{class:"h-44"},{default:l(()=>[a("div",Oa,[(o(!0),h(X,null,Q(x.value,u=>(o(),h("div",{key:u.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:r=>g(u)},[a("input",{type:"checkbox",checked:n.value.some(r=>r.id===u.id),class:"mr-2"},null,8,qa),a("span",Ra,[a("span",Ha,C(u.name),1)])],8,Ga))),128))])]),_:1})]),_:1})]),_:1})}}}),Ya={key:0,class:"text-sm font-light"},Xa={class:"text-sm font-semibold"},Ja={class:"relative items-center w-full"},Qa={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Za={class:"py-1"},eo=["onClick"],to=["checked"],lo={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},so={"data-size":"20"},ao={class:"p-1 border-5"},oo=ye({__name:"TagFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([]),S=f(!1),n=f([]),p=f(""),g=f(!1),A=y;ee(()=>{U()}),J(()=>A.modelValue,u=>{n.value=u,g.value=n.value.length===x.value.length});function $(u){if(u.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...x.value],g.value=!0);else{const r=n.value.findIndex(m=>m.id===u.id);r!==-1?(n.value.splice(r,1),g.value=!1):(n.value.push(u),n.value.length===x.value.length&&(g.value=!0))}S.value=!1,b("update:modelValue",n.value)}function U(){H.get("/api/tags/?perPage=10000").then(u=>{x.value=u.data.data})}const k=we(()=>x.value.filter(u=>u.tagname.toLowerCase().includes(p.value.toLowerCase())));return(u,r)=>{const m=w("Button"),d=w("Input"),T=w("Icon"),D=w("Separator");return o(),N(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(m,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(Ft,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Tags")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",Ya,[r[2]||(r[2]=c(" Tag ")),a("strong",Xa,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",Ja,[t(d,{id:"search",type:"text",modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=s=>p.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Qa,[t(T,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",Za,[(o(!0),h(X,null,Q(k.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:v=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(v=>v.id===s.id),class:"mr-2"},null,8,to),a("span",lo,[a("span",so,C(s.tagname),1)])],8,eo))),128))])]),_:1}),t(D),a("div",ao,[t(m,{variant:"ghost",class:"justify-start w-full p-1",onClick:r[1]||(r[1]=s=>$({id:9999999}))},{default:l(()=>[t(T,{icon:g.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(g.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),no={class:"space-y-2"},io={class:"mb-2 text-sm text-muted-foreground"},ro={key:0,class:"text-xs text-muted-foreground"},uo={__name:"TagListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(y){return(P,b)=>{const x=w("Button"),S=w("router-link");return o(),N(e(pe),null,{default:l(()=>[t(e(me),{"as-child":""},{default:l(()=>[t(x,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>b[0]||(b[0]=[c(" ... ")])),_:1})]),_:1}),t(e(ve),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[a("div",no,[a("p",io,"All tags associated with "+C(y.recordName)+". Showing "+C(y.displayCount)+" records.",1)]),(o(!0),h(X,null,Q(y.items.slice(0,y.displayCount),n=>(o(),N(e(tt),{key:n[y.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(S,{to:n.view_url},{default:l(()=>[c(C(n[y.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),y.displayCount>y.displayCount-1?(o(),h("span",ro,[b[2]||(b[2]=a("br",null,null,-1)),c(" Displaying only "+C(y.displayCount)+" records. Visit the ",1),t(S,{to:"/tags",class:"text-blue-500 hover:underline"},{default:l(()=>b[1]||(b[1]=[c(" Tags ")])),_:1}),b[3]||(b[3]=c(" page to view all tags. "))])):M("",!0)]),_:1})]),_:1})}}},co={key:0,class:"text-sm font-light"},mo={class:"text-sm font-semibold"},vo={class:"relative items-center w-full"},po={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},fo={class:"py-1"},go=["onClick"],_o=["checked"],yo={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},bo={"data-size":"20"},xo={class:"p-1 border-5"},ko=ye({__name:"VendorFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,x=f([]),S=f(!1),n=f([]),p=f(""),g=f(!1),A=y;ee(()=>{U()}),J(()=>A.modelValue,u=>{n.value=u,g.value=n.value.length===x.value.length});function $(u){if(u.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...x.value],g.value=!0);else{const r=n.value.findIndex(m=>m.id===u.id);r!==-1?(n.value.splice(r,1),g.value=!1):(n.value.push(u),n.value.length===x.value.length&&(g.value=!0))}S.value=!1,b("update:modelValue",n.value)}function U(){H.get("/api/vendors/?perPage=10000").then(u=>{x.value=u.data.data})}const k=we(()=>x.value.filter(u=>u.vendorName.toLowerCase().includes(p.value.toLowerCase())));return(u,r)=>{const m=w("Button"),d=w("Input"),T=w("Icon"),D=w("Separator");return o(),N(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(m,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(Lt,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Vendor")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",co,[r[2]||(r[2]=c(" Vendor ")),a("strong",mo,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(ve),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",vo,[t(d,{id:"search",type:"text",modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=s=>p.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",po,[t(T,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",fo,[(o(!0),h(X,null,Q(k.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:v=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(v=>v.id===s.id),class:"mr-2"},null,8,_o),a("span",yo,[a("span",bo,C(s.vendorName),1)])],8,go))),128))])]),_:1}),t(D),a("div",xo,[t(m,{variant:"ghost",class:"justify-start w-full p-1",onClick:r[1]||(r[1]=s=>$({id:9999999}))},{default:l(()=>[t(T,{icon:g.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(g.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}});function wo(){const y=f(1),P=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),x=f(""),S=f({}),n=ue(),p=f(0),g=f(!1),A=f(1),$=f(1),U=f([]),k=f(!1),u=f([]),r=f([]),m=f([]),d=f([]),T=Oe(),D=nt("formatters"),{openDialog:s}=n,{toastSuccess:v,toastError:I}=re();async function E(O={}){g.value=!0;try{const te=await H.get("/api/devices",{params:{page:y.value,perPage:P.value,sort:b.value,...S.value}});U.value=te.data,A.value=te.data.last_page}catch(te){console.error("Error fetching devices:",te),I("Error","Failed to fetch devices.")}finally{g.value=!1}}const L=O=>{p.value=0,$.value=Math.random(),s("DialogNewDevice")};function K(O){p.value=O,$.value=Math.random(),s("DialogNewDevice")}const i=async O=>{try{await H.delete(`/api/devices/${O}`),E(),v("Device Deleted","The device has been deleted successfully.")}catch(te){console.error("Error deleting device:",te),I("Error","Failed to delete device.")}},V=async O=>{try{await H.post("/api/devices/delete-many",{ids:O}),E(),v("Devices Deleted","The tags have been deleted successfully."),k.value=!1,ce.emit("deleteManyDevicesSuccess")}catch(te){console.error("Error deleting tags:",te),I("Error","Failed to delete devices."),k.value=!1}},B=async O=>{try{await H.get(`/api/device/disable/${O}`),E(),v("Device Disabled","The device has been disabled successfully.")}catch(te){console.error("Error disabling device:",te),I("Error","Failed to disable device.")}},W=async O=>{try{await H.get(`/api/device/enable/${O}`),E(),v("Device Enabled","The device has been disabled successfully.")}catch(te){console.error("Error enabling device:",te),I("Error","Failed to enabled device.")}},Z=O=>{p.value=O,$.value=Math.random(),s("DialogNewDevice")},le=()=>{E(),$.value=Math.random()};function j(O){O.altKey&&O.key==="n"&&(O.preventDefault(),s("DialogNewDevice"))}const oe=Ee(()=>{S.value["filter[q]"]=x.value,y.value=1,E()},500);J([y,P],()=>{E()}),J(x,()=>{oe()}),J(P,O=>{localStorage.setItem("perPage",O.toString())}),J(u,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);S.value["filter[status]"]=de.join(",")}else delete S.value["filter[status]"];E()},{deep:!0}),J(r,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);S.value["filter[category]"]=de.join(",")}else delete S.value["filter[category]"];E()},{deep:!0}),J(m,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);S.value["filter[tag]"]=de.join(",")}else delete S.value["filter[tag]"];E()},{deep:!0}),J(d,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);S.value["filter[vendor]"]=de.join(",")}else delete S.value["filter[vendor]"];E()},{deep:!0});function _(O){b.value===O?b.value=`-${O}`:b.value=O,E()}function Y(){S.value={},u.value=[],r.value=[],m.value=[],d.value=[],x.value="",E()}function fe(O){T.push({name:"devicesview",params:{id:parseInt(O)}})}return{clearFilters:Y,createDevice:L,currentPage:y,deleteDevice:i,deleteManyDevices:V,devices:U,disableDevice:B,editId:p,enableDevice:W,fetchDevices:E,filterCategories:r,filterStatus:u,filterTags:m,filterVendor:d,formatters:D,handleKeyDown:j,handleSave:le,isLoading:g,lastPage:A,newDeviceModalKey:$,perPage:P,searchTerm:x,showConfirmDelete:k,sortParam:b,toggleSort:_,updateDevice:K,viewDeviceDetailsPane:fe,viewEditDialog:Z}}const $o={class:"flex flex-col h-full gap-1 text-center"},Co={class:"flex items-center justify-between p-4"},ho={class:"flex items-center"},Do={class:"flex gap-2"},Io={class:"flex"},Vo={class:"px-6"},So={class:"flex justify-between"},Eo={class:"border-b"},No={key:0,class:"ml-2"},Po={key:0},To={key:1},Mo={key:0},Ao={key:1},Uo={key:0},Bo={key:1},Fo={key:0},Lo={key:1},jo={key:0,class:"mr-2"},zo={__name:"Main",setup(y){const{clearFilters:P,createDevice:b,currentPage:x,deleteDevice:S,deleteManyDevices:n,devices:p,disableDevice:g,editId:A,enableDevice:$,fetchDevices:U,filterCategories:k,filterStatus:u,filterTags:r,filterVendor:m,formatters:d,handleKeyDown:T,handleSave:D,isLoading:s,lastPage:v,newDeviceModalKey:I,perPage:E,searchTerm:L,showConfirmDelete:K,sortParam:i,toggleSort:V,updateDevice:B,viewDeviceDetailsPane:W,viewEditDialog:Z}=wo(),{selectedRows:le,selectAll:j,toggleSelectAll:oe,toggleSelectRow:_}=Ne(p),Y=ot(),{openSheet:fe,closeSheet:O,isSheetOpen:te}=Y,de=f(null),G=f(""),ge=f(0);ee(()=>{U(),window.addEventListener("keydown",T),ce.on("deleteManyDevicesSuccess",()=>{le.value=[],j.value=!1})}),ne(()=>{window.removeEventListener("keydown",T)});function Xe(qe){ge.value+=1,de.value=qe,G.value=p.value.data.find(F=>F.id===qe).device_name,fe("DeviceCommentSheet")}return(qe,F)=>{const ct=w("Input"),mt=w("Separator"),ke=w("Button"),Je=w("Checkbox"),ze=w("Icon"),vt=w("StatusRedIcon"),pt=w("StatusGreenIcon"),ft=w("StatusYellowIcon"),gt=w("StatusGrayIcon"),_t=w("router-link"),yt=w("Badge"),bt=w("Toaster");return o(),h("div",$o,[a("div",Co,[a("div",ho,[t(ct,{class:"ml-2 min-w-32 lg:min-w-60",autocomplete:"off",placeholder:"Filter devices by ID, name or IP...",modelValue:e(L),"onUpdate:modelValue":F[0]||(F[0]=z=>se(L)?L.value=z:null)},null,8,["modelValue"]),t(mt,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),F[16]||(F[16]=a("span",{class:"mr-2 text-muted-foreground"},"Filters:",-1)),a("div",Do,[t(fs,{modelValue:e(k),"onUpdate:modelValue":F[1]||(F[1]=z=>se(k)?k.value=z:null)},null,8,["modelValue"]),t(oo,{modelValue:e(r),"onUpdate:modelValue":F[2]||(F[2]=z=>se(r)?r.value=z:null)},null,8,["modelValue"]),t(ko,{modelValue:e(m),"onUpdate:modelValue":F[3]||(F[3]=z=>se(m)?m.value=z:null)},null,8,["modelValue"]),t(Wa,{modelValue:e(u),"onUpdate:modelValue":F[4]||(F[4]=z=>se(u)?u.value=z:null)},null,8,["modelValue"]),e(L)||e(k).length||e(r).length||e(m).length||e(u).length?(o(),N(al,{key:0,"onUpdate:modelValue":e(P)},null,8,["onUpdate:modelValue"])):M("",!0)])]),a("div",Io,[e(le).length?(o(),N(ke,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:F[5]||(F[5]=ae(z=>K.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(le).length)+" Device(s) ",1)]),_:1})):M("",!0),t(ke,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(b),["prevent"]),variant:"primary"},{default:l(()=>F[17]||(F[17]=[c(" New Device "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Vo,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(q),{class:"w-[2%]"},{default:l(()=>[t(Je,{id:"selectAll",modelValue:e(j),"onUpdate:modelValue":F[6]||(F[6]=z=>se(j)?j.value=z:null),checked:e(j),onClick:F[7]||(F[7]=z=>e(oe)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[8]||(F[8]=z=>e(V)("id"))},{default:l(()=>[t(ze,{icon:e(i)==="id"?"lucide:sort-asc":e(i)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[18]||(F[18]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[2%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[9]||(F[9]=z=>e(V)("status"))},{default:l(()=>[t(ze,{icon:e(i)==="status"?"lucide:sort-asc":e(i)==="-status"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[19]||(F[19]=a("span",{class:"ml-2"},null,-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[10]||(F[10]=z=>e(V)("device_name"))},{default:l(()=>[t(ze,{icon:e(i)==="device_name"?"lucide:sort-asc":e(i)==="-device_name"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[20]||(F[20]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[21]||(F[21]=[c("IP Address")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[22]||(F[22]=[c("C'Group")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[23]||(F[23]=[c("Vendor")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[24]||(F[24]=[c("Model")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[25]||(F[25]=[c("Config Count")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[26]||(F[26]=[c("Config Failures")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[27]||(F[27]=[c("Last Config")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[28]||(F[28]=[c("Tags")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>F[29]||(F[29]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(s)?(o(),N(Me,{key:0})):e(s)?(o(),N(Ae,{key:2})):(o(!0),h(X,{key:1},Q(e(p).data,z=>(o(),N(e(ie),{key:z.id},{default:l(()=>[t(e(R),{class:"text-start"},{default:l(()=>[t(Je,{class:"cursor-pointer",id:"select-"+z.id,checked:!!e(le).includes(z.id),onClick:_e=>e(_)(z.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(z.id),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[z.status===0?(o(),N(vt,{key:0})):M("",!0),z.status===1?(o(),N(pt,{key:1})):M("",!0),z.status===2?(o(),N(ft,{key:2})):M("",!0),z.status===100?(o(),N(gt,{key:3})):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[a("div",So,[t(ke,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:_e=>e(W)(z.id)},{default:l(()=>[a("span",Eo,C(z.device_name),1)]),_:2},1032,["onClick"]),t(ke,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:_e=>Xe(z.id)},{default:l(()=>[t(ze,{icon:"vaadin:comments-o"}),z.comments.length>0?(o(),h("span",No,C(z.comments.length),1)):M("",!0)]),_:2},1032,["onClick"])])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(z.device_ip),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[z.category.length>0?(o(),h("span",Po,C(z.category[0].categoryName),1)):(o(),h("span",To,"--"))]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[z.vendor.length>0?(o(),h("span",Mo,C(z.vendor[0].vendorName),1)):(o(),h("span",Ao,"--"))]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(z.device_model),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(z.config_good_count),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[z.config_bad_count?(o(),h("span",Uo,C(z.config_bad_count),1)):(o(),h("span",Bo,"--"))]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[z.last_config?(o(),h("span",Fo,C(e(d).formatTime(z.last_config.created_at)),1)):(o(),h("span",Lo,"--"))]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(z.tag.slice(0,3),(_e,jn)=>(o(),h("span",{key:_e.tagname,class:"mr-2"},[t(yt,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(_t,{to:_e.view_url},{default:l(()=>[c(C(_e.tagname),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),z.tag.length>3?(o(),h("span",jo,[t(uo,{recordName:z.device_name,items:z.tag,displayField:"tagname"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(as,{rowData:z,onOnEnable:_e=>e($)(z.id),onOnDisable:_e=>e(g)(z.id),onOnEdit:_e=>e(Z)(z.id),onOnDelete:_e=>e(S)(z.id)},null,8,["rowData","onOnEnable","onOnDisable","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(x),lastPage:e(v),perPage:e(E),"onUpdate:currentPage":F[11]||(F[11]=z=>x.value=z),"onUpdate:perPage":F[12]||(F[12]=z=>E.value=z)},null,8,["currentPage","lastPage","perPage"]),(o(),N(ja,{onSave:F[13]||(F[13]=z=>e(D)()),key:e(I),editId:e(A)},null,8,["editId"])),t($e,{ids:e(le),showConfirmDelete:e(K),onClose:F[14]||(F[14]=z=>K.value=!1),onHandleDelete:F[15]||(F[15]=z=>e(n)(e(le)))},null,8,["ids","showConfirmDelete"]),(o(),N(ws,{deviceId:de.value,deviceName:G.value,key:ge.value},null,8,["deviceId","deviceName"])),t(bt)])])}}},Ko={class:"grid gap-2 py-4"},Oo={class:"grid items-center grid-cols-4 gap-4"},Go={class:"grid items-center grid-cols-4 gap-4"},qo={class:"flex flex-col w-full space-y-2"},Ro={key:0,class:"text-red-400"},Ho={key:1,class:"text-red-400"},Wo={class:"pl-2 ml-auto"},Yo={class:"rc-kdb-class2"},Xo={class:"pl-2 ml-auto"},Jo={class:"rc-kdb-class2"},Qo={__name:"TagAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:x,toastInfo:S,toastWarning:n,toastDefault:p}=re(),g=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=g,k=P;f([]);const u=f([]),r=f({tagname:"",tagDescription:""}),m=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{m.editId>0&&H.get(`/api/tags/${m.editId}`).then(D=>{r.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=m.editId>0?`/${m.editId}`:"",s=m.editId>0?"patch":"post";H[s]("/api/tags"+D,r.value).then(v=>{k("save",v.data),b("Tag created","The tag has been created successfully."),$("DialogNewTag")}).catch(v=>{u.value=v.response.data.errors})}return(D,s)=>{const v=w("Label"),I=w("Input"),E=w("Button"),L=w("Icon");return o(),N(e(Se),{open:e(U)("DialogNewTag")},{default:l(()=>[t(e(Ce),{"as-child":""}),t(e(he),{class:"w-full",onEscapeKeyDown:s[5]||(s[5]=K=>e($)("DialogNewTag")),onPointerDownOutside:s[6]||(s[6]=K=>e($)("DialogNewTag")),onCloseClicked:s[7]||(s[7]=K=>e($)("DialogNewTag"))},{default:l(()=>[t(e(De),null,{default:l(()=>[t(e(Ie),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Tag "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your tag here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",Ko,[a("div",Oo,[t(v,{for:"tagname",class:"text-right"},{default:l(()=>s[8]||(s[8]=[c(" Tag Name ")])),_:1}),t(I,{modelValue:r.value.tagname,"onUpdate:modelValue":s[0]||(s[0]=K=>r.value.tagname=K),id:"tagname",class:"col-span-3"},null,8,["modelValue"])]),a("div",Go,[t(v,{for:"tagDescription",class:"text-right"},{default:l(()=>s[9]||(s[9]=[c(" Description ")])),_:1}),t(I,{modelValue:r.value.tagDescription,"onUpdate:modelValue":s[1]||(s[1]=K=>r.value.tagDescription=K),id:"tagDescription",class:"col-span-3"},null,8,["modelValue"])])]),a("div",qo,[u.value.tagDescription?(o(),h("span",Ro,C(u.value.tagDescription[0]),1)):M("",!0),u.value.tagname?(o(),h("span",Ho,C(u.value.tagname[0]),1)):M("",!0)]),t(e(Ve),null,{default:l(()=>[t(E,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[2]||(s[2]=K=>e($)("DialogNewTag")),size:"sm"},{default:l(()=>s[10]||(s[10]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),m.editId===0?(o(),N(E,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=K=>T()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=c(" Save ")),a("div",Wo,[a("kbd",Yo,[s[11]||(s[11]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),m.editId>0?(o(),N(E,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=K=>T()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=c(" Update ")),a("div",Xo,[a("kbd",Jo,[s[13]||(s[13]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Zo(){const y=f(1),P=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),x=f(""),S=f({}),n=ue(),p=f(0),g=f(!1),A=f(1),$=f(1),U=f([]),k=f(!1),{openDialog:u}=n,{toastSuccess:r,toastError:m}=re();async function d(V={}){g.value=!0;try{const B=await H.get("/api/tags",{params:{page:y.value,perPage:P.value,sort:b.value,...S.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching tags:",B),m("Error","Failed to fetch tags.")}finally{g.value=!1}}const T=V=>{p.value=0,$.value=Math.random(),u("DialogNewTag")};function D(V){p.value=V,$.value=Math.random(),u("DialogNewTag")}const s=async V=>{try{await H.delete(`/api/tags/${V}`),d(),r("Tag Deleted","The tag has been deleted successfully."),k.value=!1}catch(B){console.error("Error deleting tag:",B),m("Error","Failed to delete tag."),k.value=!1}},v=async V=>{try{await H.post("/api/tags/delete-many",{ids:V}),d(),r("Tags Deleted","The tags have been deleted successfully."),k.value=!1,ce.emit("deleteManyTagsSuccess")}catch(B){console.error("Error deleting tags:",B),m("Error","Failed to delete tags."),k.value=!1}},I=V=>{p.value=V,$.value=Math.random(),u("DialogNewTag")},E=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewTag"))}const K=Ee(()=>{S.value["filter[tagname]"]=x.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(x,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{tags:U,isLoading:g,currentPage:y,perPage:P,lastPage:A,editId:p,newTagModalKey:$,searchTerm:x,openDialog:u,fetchTags:d,createTag:T,updateTag:D,deleteTag:s,deleteManyTags:v,handleSave:E,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:k}}const en={class:"flex flex-col h-full gap-1 text-center"},tn={class:"flex items-center justify-between p-4"},ln={class:"flex items-center"},sn={class:"flex"},an={class:"px-6"},on={key:0,class:"mr-2"},nn={__name:"Main",setup(y){const{editId:P,tags:b,currentPage:x,perPage:S,searchTerm:n,lastPage:p,isLoading:g,fetchTags:A,viewEditDialog:$,createTag:U,deleteTag:k,deleteManyTags:u,handleSave:r,showConfirmDelete:m,handleKeyDown:d,newTagModalKey:T,toggleSort:D,sortParam:s}=Zo(),{selectedRows:v,selectAll:I,toggleSelectAll:E,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",d),ce.on("deleteManyTagsSuccess",()=>{v.value=[],I.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",en,[a("div",tn,[a("div",ln,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tags...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",sn,[e(v).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>m.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(v).length)+" Tag(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New Tag "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",an,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(q),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(E)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(D)("id"))},{default:l(()=>[t(Z,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(D)("tagname"))},{default:l(()=>[t(Z,{icon:e(s)==="tagname"?"lucide:sort-asc":e(s)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>i[16]||(i[16]=[c("Description")])),_:1}),t(e(q),{class:"w-[40%]"},{default:l(()=>i[17]||(i[17]=[c("Devices")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>i[18]||(i[18]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(g)?(o(),N(Me,{key:0})):e(g)?(o(),N(Ae,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(R),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(v).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.tagname),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.tagDescription),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.device.slice(0,8),(Y,fe)=>(o(),h("span",{key:Y.device_name,class:"mr-2"},[t(j,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",on,[t(Ge,{recordName:_.tagname,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(k)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(x),lastPage:e(p),perPage:e(S),"onUpdate:currentPage":i[7]||(i[7]=_=>x.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>S.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(Qo,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(T),editId:e(P)},null,8,["editId"])),t($e,{ids:e(v),showConfirmDelete:e(m),onClose:i[10]||(i[10]=_=>m.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(v)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}};function dn(y){const P=f(1),b=f(parseInt(localStorage.getItem("perPage")||"10")),x=f("-id"),S=f(""),n=f({}),p=ue(),g=f(0),A=f(!1),$=f(1),U=f(1),k=f([]),u=f(!1),r=Oe(),{openDialog:m}=p,{toastSuccess:d,toastError:T}=re();async function D(W={}){A.value=!0;try{const Z=await H.get("/api/templates",{params:{page:P.value,perPage:b.value,sort:x.value,...n.value}});k.value=Z.data,$.value=Z.data.last_page}catch(Z){console.error("Error fetching templates:",Z),T("Error","Failed to fetch templates.")}finally{A.value=!1}}function s(W){y("createTemplate",{id:W,type:"template"})}function v(W){r.push({name:"templatesview",params:{id:W}})}const I=async W=>{try{await H.delete(`/api/templates/${W}`),D(),d("Template Deleted","The template has been deleted successfully.")}catch(Z){console.error("Error deleting template:",Z),T("Error","Failed to delete template.")}},E=async W=>{try{await H.post("/api/templates/delete-many",{ids:W}),D(),d("Templates Deleted","The templates have been deleted successfully."),u.value=!1,ce.emit("deleteManyTemplatesSuccess")}catch(Z){console.error("Error deleting templates:",Z),T("Error","Failed to delete templates."),u.value=!1}},L=W=>{g.value=W,U.value=Math.random(),m("DialogNewTemplate")},K=()=>{D(),U.value=Math.random()};function i(W){W.altKey&&W.key==="n"&&(W.preventDefault(),m("DialogNewTemplate"))}const V=Ee(()=>{n.value["filter[templateName]"]=S.value,P.value=1,D()},500);J([P,b],()=>{D()}),J(S,()=>{V()}),J(b,W=>{localStorage.setItem("perPage",W.toString())});function B(W){x.value===W?x.value=`-${W}`:x.value=W,D()}return{templates:k,isLoading:A,currentPage:P,perPage:b,lastPage:$,editId:g,newTemplateModalKey:U,searchTerm:S,openDialog:m,fetchTemplates:D,createTemplate:s,viewTemplateDetailsPane:v,deleteTemplate:I,deleteManyTemplates:E,handleSave:K,handleKeyDown:i,viewEditDialog:L,toggleSort:B,sortParam:x,showConfirmDelete:u}}const rn={class:"flex flex-col h-full gap-1 text-center"},un={class:"flex items-center justify-between p-4"},cn={class:"flex items-center"},mn={class:"flex"},vn={class:"px-6"},pn={class:"border-b"},fn={key:0,class:"mr-2"},gn={__name:"Main",emits:["createTemplate"],setup(y,{emit:P}){const b=P,{templates:x,isLoading:S,currentPage:n,perPage:p,lastPage:g,editId:A,newTemplateModalKey:$,searchTerm:U,openDialog:k,fetchTemplates:u,createTemplate:r,viewTemplateDetailsPane:m,deleteTemplate:d,deleteManyTemplates:T,handleSave:D,handleKeyDown:s,viewEditDialog:v,toggleSort:I,sortParam:E,showConfirmDelete:L}=dn(b),{importTemplates:K,importingTemplates:i}=nl(),{selectedRows:V,selectAll:B,toggleSelectAll:W,toggleSelectRow:Z}=Ne(x);return ee(()=>{u(),window.addEventListener("keydown",s),ce.on("deleteManyTemplatesSuccess",()=>{V.value=[],B.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",s)}),(le,j)=>{const oe=w("Input"),_=w("Button"),Y=w("Icon"),fe=w("Checkbox"),O=w("router-link"),te=w("Badge"),de=w("Toaster");return o(),h("div",rn,[a("div",un,[a("div",cn,[t(oe,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter templates...",modelValue:e(U),"onUpdate:modelValue":j[0]||(j[0]=G=>se(U)?U.value=G:null)},null,8,["modelValue"]),t(_,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:j[1]||(j[1]=G=>U.value="")},{default:l(()=>j[13]||(j[13]=[c(" Clear Filter ")])),_:1})]),a("div",mn,[e(V).length?(o(),N(_,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:j[2]||(j[2]=ae(G=>L.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(V).length)+" Template(s) ",1)]),_:1})):M("",!0),t(_,{type:"close",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700",onClick:j[3]||(j[3]=G=>e(K)()),variant:"outline"},{default:l(()=>[e(i)?M("",!0):(o(),N(Y,{key:0,icon:"mdi:github",class:"mr-2"})),t(rt,{state:e(i)},null,8,["state"]),j[14]||(j[14]=c(" Import Templates "))]),_:1}),t(_,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:j[4]||(j[4]=ae(G=>e(r)(e(A)),["prevent"])),variant:"primary"},{default:l(()=>j[15]||(j[15]=[c(" New Template "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1})])]),a("div",vn,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(q),{class:"w-[2%]"},{default:l(()=>[t(fe,{id:"selectAll",modelValue:e(B),"onUpdate:modelValue":j[5]||(j[5]=G=>se(B)?B.value=G:null),checked:e(B),onClick:j[6]||(j[6]=G=>e(W)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:l(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:j[7]||(j[7]=G=>e(I)("id"))},{default:l(()=>[t(Y,{icon:e(E)==="id"?"lucide:sort-asc":e(E)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),j[16]||(j[16]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:j[8]||(j[8]=G=>e(I)("templateName"))},{default:l(()=>[t(Y,{icon:e(E)==="templateName"?"lucide:sort-asc":e(E)==="-templateName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),j[17]||(j[17]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>j[18]||(j[18]=[c("Description")])),_:1}),t(e(q),{class:"w-[40%]"},{default:l(()=>j[19]||(j[19]=[c("Devices")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>j[20]||(j[20]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(S)?(o(),N(Me,{key:0})):e(S)?(o(),N(Ae,{key:2})):(o(!0),h(X,{key:1},Q(e(x).data,G=>(o(),N(e(ie),{key:G.id},{default:l(()=>[t(e(R),{class:"text-start"},{default:l(()=>[t(fe,{class:"cursor-pointer",id:"select-"+G.id,checked:!!e(V).includes(G.id),onClick:ge=>e(Z)(G.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(G.id),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(_,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:ge=>e(m)(G.id)},{default:l(()=>[a("span",pn,C(G.templateName),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(G.description),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(G.device.slice(0,8),(ge,Xe)=>(o(),h("span",{key:ge.device_name,class:"mr-2"},[t(te,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(O,{to:ge.view_url},{default:l(()=>[c(C(ge.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),G.device.length>8?(o(),h("span",fn,[t(Ge,{recordName:G.templateName,items:G.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(je,{rowData:G,onOnEdit:ge=>e(m)(G.id),onOnDelete:ge=>e(d)(G.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(n),lastPage:e(g),perPage:e(p),"onUpdate:currentPage":j[9]||(j[9]=G=>n.value=G),"onUpdate:perPage":j[10]||(j[10]=G=>p.value=G)},null,8,["currentPage","lastPage","perPage"]),t($e,{ids:e(V),showConfirmDelete:e(L),onClose:j[11]||(j[11]=G=>L.value=!1),onHandleDelete:j[12]||(j[12]=G=>e(T)(e(V)))},null,8,["ids","showConfirmDelete"]),t(de)])])}}},_n={class:"grid gap-2 py-4"},yn={class:"grid items-center grid-cols-4 gap-4"},bn={class:"flex flex-col w-full space-y-2"},xn={key:0,class:"text-red-400"},kn={class:"pl-2 ml-auto"},wn={class:"rc-kdb-class2"},$n={class:"pl-2 ml-auto"},Cn={class:"rc-kdb-class2"},hn={__name:"VendorAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:x,toastInfo:S,toastWarning:n,toastDefault:p}=re(),g=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=g,k=P;f([]);const u=f([]),r=f({vendorName:""}),m=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{m.editId>0&&H.get(`/api/vendors/${m.editId}`).then(D=>{r.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=m.editId>0?`/${m.editId}`:"",s=m.editId>0?"patch":"post";H[s]("/api/vendors"+D,r.value).then(v=>{k("save",v.data),b("Vendor created","The vendor has been created successfully."),$("DialogNewVendor")}).catch(v=>{u.value=v.response.data.errors})}return(D,s)=>{const v=w("Label"),I=w("Input"),E=w("Button"),L=w("Icon");return o(),N(e(Se),{open:e(U)("DialogNewVendor")},{default:l(()=>[t(e(Ce),{"as-child":""}),t(e(he),{class:"w-full",onEscapeKeyDown:s[4]||(s[4]=K=>e($)("DialogNewVendor")),onPointerDownOutside:s[5]||(s[5]=K=>e($)("DialogNewVendor")),onCloseClicked:s[6]||(s[6]=K=>e($)("DialogNewVendor"))},{default:l(()=>[t(e(De),null,{default:l(()=>[t(e(Ie),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Vendor "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your vendor here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",_n,[a("div",yn,[t(v,{for:"vendorName",class:"text-right"},{default:l(()=>s[7]||(s[7]=[c(" Vendor Name ")])),_:1}),t(I,{modelValue:r.value.vendorName,"onUpdate:modelValue":s[0]||(s[0]=K=>r.value.vendorName=K),id:"vendorName",class:"col-span-3"},null,8,["modelValue"])])]),a("div",bn,[u.value.vendorName?(o(),h("span",xn,C(u.value.vendorName[0]),1)):M("",!0)]),t(e(Ve),null,{default:l(()=>[t(E,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[1]||(s[1]=K=>e($)("DialogNewVendor")),size:"sm"},{default:l(()=>s[8]||(s[8]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),m.editId===0?(o(),N(E,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[2]||(s[2]=K=>T()),variant:"primary"},{default:l(()=>[s[10]||(s[10]=c(" Save ")),a("div",kn,[a("kbd",wn,[s[9]||(s[9]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),m.editId>0?(o(),N(E,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=K=>T()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=c(" Update ")),a("div",$n,[a("kbd",Cn,[s[11]||(s[11]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Dn(){const y=f(1),P=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),x=f(""),S=f({}),n=ue(),p=f(0),g=f(!1),A=f(1),$=f(1),U=f([]),k=f(!1),{openDialog:u}=n,{toastSuccess:r,toastError:m}=re();async function d(V={}){g.value=!0;try{const B=await H.get("/api/vendors",{params:{page:y.value,perPage:P.value,sort:b.value,...S.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching vendors:",B),m("Error","Failed to fetch vendors.")}finally{g.value=!1}}const T=V=>{p.value=0,$.value=Math.random(),u("DialogNewVendor")};function D(V){p.value=V,$.value=Math.random(),u("DialogNewVendor")}const s=async V=>{try{await H.delete(`/api/vendors/${V}`),d(),r("Vendor Deleted","The vendor has been deleted successfully.")}catch(B){console.error("Error deleting vendor:",B),m("Error","Failed to delete vendor.")}},v=async V=>{try{await H.post("/api/vendors/delete-many",{ids:V}),d(),r("Vendors Deleted","The vendors have been deleted successfully."),k.value=!1,ce.emit("deleteManyVendorsSuccess")}catch(B){console.error("Error deleting vendors:",B),m("Error","Failed to delete vendors."),k.value=!1}},I=V=>{p.value=V,$.value=Math.random(),u("DialogNewVendor")},E=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewVendor"))}const K=Ee(()=>{S.value["filter[vendorName]"]=x.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(x,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{vendors:U,isLoading:g,currentPage:y,perPage:P,lastPage:A,editId:p,newVendorModalKey:$,searchTerm:x,openDialog:u,fetchVendors:d,createVendor:T,updateVendor:D,deleteVendor:s,deleteManyVendors:v,handleSave:E,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:k}}const In={class:"flex flex-col h-full gap-1 text-center"},Vn={class:"flex items-center justify-between p-4"},Sn={class:"flex items-center"},En={class:"flex"},Nn={class:"px-6"},Pn={key:0,class:"mr-2"},Tn={__name:"Main",setup(y){const{editId:P,vendors:b,currentPage:x,perPage:S,searchTerm:n,lastPage:p,isLoading:g,fetchVendors:A,viewEditDialog:$,createVendor:U,deleteVendor:k,deleteManyVendors:u,handleSave:r,handleKeyDown:m,newVendorModalKey:d,toggleSort:T,sortParam:D,showConfirmDelete:s}=Dn(),{selectedRows:v,selectAll:I,toggleSelectAll:E,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",m),ce.on("deleteManyVendorsSuccess",()=>{v.value=[],I.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",m)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",In,[a("div",Vn,[a("div",Sn,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter vendors...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",En,[e(v).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>s.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(v).length)+" Tag(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New Vendor "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Nn,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(q),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(E)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(T)("id"))},{default:l(()=>[t(Z,{icon:e(D)==="id"?"lucide:sort-asc":e(D)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(T)("vendorName"))},{default:l(()=>[t(Z,{icon:e(D)==="vendorName"?"lucide:sort-asc":e(D)==="-vendorName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[50%]"},{default:l(()=>i[16]||(i[16]=[c("Devices")])),_:1}),t(e(q),{class:"w-[10%]"},{default:l(()=>i[17]||(i[17]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(g)?(o(),N(Me,{key:0})):e(g)?(o(),N(Ae,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(R),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(v).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[c(C(_.vendorName),1)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.device.slice(0,8),(Y,fe)=>(o(),h("span",{key:Y.device_name,class:"mr-2"},[t(j,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",Pn,[t(Ge,{recordName:_.vendorName,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(R),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(k)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(x),lastPage:e(p),perPage:e(S),"onUpdate:currentPage":i[7]||(i[7]=_=>x.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>S.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(hn,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(d),editId:e(P)},null,8,["editId"])),t($e,{ids:e(v),showConfirmDelete:e(s),onClose:i[10]||(i[10]=_=>s.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(v)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Mn={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},An={key:0,class:"border-t border-b topRow"},Un={class:"flex items-center gap-2"},Bn={class:"flex items-center gap-2 mr-4"},Fn={class:"flex items-center gap-2"},Ln={key:1},ed={__name:"Main",props:{},setup(y){const P=f(null),b=f(0),x=f(1),S=jt(),n=f(localStorage.getItem("inventorySelectedView")||"devices"),p=zt(),g=Oe(),A=[{id:"devices",label:"Devices",icon:"DeviceIcon",isFavorite:f(!1),route:"/devices"},{id:"commandgroups",label:"Command Groups",icon:"CommandGroupIcon",isFavorite:f(!1),route:"/commandgroups"},{id:"commands",label:"Commands",icon:"CommandsIcon",isFavorite:f(!1),route:"/commands"},{id:"templates",label:"Templates",icon:"TemplateIcon",isFavorite:f(!1),route:"/templates"},{id:"vendors",label:"Vendors",icon:"VendorIcon",isFavorite:f(!1),route:"/vendors"},{id:"tags",label:"Tags",icon:"TagIcon",isFavorite:f(!1),route:"/tags"}];ee(()=>{p.params.view?$(p.params.view):p.name==="devicesview"?$(p.name):p.path.includes("inventory")||$(p.name),A.forEach(u=>{u.isFavorite.value=S.isFavorite(u.id)})});function $(u){localStorage.setItem("inventorySelectedView",u),n.value=u,g.push({name:u})}function U(u){const r=A.find(m=>m.id===u);r&&(r.isFavorite.value=!r.isFavorite.value,S.toggleFavorite(r))}function k(u){P.value=u.type,b.value=u.id,x.value+=1}return(u,r)=>{const m=w("Icon"),d=w("Button"),T=w("StarUnselected"),D=w("StarSelected");return o(),h("main",Mn,[P.value===null?(o(),h("div",An,[t(e(at),null,{default:l(()=>{var s,v;return[t(e(lt),{"as-child":"",class:"p-4 ml-2"},{default:l(()=>[t(d,{variant:"outline"},{default:l(()=>[a("span",Un,[t(m,{icon:"fluent-color:pin-16"}),r[3]||(r[3]=c(" Select View "))])]),_:1})]),_:1}),a("div",Bn,[(o(),N(Ze(((s=A.find(I=>I.id===n.value))==null?void 0:s.icon)||""))),c(" "+C(((v=A.find(I=>I.id===n.value))==null?void 0:v.label)||""),1)]),t(e(st),{class:"w-56",align:"start"},{default:l(()=>[t(e(el),null,{default:l(()=>[(o(),h(X,null,Q(A,I=>t(e(Fe),{key:I.id,onClick:E=>$(I.id)},{default:l(()=>[a("span",Fn,[(o(),N(Ze(I.icon))),c(" "+C(I.label),1)]),t(e(Kt),null,{default:l(()=>[t(e(Ot),null,{default:l(()=>[t(e(Gt),{"as-child":""},{default:l(()=>[t(e(Le),{onClick:ae(E=>U(I.id),["stop","prevent"])},{default:l(()=>[I.isFavorite.value?M("",!0):(o(),N(T,{key:0})),I.isFavorite.value?(o(),N(D,{key:1})):M("",!0)]),_:2},1032,["onClick"])]),_:2},1024),t(e(qt),null,{default:l(()=>[a("p",null,C(I.isFavorite.value?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]}),_:1})])):M("",!0),P.value?M("",!0):(o(),h("div",Ln,[n.value==="devices"||n.value==="devicesview"?(o(),N(zo,{key:0,onViewDeviceDetailsPane:r[0]||(r[0]=s=>k(s))})):M("",!0),n.value==="commandgroups"?(o(),N(ls,{key:1})):M("",!0),n.value==="commands"?(o(),N(Pl,{key:2})):M("",!0),n.value==="templates"?(o(),N(gn,{key:3,onCreateTemplate:r[1]||(r[1]=s=>k(s)),onViewTemplateDetailsPane:r[2]||(r[2]=s=>k(s))})):M("",!0),n.value==="vendors"?(o(),N(Tn,{key:4})):M("",!0),n.value==="tags"?(o(),N(nn,{key:5})):M("",!0)]))])}}};export{ed as default};
