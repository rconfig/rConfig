import{b as w,o,q as N,w as l,d as t,e,g as c,i as a,t as C,c as h,F as X,v as Q,x as tt,j as M,u as re,r as g,s as ee,a as H,y as ne,z as $e,A as Ce,B as he,C as De,D as Ke,E as qe,G as Je,H as Ie,I as Ve,J,K as Se,L as se,M as ae,n as xe,N as pe,O as lt,P as st,Q as Fe,R as at,S as Ee,T as We,U as xt,V as kt,W as wt,X as $t,Y as Qe,Z as ot,$ as Ct,a0 as ht,a1 as Dt,a2 as nt,a3 as Oe,a4 as dt,a5 as It,a6 as Vt,a7 as St,a8 as Et,l as Nt,_ as Pt,f as Tt,m as Mt,h as At,a9 as Ut,aa as Bt,ab as Ft,ac as Lt,ad as Ze,ae as jt,af as zt,ag as Kt,ah as Ot}from"./app-D-LksT1L.js";import{u as Ne,_ as Pe,a as je,b as Te,c as Me,d as we,e as Gt,f as Rt,g as qt,h as Ht,i as Wt,j as Yt,k as Xt,l as Jt,m as Qt}from"./useRowSelection-DkqdmZBP.js";import{u as ue,_ as Ae,a as ie,b as R,c as Ue,d as q,e as Be,f as Le,g as Zt}from"./dialogActions-DRFjQfMW.js";import{_ as ce,a as fe,b as me}from"./PopoverContent-DwxZ63WB.js";import{_ as it,a as el,b as tl}from"./TagMultiSelect.vue_vue_type_script_setup_true_lang-1isd06Dw.js";import{_ as rt,a as ut}from"./Loading-CGgIIWSY.js";import{e as ve,_ as Ge}from"./DeviceListPopover-BXtQKOpB.js";import{_ as be}from"./ScrollArea-BspbKp9L.js";import{_ as ll}from"./CardFooter.vue_vue_type_script_setup_true_lang-DbnEczPX.js";import{u as sl}from"./useTemplatesGithub-7FS1MHe_.js";/* empty css               */const al={class:"space-y-2"},ol={class:"mb-2 text-sm text-muted-foreground"},nl={key:0,class:"text-xs text-muted-foreground"},dl={__name:"CategoryListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(y){return(P,b)=>{const k=w("Button"),E=w("router-link");return o(),N(e(me),null,{default:l(()=>[t(e(ce),{"as-child":""},{default:l(()=>[t(k,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>b[0]||(b[0]=[c(" ... ")])),_:1})]),_:1}),t(e(fe),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[a("div",al,[a("p",ol,"All command groups associated with "+C(y.recordName)+". Showing "+C(y.displayCount)+" records.",1)]),(o(!0),h(X,null,Q(y.items.slice(0,y.displayCount),n=>(o(),N(e(tt),{key:n[y.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(E,{to:n.view_url},{default:l(()=>[c(C(n[y.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),y.displayCount>y.displayCount-1?(o(),h("span",nl,[b[2]||(b[2]=a("br",null,null,-1)),c(" Displaying only "+C(y.displayCount)+" records. Visit the ",1),t(E,{to:"/commandgroups",class:"text-blue-500 hover:underline"},{default:l(()=>b[1]||(b[1]=[c(" Command Groups ")])),_:1}),b[3]||(b[3]=c(" page to view all devices. "))])):M("",!0)]),_:1})]),_:1})}}},il={key:0,class:"grid gap-2 py-4"},rl={class:"grid items-center grid-cols-4 gap-4"},ul={class:"grid items-center grid-cols-4 gap-4"},cl={class:"grid items-center grid-cols-4 gap-4"},ml={class:"flex flex-col w-full space-y-2"},vl={key:0,class:"text-red-400"},pl={key:1,class:"text-red-400"},fl={key:2,class:"text-red-400"},gl={class:"pl-2 ml-auto"},_l={class:"rc-kdb-class2"},yl={class:"pl-2 ml-auto"},bl={class:"rc-kdb-class2"},xl={__name:"CommandAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:k,toastInfo:E,toastWarning:n,toastDefault:m}=re(),f=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=f,x=P,u=g([]),r=g(!1),v=g({command:"",description:"",category:[]}),d=y;function T(s){s.ctrlKey&&s.key==="Enter"&&D()}ee(()=>{d.editId>0&&(r.value=!0,H.get(`/api/commands/${d.editId}`).then(s=>{v.value=s.data,v.value.categoryArray=s.data.category.map(p=>p.id)}),r.value=!1),window.addEventListener("keydown",T)}),ne(()=>{window.removeEventListener("keydown",T)});function D(){let s=d.editId>0?`/${d.editId}`:"",p=d.editId>0?"patch":"post";H[p]("/api/commands"+s,v.value).then(I=>{x("save",I.data),b("Command created","The command has been created successfully."),$("DialogNewCommand")}).catch(I=>{u.value=I.response.data.errors})}return(s,p)=>{const I=w("Button"),S=w("Icon");return o(),N(e(Ve),{open:e(U)("DialogNewCommand")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"sm:max-w-fit",onEscapeKeyDown:p[6]||(p[6]=L=>e($)("DialogNewCommand")),onPointerDownOutside:p[7]||(p[7]=L=>e($)("DialogNewCommand")),onCloseClicked:p[8]||(p[8]=L=>e($)("DialogNewCommand"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Command "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your command here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),t(rt,{state:r.value},null,8,["state"]),r.value?M("",!0):(o(),h("div",il,[a("div",rl,[t(e(qe),{for:"command",class:"text-right"},{default:l(()=>p[9]||(p[9]=[c(" Command Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(Je),{modelValue:v.value.command,"onUpdate:modelValue":p[0]||(p[0]=L=>v.value.command=L),id:"command",class:"col-span-3"},null,8,["modelValue"])]),a("div",ul,[t(e(qe),{for:"description",class:"text-right"},{default:l(()=>p[10]||(p[10]=[c(" Description ")])),_:1}),t(e(Je),{modelValue:v.value.description,"onUpdate:modelValue":p[1]||(p[1]=L=>v.value.description=L),id:"description",class:"col-span-3"},null,8,["modelValue"])]),a("div",cl,[t(e(qe),{for:"description",class:"text-right"},{default:l(()=>p[11]||(p[11]=[c(" Command Groups ")])),_:1}),t(it,{modelValue:v.value.category,"onUpdate:modelValue":p[2]||(p[2]=L=>v.value.category=L)},null,8,["modelValue"])])])),a("div",ml,[u.value.description?(o(),h("span",vl,C(u.value.description[0]),1)):M("",!0),u.value.command?(o(),h("span",pl,C(u.value.command[0]),1)):M("",!0),u.value.category?(o(),h("span",fl,C(u.value.category[0]),1)):M("",!0)]),t(e(Ie),null,{default:l(()=>[t(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:p[3]||(p[3]=L=>e($)("DialogNewCommand")),size:"sm"},{default:l(()=>p[12]||(p[12]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),d.editId===0?(o(),N(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:p[4]||(p[4]=L=>D()),variant:"primary"},{default:l(()=>[p[14]||(p[14]=c(" Save ")),a("div",gl,[a("kbd",_l,[p[13]||(p[13]=c(" Ctrl  ")),t(S,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),d.editId>0?(o(),N(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:p[5]||(p[5]=L=>D()),variant:"primary"},{default:l(()=>[p[16]||(p[16]=c(" Update ")),a("div",yl,[a("kbd",bl,[p[15]||(p[15]=c(" Ctrl  ")),t(S,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function kl(){const y=g(1),P=g(parseInt(localStorage.getItem("perPage")||"10")),b=g("-id"),k=g(""),E=g({}),n=ue(),m=g(0),f=g(!1),A=g(1),$=g(1),U=g([]),x=g(!1),{openDialog:u}=n,{toastSuccess:r,toastError:v}=re();async function d(V={}){f.value=!0;try{const B=await H.get("/api/commands",{params:{page:y.value,perPage:P.value,sort:b.value,...E.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching commands:",B),v("Error","Failed to fetch commands.")}finally{f.value=!1}}const T=V=>{m.value=0,$.value=Math.random(),u("DialogNewCommand")};function D(V){m.value=V,$.value=Math.random(),u("DialogNewCommand")}const s=async V=>{try{await H.delete(`/api/commands/${V}`),d(),r("Command Deleted","The command has been deleted successfully."),x.value=!1}catch(B){console.error("Error deleting command:",B),v("Error","Failed to delete command."),x.value=!1}},p=async V=>{try{await H.post("/api/commands/delete-many",{ids:V}),d(),r("Commands Deleted","The commands have been deleted successfully."),x.value=!1,ve.emit("deleteManyCommandsSuccess")}catch(B){console.error("Error deleting commands:",B),v("Error","Failed to delete commands."),x.value=!1}},I=V=>{m.value=V,$.value=Math.random(),u("DialogNewCommand")},S=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewCommand"))}const K=Se(()=>{E.value["filter[commandname]"]=k.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(k,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{commands:U,isLoading:f,currentPage:y,perPage:P,lastPage:A,editId:m,newCommandModalKey:$,searchTerm:k,openDialog:u,fetchCommands:d,createCommand:T,updateCommand:D,deleteCommand:s,deleteManyCommands:p,handleSave:S,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:x}}const wl={class:"flex flex-col h-full gap-1 text-center"},$l={class:"flex items-center justify-between p-4"},Cl={class:"flex items-center"},hl={class:"flex"},Dl={class:"px-6"},Il={key:0,class:"mr-2"},Vl={__name:"Main",setup(y){const{editId:P,commands:b,currentPage:k,perPage:E,searchTerm:n,lastPage:m,isLoading:f,fetchCommands:A,viewEditDialog:$,createCommand:U,deleteCommand:x,deleteManyCommands:u,handleSave:r,showConfirmDelete:v,handleKeyDown:d,newCommandModalKey:T,toggleSort:D,sortParam:s}=kl(),{selectedRows:p,selectAll:I,toggleSelectAll:S,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",d),ve.on("deleteManyCommandsSuccess",()=>{p.value=[],I.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",wl,[a("div",$l,[a("div",Cl,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter commands...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",hl,[e(p).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>v.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(p).length)+" Command(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New Command "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Dl,[t(e(Be),null,{default:l(()=>[t(e(Ae),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(S)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(D)("id"))},{default:l(()=>[t(Z,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(D)("tagname"))},{default:l(()=>[t(Z,{icon:e(s)==="tagname"?"lucide:sort-asc":e(s)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Command",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>i[16]||(i[16]=[c("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>i[17]||(i[17]=[c("Command Groups")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>i[18]||(i[18]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Ue),null,{default:l(()=>[e(f)?(o(),N(Pe,{key:0})):e(f)?(o(),N(Te,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(p).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.command),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.description),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.category.slice(0,8),(Y,ge)=>(o(),h("span",{key:Y.categoryName,class:"mr-2"},[t(j,{variant:"outline",class:xe([Y.badgeColor?Y.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","py-1 mt-1 hover:bg-rcgray-800"])},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.categoryName),1)]),_:2},1032,["to"])]),_:2},1032,["class"])]))),128)),_.category.length>8?(o(),h("span",Il,[t(dl,{recordName:_.command,items:_.category,displayField:"categoryName"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(x)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(k),lastPage:e(m),perPage:e(E),"onUpdate:currentPage":i[7]||(i[7]=_=>k.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>E.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(xl,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(T),editId:e(P)},null,8,["editId"])),t(we,{ids:e(p),showConfirmDelete:e(v),onClose:i[10]||(i[10]=_=>v.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(p)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Sl={class:"py-1"},El={class:"grid grid-cols-3 gap-2 mt-4 place-items-center"},Nl=["onClick"],Pl=pe({__name:"BadgeColorSelector",emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g({}),E=[{label:"Lime",bgClass:"bg-lime-400 text-lime-900 border-lime-300"},{label:"Yellow",bgClass:"bg-yellow-400 text-yellow-900 border-yellow-300"},{label:"Teal",bgClass:"bg-teal-400 text-teal-900 border-teal-300"},{label:"Sky",bgClass:"bg-sky-400 text-sky-900 border-sky-300"},{label:"Pink",bgClass:"bg-pink-400 text-pink-900 border-pink-300"},{label:"Emerald",bgClass:"bg-emerald-400 text-emerald-900 border-emerald-300"},{label:"Orange",bgClass:"bg-orange-400 text-orange-900 border-orange-300"},{label:"Amber",bgClass:"bg-amber-400 text-amber-900 border-amber-300"},{label:"Fuchsia",bgClass:"bg-fuchsia-400 text-fuchsia-900 border-fuchsia-300"},{label:"Rose",bgClass:"bg-rose-400 text-rose-900 border-rose-300"},{label:"Violet",bgClass:"bg-violet-500 text-violet-100 border-violet-600"},{label:"Indigo",bgClass:"bg-indigo-500 text-indigo-100 border-indigo-600"},{label:"Blue",bgClass:"bg-blue-500 text-blue-100 border-blue-600"},{label:"Green",bgClass:"bg-green-500 text-green-100 border-green-600"},{label:"Purple",bgClass:"bg-purple-500 text-purple-100 border-purple-600"},{label:"Stone",bgClass:"bg-stone-600 text-stone-200 border-stone-700"},{label:"Red",bgClass:"bg-red-600 text-red-100 border-red-700"},{label:"Fuchsia Dark",bgClass:"bg-fuchsia-700 text-fuchsia-200 border-fuchsia-800"},{label:"Violet Dark",bgClass:"bg-violet-700 text-violet-200 border-violet-800"},{label:"Teal Dark",bgClass:"bg-teal-700 text-teal-200 border-teal-800"}];function n(m){k.value=m,b("update:modelValue",m.bgClass)}return(m,f)=>{const A=w("Button"),$=w("Separator");return o(),N(e(me),null,{default:l(()=>[f[0]||(f[0]=a("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),t(e(ce),{class:"col-span-3"},{default:l(()=>[t(A,{variant:"ghost",class:"flex flex-wrap items-start justify-start w-full p-1 pl-2 whitespace-normal border h-fit"},{default:l(()=>[a("div",{class:xe(["h-6 px-2 border-2 border-transparent rounded-full cursor-pointer w-fit",Object.keys(k.value).length===0?"bg-gray-600 text-gray-200 border-gray-500":k.value.bgClass])},C(Object.keys(k.value).length===0?"Select color":k.value.label),3)]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[t($),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Sl,[a("div",El,[(o(),h(X,null,Q(E,(U,x)=>a("div",{key:x,class:xe(["cursor-pointer w-6 h-6 rounded-full border-2",U.bgClass,k.value.value===x?"ring-2 ring-offset-2 ring-black":"border-transparent"]),onClick:u=>n(U)},null,10,Nl)),64))])])]),_:1})]),_:1})]),_:1})}}}),Tl={class:"grid gap-2 py-4"},Ml={class:"grid items-center grid-cols-4 gap-4"},Al={class:"grid items-center grid-cols-4 gap-4"},Ul={class:"grid items-center grid-cols-4 gap-4"},Bl={class:"flex flex-col w-full space-y-2"},Fl={key:0,class:"text-red-400"},Ll={key:1,class:"text-red-400"},jl={class:"pl-2 ml-auto"},zl={class:"rc-kdb-class2"},Kl={class:"pl-2 ml-auto"},Ol={class:"rc-kdb-class2"},Gl={__name:"CommandGroupAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:k,toastInfo:E,toastWarning:n,toastDefault:m}=re(),f=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=f,x=P;g([]);const u=g([]),r=g({categoryName:"",categoryDescription:"",badgeColor:{}}),v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{v.editId>0&&H.get(`/api/categories/${v.editId}`).then(D=>{r.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";H[s]("/api/categories"+D,r.value).then(p=>{x("save",p.data),b("Command Group created","The tag has been created successfully."),$("DialogNewCommandGroups")}).catch(p=>{u.value=p.response.data.errors})}return(D,s)=>{const p=w("Label"),I=w("Input"),S=w("Button"),L=w("Icon");return o(),N(e(Ve),{open:e(U)("DialogNewCommandGroups")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"sm:max-w-fit",onEscapeKeyDown:s[6]||(s[6]=K=>e($)("DialogNewCommandGroups")),onPointerDownOutside:s[7]||(s[7]=K=>e($)("DialogNewCommandGroups")),onCloseClicked:s[8]||(s[8]=K=>e($)("DialogNewCommandGroups"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Command Group "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your command group here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",Tl,[a("div",Ml,[t(p,{for:"categoryName",class:"text-right"},{default:l(()=>s[9]||(s[9]=[c(" Name ")])),_:1}),t(I,{modelValue:r.value.categoryName,"onUpdate:modelValue":s[0]||(s[0]=K=>r.value.categoryName=K),id:"categoryName",class:"col-span-3"},null,8,["modelValue"])]),a("div",Al,[t(p,{for:"categoryDescription",class:"text-right"},{default:l(()=>s[10]||(s[10]=[c(" Description ")])),_:1}),t(I,{modelValue:r.value.categoryDescription,"onUpdate:modelValue":s[1]||(s[1]=K=>r.value.categoryDescription=K),id:"categoryDescription",class:"col-span-3"},null,8,["modelValue"])]),a("div",Ul,[t(p,{for:"categoryDescription",class:"text-right"},{default:l(()=>s[11]||(s[11]=[c(" Color ")])),_:1}),t(Pl,{modelValue:r.value.badgeColor,"onUpdate:modelValue":s[2]||(s[2]=K=>r.value.badgeColor=K)},null,8,["modelValue"])])]),a("div",Bl,[u.value.categoryDescription?(o(),h("span",Fl,C(u.value.categoryDescription[0]),1)):M("",!0),u.value.categoryName?(o(),h("span",Ll,C(u.value.categoryName[0]),1)):M("",!0)]),t(e(Ie),null,{default:l(()=>[t(S,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[3]||(s[3]=K=>e($)("DialogNewCommandGroups")),size:"sm"},{default:l(()=>s[12]||(s[12]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),N(S,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=K=>T()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=c(" Save ")),a("div",jl,[a("kbd",zl,[s[13]||(s[13]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),v.editId>0?(o(),N(S,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[5]||(s[5]=K=>T()),variant:"primary"},{default:l(()=>[s[16]||(s[16]=c(" Update ")),a("div",Kl,[a("kbd",Ol,[s[15]||(s[15]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Rl(){const y=g(1),P=g(parseInt(localStorage.getItem("perPage")||"10")),b=g("-id"),k=g(""),E=g({}),n=ue(),m=g(0),f=g(!1),A=g(1),$=g(1),U=g([]),x=g(!1),{openDialog:u}=n,{toastSuccess:r,toastError:v}=re();async function d(V={}){f.value=!0;try{const B=await H.get("/api/categories",{params:{page:y.value,perPage:P.value,sort:b.value,...E.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching categories:",B),v("Error","Failed to fetch categories.")}finally{f.value=!1}}const T=V=>{m.value=0,$.value=Math.random(),u("DialogNewCommandGroups")};function D(V){m.value=V,$.value=Math.random(),u("DialogNewCommandGroups")}const s=async V=>{try{await H.delete(`/api/categories/${V}`),d(),r("CommandGroups Deleted","The Command Group has been deleted successfully.")}catch(B){console.error("Error deleting Command Group:",B),v("Error","Failed to delete Command Group.")}},p=async V=>{try{await H.post("/api/categories/delete-many",{ids:V}),d(),r("CommandGroups Deleted","The command groups have been deleted successfully."),x.value=!1,ve.emit("deleteManyCommandGroupsSuccess")}catch(B){console.error("Error deleting command groups:",B),v("Error","Failed to delete command groups."),x.value=!1}},I=V=>{m.value=V,$.value=Math.random(),u("DialogNewCommandGroups")},S=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewCommandGroups"))}const K=Se(()=>{E.value["filter[categoryName]"]=k.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(k,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{categories:U,isLoading:f,currentPage:y,perPage:P,lastPage:A,editId:m,newCommandGroupsModalKey:$,searchTerm:k,openDialog:u,fetchCommandGroups:d,createCommandGroup:T,updateCommandGroup:D,deleteCommandGroup:s,deleteManyCommandGroups:p,handleSave:S,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:x}}const ql={class:"flex flex-col h-full gap-1 text-center"},Hl={class:"flex items-center justify-between p-4"},Wl={class:"flex items-center"},Yl={class:"flex"},Xl={class:"px-6"},Jl={key:0,class:"mr-2"},Ql={__name:"Main",setup(y){const{editId:P,categories:b,currentPage:k,perPage:E,searchTerm:n,lastPage:m,isLoading:f,fetchCommandGroups:A,viewEditDialog:$,createCommandGroup:U,deleteCommandGroup:x,deleteManyCommandGroups:u,handleSave:r,showConfirmDelete:v,handleKeyDown:d,newCommandGroupModalKey:T,toggleSort:D,sortParam:s}=Rl(),{selectedRows:p,selectAll:I,toggleSelectAll:S,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",d),ve.on("deleteManyCommandGroupsSuccess",()=>{p.value=[],I.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",ql,[a("div",Hl,[a("div",Wl,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter categories...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",Yl,[e(p).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>v.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(p).length)+" CommandGroup(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New CommandGroup "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Xl,[t(e(Be),null,{default:l(()=>[t(e(Ae),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(S)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(D)("id"))},{default:l(()=>[t(Z,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(D)("categoryName"))},{default:l(()=>[t(Z,{icon:e(s)==="categoryName"?"lucide:sort-asc":e(s)==="-categoryName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>i[16]||(i[16]=[c("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>i[17]||(i[17]=[c("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>i[18]||(i[18]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Ue),null,{default:l(()=>[e(f)?(o(),N(Pe,{key:0})):e(f)?(o(),N(Te,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(p).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.categoryName),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.categoryDescription),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.device.slice(0,8),(Y,ge)=>(o(),h("span",{key:Y.device_name,class:"mr-2"},[t(j,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",Jl,[t(Ge,{recordName:_.categoryName,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(x)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(k),lastPage:e(m),perPage:e(E),"onUpdate:currentPage":i[7]||(i[7]=_=>k.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>E.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(Gl,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(T),editId:e(P)},null,8,["editId"])),t(we,{ids:e(p),showConfirmDelete:e(v),onClose:i[10]||(i[10]=_=>v.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(p)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Zl={__name:"ConfirmDisableAlert",props:{ids:{type:Array,required:!0},showConfirmDisable:{type:Boolean,required:!0}},emits:["handleDisable","close"],setup(y,{emit:P}){const b=P;ee(()=>{window.addEventListener("keydown",n=>{n.key==="Escape"&&E()})}),ne(()=>{window.removeEventListener("keydown",n=>{n.key==="Escape"&&E()})});function k(){b("handleDisable")}function E(){b("close")}return(n,m)=>(o(),N(e(Jt),{open:y.showConfirmDisable},{default:l(()=>[t(e(Gt),null,{default:l(()=>[t(e(Rt),null,{default:l(()=>[t(e(qt),null,{default:l(()=>[c("Disable device with ID "+C(y.ids)+"?",1)]),_:1}),t(e(Ht),null,{default:l(()=>m[2]||(m[2]=[c("Are you absolutely sure you want to disable this device? Disabling a device stops it from downloading configs via scheduled tasks and other operations.")])),_:1})]),_:1}),t(e(Wt),null,{default:l(()=>[t(e(Yt),{onCancel:m[0]||(m[0]=f=>E())},{default:l(()=>m[3]||(m[3]=[c("Cancel")])),_:1}),t(e(Xt),{onAction:m[1]||(m[1]=f=>k())},{default:l(()=>m[4]||(m[4]=[c("Continue")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}},es={__name:"ActionsMenuDevices",props:{rowData:{type:Object,required:!0},showEditBtn:{type:Boolean,default:!0}},emits:["onEdit","onDelete","onDisable"],setup(y,{emit:P}){const b=g(!1),k=g(!1),E=P;function n(){E("onEdit")}function m(){b.value=!0}function f(){k.value=!0}function A(){E("onDisable"),k.value=!1}function $(){E("onEnable")}return(U,x)=>{const u=w("Button"),r=w("Icon");return o(),h("div",null,[t(e(at),null,{default:l(()=>[t(e(lt),{"as-child":""},{default:l(()=>[t(u,{variant:"ghost",class:"hover:animate-pulse"},{default:l(()=>x[2]||(x[2]=[c(" ... ")])),_:1})]),_:1}),t(e(st),{class:"w-56",align:"end",side:"bottom"},{default:l(()=>[y.showEditBtn?(o(),N(e(Fe),{key:0,class:"cursor-pointer hover:bg-rcgray-800",onClick:n},{default:l(()=>[x[3]||(x[3]=a("span",null,"Edit",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"fluent-color:text-edit-style-16"})]),_:1})]),_:1})):M("",!0),y.showEditBtn?(o(),N(e(Zt),{key:1})):M("",!0),y.rowData.status===100?(o(),N(e(Fe),{key:2,class:"cursor-pointer hover:bg-rcgray-800",onClick:$},{default:l(()=>[x[4]||(x[4]=a("span",null,"Enable",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"emojione-v1:up-arrow"})]),_:1})]),_:1})):M("",!0),y.rowData.status!=100?(o(),N(e(Fe),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:f},{default:l(()=>[x[5]||(x[5]=a("span",null,"Disable",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"emojione-v1:down-arrow"})]),_:1})]),_:1})):M("",!0),t(e(Fe),{class:"cursor-pointer hover:bg-rcgray-800",onClick:m},{default:l(()=>[x[6]||(x[6]=a("span",{class:"text-red-400"},"Delete",-1)),t(e(Le),null,{default:l(()=>[t(r,{icon:"flat-color-icons:full-trash"})]),_:1})]),_:1})]),_:1})]),_:1}),t(Zl,{ids:[y.rowData.id],showConfirmDisable:k.value,onClose:x[0]||(x[0]=v=>k.value=!1),onHandleDisable:A},null,8,["ids","showConfirmDisable"]),t(we,{ids:[y.rowData.id],showConfirmDelete:b.value,onClose:x[1]||(x[1]=v=>b.value=!1),onHandleDelete:A},null,8,["ids","showConfirmDelete"])])}}},ts={class:"flex items-center"},ls={class:"ml-2"},ss={class:"grid gap-2 p-4"},as={class:"grid items-center grid-cols-1 gap-4"},os={key:0,class:"col-start-2 -mt-4 text-sm text-red-400"},ns={class:"pl-2 ml-auto"},ds={class:"rc-kdb-class2"},is={class:"pl-2 ml-auto"},rs={class:"rc-kdb-class2"},us={__name:"DeviceModelAddDialog",props:{editId:{type:Number,default:0}},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:k,toastInfo:E,toastWarning:n,toastDefault:m}=re(),f=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=f,x=P;g([]);const u=g([]),r=g({name:""});g("");const v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";H[s]("/api/device-models"+D,r.value).then(p=>{x("save"),b("Device Model created","The device model has been created successfully."),$("DialogDeviceModelAdd"),r.value={name:""}}).catch(p=>{u.value=p.response.data.errors})}return(D,s)=>{const p=w("Icon"),I=w("Button"),S=w("UserIcon"),L=w("Label"),K=w("Input");return o(),N(e(Ve),{open:e(U)("DialogDeviceModelAdd")},{default:l(()=>[t(e($e),{"as-child":""},{default:l(()=>[t(I,{variant:"ghost",onClick:s[0]||(s[0]=i=>e(A)("DialogDeviceModelAdd")),class:"justify-start w-full p-1"},{default:l(()=>[t(p,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),s[8]||(s[8]=a("span",null,"Create new record",-1))]),_:1})]),_:1}),t(e(Ce),{class:"p-0 sm:max-w-1/3",onEscapeKeyDown:s[5]||(s[5]=i=>e($)("DialogDeviceModelAdd")),onPointerDownOutside:s[6]||(s[6]=i=>e($)("DialogDeviceModelAdd")),onCloseClicked:s[7]||(s[7]=i=>e($)("DialogDeviceModelAdd"))},{default:l(()=>[t(e(he),{class:"rc-dialog-header"},{default:l(()=>[t(e(De),{class:"text-sm text-rcgray-200"},{default:l(()=>[a("div",ts,[t(S),a("span",ls,C(y.editId>0?"Edit":"Add")+" Device Model "+C(y.editId>0?"(ID: "+y.editId+")":""),1)])]),_:1})]),_:1}),a("div",ss,[a("div",as,[t(L,{for:"name",class:"text-left"},{default:l(()=>s[9]||(s[9]=[c(" Device Model Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(K,{modelValue:r.value.name,"onUpdate:modelValue":s[1]||(s[1]=i=>r.value.name=i),id:"name",class:"col-span-3",autocomplete:"off"},null,8,["modelValue"]),u.value.name?(o(),h("span",os,C(u.value.name[0]),1)):M("",!0)])]),t(e(Ie),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[2]||(s[2]=i=>e($)("DialogDeviceModelAdd")),size:"sm"},{default:l(()=>s[10]||(s[10]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),N(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=i=>T()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=c(" Save ")),a("div",ns,[a("kbd",ds,[s[11]||(s[11]=c(" Ctrl  ")),t(p,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),v.editId>0?(o(),N(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=i=>T()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=c(" Update ")),a("div",is,[a("kbd",rs,[s[13]||(s[13]=c(" Ctrl  ")),t(p,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}},cs={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},ms={class:"relative items-center w-full"},vs={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},ps={class:"py-1"},fs=["onClick"],gs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},_s={"data-size":"20"},ys={class:"p-1 border-5"},bs=pe({__name:"DeviceModelMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([]);g([]);const E=g(!1),n=g(""),m=g([]),f=y,A=Ee(()=>k.value.filter(r=>r.name.toLowerCase().includes(n.value.toLowerCase())&&!m.value.some(v=>v.id===r.id)));J(()=>f.modelValue,r=>{m.value=r}),ee(()=>{x(),f.modelValue&&f.modelValue.length>0&&(m.value=f.modelValue)});function $(r){f.singleSelect?m.value=[r]:m.value.push(r),E.value=!1,n.value="",b("update:modelValue",m.value)}function U(r){const v=m.value.findIndex(d=>d.name===r);v!==-1&&m.value.splice(v,1),b("update:modelValue",m.value)}function x(){H.get("/api/device-models/?perPage=10000").then(r=>{k.value=r.data.data})}function u(){x()}return(r,v)=>{const d=w("Icon"),T=w("Button"),D=w("Input"),s=w("Separator");return o(),N(e(me),null,{default:l(()=>[t(e(ce),{class:"col-span-3"},{default:l(()=>[t(T,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",m.value.length===0?"text-muted-foreground":" "]),style:We(m.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[c(C(m.value&&m.value.length===0?"Select device model":"")+" ",1),(o(!0),h(X,null,Q(m.value,p=>(o(),h("span",{key:p.id,class:"relative my-1 group"},[a("span",cs,[c(C(p.name)+" ",1),t(d,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(I=>U(p.name),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",ms,[t(D,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=p=>n.value=p),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",vs,[t(d,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(s),t(e(be),{class:"h-64"},{default:l(()=>[a("div",ps,[(o(!0),h(X,null,Q(A.value,p=>(o(),h("div",{key:p.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:I=>$(p)},[a("span",gs,[a("span",_s,C(p.name),1)])],8,fs))),128))])]),_:1}),t(s),a("div",ys,[t(us,{onSave:v[1]||(v[1]=p=>u())})])]),_:1})]),_:1})}}}),xs={class:"grid gap-4"},ks={class:"space-y-2"},ws={class:"flex items-center space-x-2"},$s={class:"font-medium leading-none"},Cs={class:"text-sm text-muted-foreground"},He=pe({__name:"HelpPopover",props:{title:{type:String,required:!0},content:{type:String,required:!0}},setup(y){return(P,b)=>{const k=w("Icon");return o(),N(e(me),null,{default:l(()=>[t(e(ce),{"as-child":""},{default:l(()=>[t(e(xt),{tabindex:"-1",variant:"ghost",class:"h-0 p-0 m-0 ml-1"},{default:l(()=>[t(k,{icon:"formkit:help"})]),_:1})]),_:1}),t(e(fe),{class:"w-80",side:"top",align:"start"},{default:l(()=>[a("div",xs,[a("div",ks,[a("div",ws,[t(k,{icon:"formkit:help"}),a("h4",$s,C(y.title),1)]),a("p",Cs,C(y.content),1)])])]),_:1})]),_:1})}}}),hs={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},Ds={class:"relative items-center w-full"},Is={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Vs={class:"py-1"},Ss=["onClick"],Es={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ns={"data-size":"20"},Ps={class:"p-1 border-5"},Ts=pe({__name:"TemplateMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([]);g([]);const E=g(!1),n=g(""),m=g([]),f=y,A=Ee(()=>k.value.filter(u=>u.templateName.toLowerCase().includes(n.value.toLowerCase())&&!m.value.some(r=>r.id===u.id)));J(()=>f.modelValue,u=>{m.value=u}),ee(()=>{x(),f.modelValue&&f.modelValue.length>0&&(m.value=f.modelValue)});function $(u){f.singleSelect?m.value=[u]:m.value.push(u),E.value=!1,n.value="",b("update:modelValue",m.value)}function U(u){const r=m.value.findIndex(v=>v.templateName===u);r!==-1&&m.value.splice(r,1),b("update:modelValue",m.value)}function x(){H.get("/api/templates/?perPage=10000").then(u=>{k.value=u.data.data})}return(u,r)=>{const v=w("Icon"),d=w("Button"),T=w("Input"),D=w("Separator");return o(),N(e(me),null,{default:l(()=>[t(e(ce),{class:"col-span-3"},{default:l(()=>[t(d,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",m.value.length===0?"text-muted-foreground":" "]),style:We(m.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[c(C(m.value&&m.value.length===0?"Select templates":"")+" ",1),(o(!0),h(X,null,Q(m.value,s=>(o(),h("span",{key:s.id,class:"relative my-1 group"},[a("span",hs,[c(C(s.templateName)+" ",1),t(v,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(p=>U(s.templateName),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",Ds,[t(T,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Is,[t(v,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Vs,[(o(!0),h(X,null,Q(A.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:p=>$(s)},[a("span",Es,[a("span",Ns,C(s.templateName),1)])],8,Ss))),128))])]),_:1}),t(D),a("div",Ps,[t(d,{variant:"ghost",class:"justify-start w-full p-1"},{default:l(()=>[t(v,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),r[1]||(r[1]=a("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}}),Ms={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},As={class:"relative items-center w-full"},Us={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Bs={class:"py-1"},Fs=["onClick"],Ls={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},js={"data-size":"20"},zs={class:"p-1 border-5"},Ks=pe({__name:"VendorMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([]);g([]);const E=g(!1),n=g(""),m=g([]),f=y,A=Ee(()=>k.value.filter(u=>u.vendorName.toLowerCase().includes(n.value.toLowerCase())&&!m.value.some(r=>r.id===u.id)));J(()=>f.modelValue,u=>{m.value=u}),ee(()=>{x(),f.modelValue&&f.modelValue.length>0&&m.value.push(...f.modelValue)});function $(u){f.singleSelect?m.value=[u]:m.value.push(u),E.value=!1,n.value="",b("update:modelValue",m.value)}function U(u){const r=m.value.findIndex(v=>v.vendorName===u);r!==-1&&m.value.splice(r,1),b("update:modelValue",m.value)}function x(){H.get("/api/vendors/?perPage=10000").then(u=>{k.value=u.data.data})}return(u,r)=>{const v=w("Icon"),d=w("Button"),T=w("Input"),D=w("Separator");return o(),N(e(me),null,{default:l(()=>[t(e(ce),{class:"col-span-3"},{default:l(()=>[t(d,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",m.value.length===0?"text-muted-foreground":" "]),style:We(m.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[c(C(m.value&&m.value.length===0?"Select vendors":"")+" ",1),(o(!0),h(X,null,Q(m.value,s=>(o(),h("span",{key:s.id,class:"relative my-1 group"},[a("span",Ms,[c(C(s.vendorName)+" ",1),t(v,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(p=>U(s.vendorName),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",As,[t(T,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Us,[t(v,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Bs,[(o(!0),h(X,null,Q(A.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:p=>$(s)},[a("span",Ls,[a("span",js,C(s.vendorName),1)])],8,Fs))),128))])]),_:1}),t(D),a("div",zs,[t(d,{variant:"ghost",class:"justify-start w-full p-1"},{default:l(()=>[t(v,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),r[1]||(r[1]=a("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}}),Os={class:"relative"},Gs=["id","type"],et=pe({__name:"Input-password",props:{defaultValue:{},modelValue:{},class:{},id:{}},emits:["update:modelValue"],setup(y,{emit:P}){const b=y,E=kt(b,"modelValue",P,{passive:!0,defaultValue:b.defaultValue}),n=g(!1);return(m,f)=>{const A=w("Icon");return o(),h("div",Os,[wt(a("input",{id:b.id,"onUpdate:modelValue":f[0]||(f[0]=$=>se(E)?E.value=$:null),type:n.value?"text":"password",autocomplete:"off",class:xe(e(Qe)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none focus-visible:ring-0",b.class,{"text-gray-500":!n.value}))},null,10,Gs),[[$t,e(E)]]),a("button",{tabindex:"-1",onClick:f[1]||(f[1]=$=>n.value=!n.value),type:"button",class:xe(e(Qe)("absolute inset-y-0 z-20 flex items-center px-3 cursor-pointer end-0 rounded-e-md focus:outline-none",n.value?"text-blue-600 dark:text-blue-500":"text-gray-400 dark:text-neutral-600"))},[n.value?(o(),N(A,{key:0,icon:"lucide:eye",class:"size-3.5 transition-transform duration-200 ease-in-out"})):(o(),N(A,{key:1,icon:"lucide:eye-off",class:"size-3.5 transition-transform duration-200 ease-in-out"}))],2)])}}});function Rs(y,P){const{toastSuccess:b,toastError:k,toastInfo:E,toastWarning:n,toastDefault:m}=re(),f=ue(),{closeDialog:A,isDialogOpen:$}=f,U=g(!1),x=g(!1),u=g([]),r=g({device_name:"",device_ip:"",device_port_override:"",device_vendor:[],device_model:"",selectedCategoryArray:[],selectedModelArray:[],device_category_id:0,device_tags:[],device_username:"",device_password:"",device_enable_password:"",device_template:[],device_main_prompt:"",device_enable_prompt:""});ee(()=>{y>0&&(x.value=!0,H.get(`/api/devices/${y}`).then(I=>{r.value.device_name=I.data.device_name,r.value.device_ip=I.data.device_ip,r.value.device_port_override=I.data.device_port_override,r.value.device_vendor.push(I.data.vendor[0]),r.value.device_model=I.data.device_model,r.value.selectedCategoryArray.push(I.data.category[0]),r.value.selectedModelArray=[{name:I.data.device_model}],r.value.device_category_id=I.data.device_category_id,I.data.tag.forEach(S=>{r.value.device_tags.push(S)}),r.value.device_username=I.data.device_username,r.value.device_password=I.data.device_password,r.value.device_enable_password=I.data.device_enable_password,r.value.device_template.push(I.data.template[0]),r.value.device_main_prompt=I.data.device_main_prompt,r.value.device_enable_prompt=I.data.device_enable_prompt,x.value=!1})),window.addEventListener("keydown",v)}),ne(()=>{window.removeEventListener("keydown",v)});function v(I){I.ctrlKey&&I.key==="Enter"&&d()}function d(){r.value.selectedModelArray.length>0&&(r.value.device_model=r.value.selectedModelArray[0].name),r.value.selectedCategoryArray.length>0&&(r.value.device_category_id=r.value.selectedCategoryArray[0].id);let I=y>0?`/${y}`:"",S=y>0?"patch":"post";H[S]("/api/devices"+I,r.value).then(L=>{P("save",L.data),b("Device created","The device has been created successfully."),A("DialogNewDevice")}).catch(L=>{k("Error","There was an error saving the device."),console.log(L),L.response&&L.response.data&&L.response.data.errors&&(u.value=L.response.data.errors)})}function T(){r.value.device_main_prompt=r.value.device_name+"#",r.value.device_enable_prompt=r.value.device_name+">"}function D(){U.value=!0}function s(){U.value=!1}function p(){U.value=!1,A("DialogNewDevice")}return{isLoading:x,model:r,saveDialog:d,errors:u,isDialogOpen:$,generatePrompts:T,showConfirmCloseAlert:U,showConfirmCloseDialog:D,cancelCloseDialog:s,confirmCloseDialog:p}}const qs={class:"flex items-center"},Hs={class:"ml-2"},Ws={key:0},Ys={class:"text-muted-foreground"},Xs={key:0,class:"grid grid-cols-1 gap-6 p-4 lg:grid-cols-2"},Js={class:"flex flex-col col-span-1"},Qs={key:0,class:"text-red-400"},Zs={class:"flex flex-row space-x-4"},ea={class:"flex flex-col w-1/2"},ta={key:0,class:"text-red-400"},la={class:"flex flex-col w-1/2"},sa={key:1,class:"text-red-400"},aa={key:2,class:"text-red-400"},oa={key:3,class:"text-red-400"},na={key:4,class:"text-red-400"},da={class:"flex flex-col col-span-1"},ia={key:0,class:"text-red-400"},ra={key:1,class:"text-red-400"},ua={key:2,class:"text-red-400"},ca={key:3,class:"text-red-400"},ma={key:4,class:"text-red-400"},va={key:5,class:"text-red-400"},pa={class:"pl-2 ml-auto"},fa={class:"rc-kdb-class2"},ga={class:"pl-2 ml-auto"},_a={class:"rc-kdb-class2"},ya={__name:"DeviceAddEditDialog",props:{editId:Number},emits:["save","close"],setup(y,{emit:P}){const b=y,k=P,{isLoading:E,model:n,saveDialog:m,errors:f,isDialogOpen:A,generatePrompts:$,showConfirmCloseAlert:U,showConfirmCloseDialog:x,cancelCloseDialog:u,confirmCloseDialog:r}=Rs(b.editId,k);return(v,d)=>{const T=w("DeviceIcon"),D=w("Label"),s=w("Input"),p=w("Icon"),I=w("Button");return o(),h(X,null,[t(e(Ve),{open:e(A)("DialogNewDevice")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{onInteractOutside:d[17]||(d[17]=S=>e(x)()),onPointerDownOutside:d[18]||(d[18]=S=>e(x)()),class:"p-0 sm:max-w-7xl",onEscapeKeyDown:d[19]||(d[19]=S=>e(x)()),onCloseClicked:d[20]||(d[20]=S=>e(x)())},{default:l(()=>[t(e(he),{class:"rc-dialog-header"},{default:l(()=>[t(e(De),{class:"text-sm text-rcgray-200"},{default:l(()=>[a("div",qs,[t(T),a("span",Hs,C(y.editId>0?"Edit":"Add")+" Device "+C(y.editId>0?"(ID: "+y.editId+")":""),1),e(n).device_name?(o(),h("span",Ws,[d[21]||(d[21]=c(" :   ")),a("span",Ys,C(e(n).device_name),1)])):M("",!0)])]),_:1})]),_:1}),t(e(be),{class:"min-h-96 xl:h-auto"},{default:l(()=>[e(E)?(o(),N(ut,{key:0})):M("",!0),t(ot,{name:"fade"},{default:l(()=>[e(E)?M("",!0):(o(),h("div",Xs,[a("div",Js,[d[29]||(d[29]=a("h3",{class:"mb-4 text-lg font-light"},"Device Information",-1)),t(D,{for:"device_name",class:"mb-1 text-muted-foreground"},{default:l(()=>d[22]||(d[22]=[c(" Device Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_name,"onUpdate:modelValue":d[0]||(d[0]=S=>e(n).device_name=S),id:"device_name",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(f).device_name?(o(),h("span",Qs,C(e(f).device_name[0]),1)):M("",!0),a("div",Zs,[a("div",ea,[t(D,{for:"device_ip",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[23]||(d[23]=[c(" Device IP "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_ip,"onUpdate:modelValue":d[1]||(d[1]=S=>e(n).device_ip=S),id:"device_ip",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(f).device_ip?(o(),h("span",ta,C(e(f).device_ip[0]),1)):M("",!0)]),a("div",la,[t(D,{for:"device_port_override",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>[d[24]||(d[24]=c(" Device Port ")),t(He,{title:"Device Port",content:"Set the connection port specific to this device. it overrides the value set in the connection template. Leave empty otherwise."})]),_:1}),t(s,{modelValue:e(n).device_port_override,"onUpdate:modelValue":d[2]||(d[2]=S=>e(n).device_port_override=S),id:"device_port_override",type:"number",autocomplete:"off",class:"w-full"},null,8,["modelValue"])])]),t(D,{for:"vector",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[25]||(d[25]=[c(" Vendor "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(Ks,{singleSelect:!0,modelValue:e(n).device_vendor,"onUpdate:modelValue":d[3]||(d[3]=S=>e(n).device_vendor=S),id:"device_vendor",class:"w-full"},null,8,["modelValue"]),e(f).device_vendor?(o(),h("span",sa,C(e(f).device_vendor[0]),1)):M("",!0),t(D,{for:"device_category_id",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[26]||(d[26]=[c(" Category "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(it,{modelValue:e(n).selectedCategoryArray,"onUpdate:modelValue":d[4]||(d[4]=S=>e(n).selectedCategoryArray=S),id:"selectedCategoryArray",singleSelect:!0,class:"w-full"},null,8,["modelValue"]),e(f).device_category_id?(o(),h("span",aa,C(e(f).device_category_id[0]),1)):M("",!0),t(D,{for:"device_model",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[27]||(d[27]=[c(" Model "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(bs,{singleSelect:!0,modelValue:e(n).selectedModelArray,"onUpdate:modelValue":d[5]||(d[5]=S=>e(n).selectedModelArray=S),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),e(f).device_model?(o(),h("span",oa,C(e(f).device_model[0]),1)):M("",!0),t(D,{for:"device_tags",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[28]||(d[28]=[c(" Tags "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(el,{modelValue:e(n).device_tags,"onUpdate:modelValue":d[6]||(d[6]=S=>e(n).device_tags=S),id:"device_tags",class:"w-full"},null,8,["modelValue"]),e(f).device_tags?(o(),h("span",na,C(e(f).device_tags[0]),1)):M("",!0)]),a("div",da,[d[37]||(d[37]=a("h3",{class:"mb-4 text-lg font-light"},"Connection Information",-1)),t(D,{for:"device_username",class:"mb-1 text-muted-foreground"},{default:l(()=>d[30]||(d[30]=[c(" Username "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_username,"onUpdate:modelValue":d[7]||(d[7]=S=>e(n).device_username=S),id:"device_username",autocomplete:"current-password",class:"w-full"},null,8,["modelValue"]),e(f).device_username?(o(),h("span",ia,C(e(f).device_username[0]),1)):M("",!0),t(D,{for:"device_password",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[31]||(d[31]=[c(" Device Password "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(et),{modelValue:e(n).device_password,"onUpdate:modelValue":d[8]||(d[8]=S=>e(n).device_password=S),id:"device_password",class:"w-full"},null,8,["modelValue"]),e(f).device_password?(o(),h("span",ra,C(e(f).device_password[0]),1)):M("",!0),t(D,{for:"device_enable_password",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[32]||(d[32]=[c(" Device Enable Password ")])),_:1}),t(e(et),{modelValue:e(n).device_enable_password,"onUpdate:modelValue":d[9]||(d[9]=S=>e(n).device_enable_password=S),id:"device_enable_password",class:"w-full"},null,8,["modelValue"]),e(f).device_enable_password?(o(),h("span",ua,C(e(f).device_enable_password[0]),1)):M("",!0),t(D,{for:"device_template",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[33]||(d[33]=[c(" Template "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(Ts,{singleSelect:!0,modelValue:e(n).device_template,"onUpdate:modelValue":d[10]||(d[10]=S=>e(n).device_template=S),id:"device_template",class:"w-full"},null,8,["modelValue"]),e(f).device_template?(o(),h("span",ca,C(e(f).device_template[0]),1)):M("",!0),t(D,{for:"main_prompt",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>[d[34]||(d[34]=c(" Main Prompt ")),t(He,{title:"Device Main Prompt",content:"This is the 'Privileged EXEC' prompt. You will run show commands from this prompt and you can access configure mode. Usually 'router1#'"})]),_:1}),t(s,{modelValue:e(n).device_main_prompt,"onUpdate:modelValue":d[11]||(d[11]=S=>e(n).device_main_prompt=S),id:"device_main_prompt",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(f).device_main_prompt?(o(),h("span",ma,C(e(f).device_main_prompt[0]),1)):M("",!0),t(D,{for:"enable_prompt",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>[d[35]||(d[35]=c(" Enable Prompt ")),t(He,{title:"Device Main Prompt",content:" This is the 'User EXEC' prompt. The first level of access prompt. Usually 'router1>'"})]),_:1}),t(s,{modelValue:e(n).device_enable_prompt,"onUpdate:modelValue":d[12]||(d[12]=S=>e(n).device_enable_prompt=S),id:"device_enable_prompt",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),a("button",{class:"flex items-center p-2 text-sm text-left rounded-lg pf-c-button pf-m-link pf-m-inline hover:bg-rcgray-800 max-w-fit text-muted-foreground hover:text-gray-200",type:"button",onClick:d[13]||(d[13]=S=>e($)())},[t(p,{icon:"material-symbols:flash-auto",class:"w-4 h-4 mr-1"}),d[36]||(d[36]=c(" Auto generate prompts from device name "))]),e(f).device_enable_prompt?(o(),h("span",va,C(e(f).device_enable_prompt[0]),1)):M("",!0)])]))]),_:1})]),_:1}),t(e(Ie),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:d[14]||(d[14]=S=>e(x)()),size:"sm"},{default:l(()=>d[38]||(d[38]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),b.editId===0?(o(),N(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:d[15]||(d[15]=S=>e(m)()),variant:"primary"},{default:l(()=>[d[40]||(d[40]=c(" Save ")),a("div",pa,[a("kbd",fa,[d[39]||(d[39]=c(" Ctrl  ")),t(p,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),b.editId>0?(o(),N(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:d[16]||(d[16]=S=>e(m)()),variant:"primary"},{default:l(()=>[d[42]||(d[42]=c(" Update ")),a("div",ga,[a("kbd",_a,[d[41]||(d[41]=c(" Ctrl  ")),t(p,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"]),t(tl,{showConfirmCloseAlert:e(U),onHandleClose:e(u),onHandleConfirm:e(r)},null,8,["showConfirmCloseAlert","onHandleClose","onHandleConfirm"])],64)}}},ba={class:"space-y-2"},xa={class:"mb-2 text-sm text-muted-foreground"},ka={key:0,class:"text-xs text-muted-foreground"},wa={__name:"TagListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(y){return(P,b)=>{const k=w("Button"),E=w("router-link");return o(),N(e(me),null,{default:l(()=>[t(e(ce),{"as-child":""},{default:l(()=>[t(k,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>b[0]||(b[0]=[c(" ... ")])),_:1})]),_:1}),t(e(fe),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[a("div",ba,[a("p",xa,"All tags associated with "+C(y.recordName)+". Showing "+C(y.displayCount)+" records.",1)]),(o(!0),h(X,null,Q(y.items.slice(0,y.displayCount),n=>(o(),N(e(tt),{key:n[y.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(E,{to:n.view_url},{default:l(()=>[c(C(n[y.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),y.displayCount>y.displayCount-1?(o(),h("span",ka,[b[2]||(b[2]=a("br",null,null,-1)),c(" Displaying only "+C(y.displayCount)+" records. Visit the ",1),t(E,{to:"/tags",class:"text-blue-500 hover:underline"},{default:l(()=>b[1]||(b[1]=[c(" Tags ")])),_:1}),b[3]||(b[3]=c(" page to view all tags. "))])):M("",!0)]),_:1})]),_:1})}}},$a={key:0,class:"text-sm font-light"},Ca={class:"text-sm font-semibold"},ha={class:"py-1"},Da=["onClick"],Ia=["checked"],Va={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Sa={"data-size":"20"},Ea=pe({__name:"StatusFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([{id:0,name:"Unreachable"},{id:1,name:"Reachable"},{id:2,name:"Unknown"},{id:100,name:"Disabled"},{id:200,name:"All"}]),E=g(!1),n=g([]),m=y;J(()=>m.modelValue,A=>{n.value=A});function f(A){if(A.id===200)n.value.length===k.value.length?n.value=[]:n.value=[...k.value];else{const $=n.value.findIndex(U=>U.id===A.id);if($!==-1){n.value.splice($,1);const U=n.value.findIndex(x=>x.id===200);U!==-1&&n.value.splice(U,1)}else n.value.push(A)}E.value=!1,b("update:modelValue",n.value)}return(A,$)=>{const U=w("Icon"),x=w("Button");return o(),N(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(x,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(U,{icon:"material-symbols-light:signal-wifi-statusbar-not-connected-rounded",class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Status")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",$a,[$[0]||($[0]=c(" Status ")),a("strong",Ca,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"p-0 w-44"},{default:l(()=>[t(e(be),{class:"h-44"},{default:l(()=>[a("div",ha,[(o(!0),h(X,null,Q(k.value,u=>(o(),h("div",{key:u.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:r=>f(u)},[a("input",{type:"checkbox",checked:n.value.some(r=>r.id===u.id),class:"mr-2"},null,8,Ia),a("span",Va,[a("span",Sa,C(u.name),1)])],8,Da))),128))])]),_:1})]),_:1})]),_:1})}}}),Na={key:0,class:"text-sm font-light"},Pa={class:"text-sm font-semibold"},Ta={class:"relative items-center w-full"},Ma={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Aa={class:"py-1"},Ua=["onClick"],Ba=["checked"],Fa={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},La={"data-size":"20"},ja={class:"p-1 border-5"},za=pe({__name:"CategoryFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([]),E=g(!1),n=g([]),m=g(""),f=g(!1),A=y;ee(()=>{U()}),J(()=>A.modelValue,u=>{n.value=u,f.value=n.value.length===k.value.length});function $(u){if(u.id===9999999)f.value?(n.value=[],f.value=!1):(n.value=[...k.value],f.value=!0);else{const r=n.value.findIndex(v=>v.id===u.id);r!==-1?(n.value.splice(r,1),f.value=!1):(n.value.push(u),n.value.length===k.value.length&&(f.value=!0))}E.value=!1,b("update:modelValue",n.value)}function U(){H.get("/api/categories/?perPage=10000").then(u=>{k.value=u.data.data})}const x=Ee(()=>k.value.filter(u=>u.categoryName.toLowerCase().includes(m.value.toLowerCase())));return(u,r)=>{const v=w("Button"),d=w("Input"),T=w("Icon"),D=w("Separator");return o(),N(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(v,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(Ct,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Command Group")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",Na,[r[2]||(r[2]=c(" Command Group ")),a("strong",Pa,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",Ta,[t(d,{id:"search",type:"text",modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=s=>m.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Ma,[t(T,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",Aa,[(o(!0),h(X,null,Q(x.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:p=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(p=>p.id===s.id),class:"mr-2"},null,8,Ba),a("span",Fa,[a("span",La,C(s.categoryName),1)])],8,Ua))),128))])]),_:1}),t(D),a("div",ja,[t(v,{variant:"ghost",class:"justify-start w-full p-1",onClick:r[1]||(r[1]=s=>$({id:9999999}))},{default:l(()=>[t(T,{icon:f.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(f.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Ka={key:0,class:"text-sm font-light"},Oa={class:"text-sm font-semibold"},Ga={class:"relative items-center w-full"},Ra={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},qa={class:"py-1"},Ha=["onClick"],Wa=["checked"],Ya={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Xa={"data-size":"20"},Ja={class:"p-1 border-5"},Qa=pe({__name:"TagFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([]),E=g(!1),n=g([]),m=g(""),f=g(!1),A=y;ee(()=>{U()}),J(()=>A.modelValue,u=>{n.value=u,f.value=n.value.length===k.value.length});function $(u){if(u.id===9999999)f.value?(n.value=[],f.value=!1):(n.value=[...k.value],f.value=!0);else{const r=n.value.findIndex(v=>v.id===u.id);r!==-1?(n.value.splice(r,1),f.value=!1):(n.value.push(u),n.value.length===k.value.length&&(f.value=!0))}E.value=!1,b("update:modelValue",n.value)}function U(){H.get("/api/tags/?perPage=10000").then(u=>{k.value=u.data.data})}const x=Ee(()=>k.value.filter(u=>u.tagname.toLowerCase().includes(m.value.toLowerCase())));return(u,r)=>{const v=w("Button"),d=w("Input"),T=w("Icon"),D=w("Separator");return o(),N(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(v,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(ht,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Tags")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",Ka,[r[2]||(r[2]=c(" Tag ")),a("strong",Oa,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",Ga,[t(d,{id:"search",type:"text",modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=s=>m.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Ra,[t(T,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",qa,[(o(!0),h(X,null,Q(x.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:p=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(p=>p.id===s.id),class:"mr-2"},null,8,Wa),a("span",Ya,[a("span",Xa,C(s.tagname),1)])],8,Ha))),128))])]),_:1}),t(D),a("div",Ja,[t(v,{variant:"ghost",class:"justify-start w-full p-1",onClick:r[1]||(r[1]=s=>$({id:9999999}))},{default:l(()=>[t(T,{icon:f.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(f.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Za={key:0,class:"text-sm font-light"},eo={class:"text-sm font-semibold"},to={class:"relative items-center w-full"},lo={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},so={class:"py-1"},ao=["onClick"],oo=["checked"],no={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},io={"data-size":"20"},ro={class:"p-1 border-5"},uo=pe({__name:"VendorFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:P}){const b=P,k=g([]),E=g(!1),n=g([]),m=g(""),f=g(!1),A=y;ee(()=>{U()}),J(()=>A.modelValue,u=>{n.value=u,f.value=n.value.length===k.value.length});function $(u){if(u.id===9999999)f.value?(n.value=[],f.value=!1):(n.value=[...k.value],f.value=!0);else{const r=n.value.findIndex(v=>v.id===u.id);r!==-1?(n.value.splice(r,1),f.value=!1):(n.value.push(u),n.value.length===k.value.length&&(f.value=!0))}E.value=!1,b("update:modelValue",n.value)}function U(){H.get("/api/vendors/?perPage=10000").then(u=>{k.value=u.data.data})}const x=Ee(()=>k.value.filter(u=>u.vendorName.toLowerCase().includes(m.value.toLowerCase())));return(u,r)=>{const v=w("Button"),d=w("Input"),T=w("Icon"),D=w("Separator");return o(),N(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(v,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(Dt,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(X,{key:0},[c("Vendor")],64)):(o(),h(X,{key:1},[n.value.length>0?(o(),h("span",Za,[r[2]||(r[2]=c(" Vendor ")),a("strong",eo,C(n.value.length)+" selected",1)])):M("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",to,[t(d,{id:"search",type:"text",modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=s=>m.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",lo,[t(T,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",so,[(o(!0),h(X,null,Q(x.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:p=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(p=>p.id===s.id),class:"mr-2"},null,8,oo),a("span",no,[a("span",io,C(s.vendorName),1)])],8,ao))),128))])]),_:1}),t(D),a("div",ro,[t(v,{variant:"ghost",class:"justify-start w-full p-1",onClick:r[1]||(r[1]=s=>$({id:9999999}))},{default:l(()=>[t(T,{icon:f.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(f.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),co=pe({__name:"ClearFilters",emits:["update:modelValue"],setup(y,{emit:P}){const b=P;ee(()=>{});function k(){b("update:modelValue",[])}return(E,n)=>{const m=w("Icon"),f=w("Button");return o(),N(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(f,{variant:"ghost",onClick:k,class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(m,{icon:"mdi:clear-circle-outline",class:"mr-2"}),n[0]||(n[0]=c(" Clear filters "))]),_:1})]),_:1})]),_:1})}}});function mo(y){const P=nt(),{openSheet:b,closeSheet:k,isSheetOpen:E}=P,n=g([]),m=g(!1),f=g(!1),A=Oe(),$=dt("formatters");ee(()=>{E("DeviceCommentSheet")&&U()});function U(){m.value=!0,H.get(`/api/device-comments/${y.deviceId}`).then(v=>{n.value=v.data,m.value=!1}).catch(v=>{console.error(v),m.value=!1})}function x(v){k("DeviceCommentSheet"),A.push({name:"device",params:{id:v}})}function u(){f.value||(n.value.unshift({user:{name:"New User"},created_at:new Date().toISOString(),comment:"",is_open:!0,isEditable:!0}),f.value=!0)}function r(v){n.value[v].isEditable=!1,H.post("/api/device/comments",{comment:n.value[v].comment,device_id:y.deviceId}).then(d=>{}).catch(d=>{console.error(d)})}return{addComment:u,closeSheet:k,comments:n,formatters:$,isLoading:m,isSheetOpen:E,saveComment:r,viewDevice:x}}const vo={class:"border-b"},po={key:0},fo={class:"mt-4 space-y-4"},go={class:"text-sm text-muted-foreground"},_o={key:1},yo={__name:"CommentSheet",props:{deviceId:{type:Number,required:!0},deviceName:{type:String,required:!0}},setup(y){const P=y,{addComment:b,closeSheet:k,comments:E,formatters:n,isLoading:m,isSheetOpen:f,saveComment:A,viewDevice:$}=mo(P);return(U,x)=>{const u=w("Button"),r=w("CommentAddIcon"),v=w("Textarea"),d=w("Icon");return o(),N(e(Bt),{open:e(f)("DeviceCommentSheet")},{default:l(()=>[t(e(It),{class:"h-[96vh] m-6 rounded-lg border",onEscapeKeyDown:x[1]||(x[1]=T=>e(k)("DeviceCommentSheet")),onPointerDownOutside:x[2]||(x[2]=T=>e(k)("DeviceCommentSheet")),onCloseClicked:x[3]||(x[3]=T=>e(k)("DeviceCommentSheet"))},{default:l(()=>[e(m)?(o(),N(ut,{key:0})):M("",!0),e(m)?M("",!0):(o(),N(e(Vt),{key:1},{default:l(()=>[t(e(St),null,{default:l(()=>x[4]||(x[4]=[c("Comments")])),_:1}),t(e(Et),null,{default:l(()=>[x[5]||(x[5]=a("span",{class:"text-muted-foreground"},"Comments on",-1)),t(u,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:x[0]||(x[0]=T=>e($)(y.deviceId))},{default:l(()=>[a("span",vo,C(y.deviceName),1)]),_:1}),t(u,{variant:"ghost",class:"float-right",onClick:e(b)},{default:l(()=>[t(r,{class:"text-muted-foreground"})]),_:1},8,["onClick"])]),_:1})]),_:1})),t(ot,{name:"fade"},{default:l(()=>[e(m)?M("",!0):(o(),h("div",po,[a("div",fo,[(o(!0),h(X,null,Q(e(E),(T,D)=>(o(),N(e(Nt),{key:D},{default:l(()=>[t(e(Pt),{class:"p-2"},{default:l(()=>[t(e(Tt),null,{default:l(()=>[a("span",null,C(T.user.name),1)]),_:2},1024),t(e(Mt))]),_:2},1024),t(e(At),{class:"flex justify-end px-2 py-0"},{default:l(()=>[T.isEditable?(o(),N(v,{key:0,modelValue:T.comment,"onUpdate:modelValue":s=>T.comment=s,rows:"1",class:"mt-2"},null,8,["modelValue","onUpdate:modelValue"])):(o(),N(v,{key:1,class:"border-none",modelValue:T.comment,"onUpdate:modelValue":s=>T.comment=s,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),t(e(ll),{class:"flex justify-between px-2 py-1"},{default:l(()=>[a("div",go,C(e(n).formatTime(T.created_at)),1),a("div",null,[T.isEditable?(o(),N(u,{key:0,onClick:s=>e(A)(D),variant:"outline",size:"sm",class:""},{default:l(()=>x[6]||(x[6]=[c(" Save ")])),_:2},1032,["onClick"])):M("",!0),T.isEditable?M("",!0):(o(),h("div",_o,[T.is_open?(o(),N(u,{key:0,title:"Resolve Comment",size:"sm",variant:"ghost",class:"py-2"},{default:l(()=>[t(d,{icon:"solar:check-circle-broken"})]),_:1})):M("",!0)]))])]),_:2},1024)]),_:2},1024))),128))])]))]),_:1}),t(e(Ut),null,{default:l(()=>x[7]||(x[7]=[a("div",{class:"flex-1"},null,-1)])),_:1})]),_:1})]),_:1},8,["open"])}}};function bo(){const y=g(1),P=g(parseInt(localStorage.getItem("perPage")||"10")),b=g("-id"),k=g(""),E=g({}),n=ue(),m=g(0),f=g(!1),A=g(1),$=g(1),U=g([]),x=g(!1),u=g([]),r=g([]),v=g([]),d=g([]),T=Oe(),D=dt("formatters"),{openDialog:s}=n,{toastSuccess:p,toastError:I}=re();async function S(O={}){f.value=!0;try{const te=await H.get("/api/devices",{params:{page:y.value,perPage:P.value,sort:b.value,...E.value}});U.value=te.data,A.value=te.data.last_page}catch(te){console.error("Error fetching devices:",te),I("Error","Failed to fetch devices.")}finally{f.value=!1}}const L=O=>{m.value=0,$.value=Math.random(),s("DialogNewDevice")};function K(O){m.value=O,$.value=Math.random(),s("DialogNewDevice")}const i=async O=>{try{await H.delete(`/api/devices/${O}`),S(),p("Device Deleted","The device has been deleted successfully.")}catch(te){console.error("Error deleting device:",te),I("Error","Failed to delete device.")}},V=async O=>{try{await H.post("/api/devices/delete-many",{ids:O}),S(),p("Devices Deleted","The tags have been deleted successfully."),x.value=!1,ve.emit("deleteManyDevicesSuccess")}catch(te){console.error("Error deleting tags:",te),I("Error","Failed to delete devices."),x.value=!1}},B=async O=>{try{await H.get(`/api/device/disable/${O}`),S(),p("Device Disabled","The device has been disabled successfully.")}catch(te){console.error("Error disabling device:",te),I("Error","Failed to disable device.")}},W=async O=>{try{await H.get(`/api/device/enable/${O}`),S(),p("Device Enabled","The device has been disabled successfully.")}catch(te){console.error("Error enabling device:",te),I("Error","Failed to enabled device.")}},Z=O=>{m.value=O,$.value=Math.random(),s("DialogNewDevice")},le=()=>{S(),$.value=Math.random()};function j(O){O.altKey&&O.key==="n"&&(O.preventDefault(),s("DialogNewDevice"))}const oe=Se(()=>{E.value["filter[q]"]=k.value,y.value=1,S()},500);J([y,P],()=>{S()}),J(k,()=>{oe()}),J(P,O=>{localStorage.setItem("perPage",O.toString())}),J(u,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);E.value["filter[status]"]=de.join(",")}else delete E.value["filter[status]"];S()},{deep:!0}),J(r,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);E.value["filter[category]"]=de.join(",")}else delete E.value["filter[category]"];S()},{deep:!0}),J(v,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);E.value["filter[tag]"]=de.join(",")}else delete E.value["filter[tag]"];S()},{deep:!0}),J(d,(O,te)=>{if(O&&O.length>0){const de=O.map(G=>G.id);E.value["filter[vendor]"]=de.join(",")}else delete E.value["filter[vendor]"];S()},{deep:!0});function _(O){b.value===O?b.value=`-${O}`:b.value=O,S()}function Y(){E.value={},u.value=[],r.value=[],v.value=[],d.value=[],k.value="",S()}function ge(O){T.push({name:"devicesview",params:{id:parseInt(O)}})}return{clearFilters:Y,createDevice:L,currentPage:y,deleteDevice:i,deleteManyDevices:V,devices:U,disableDevice:B,editId:m,enableDevice:W,fetchDevices:S,filterCategories:r,filterStatus:u,filterTags:v,filterVendor:d,formatters:D,handleKeyDown:j,handleSave:le,isLoading:f,lastPage:A,newDeviceModalKey:$,perPage:P,searchTerm:k,showConfirmDelete:x,sortParam:b,toggleSort:_,updateDevice:K,viewDeviceDetailsPane:ge,viewEditDialog:Z}}const xo={class:"flex flex-col h-full gap-1 text-center"},ko={class:"flex items-center justify-between p-4"},wo={class:"flex items-center"},$o={class:"flex gap-2"},Co={class:"flex"},ho={class:"px-6"},Do={class:"flex justify-between"},Io={class:"border-b"},Vo={key:0,class:"ml-2"},So={key:0},Eo={key:1},No={key:0},Po={key:1},To={key:0},Mo={key:1},Ao={key:0},Uo={key:1},Bo={key:0,class:"mr-2"},Fo={__name:"Main",setup(y){const{clearFilters:P,createDevice:b,currentPage:k,deleteDevice:E,deleteManyDevices:n,devices:m,disableDevice:f,editId:A,enableDevice:$,fetchDevices:U,filterCategories:x,filterStatus:u,filterTags:r,filterVendor:v,formatters:d,handleKeyDown:T,handleSave:D,isLoading:s,lastPage:p,newDeviceModalKey:I,perPage:S,searchTerm:L,showConfirmDelete:K,sortParam:i,toggleSort:V,updateDevice:B,viewDeviceDetailsPane:W,viewEditDialog:Z}=bo(),{selectedRows:le,selectAll:j,toggleSelectAll:oe,toggleSelectRow:_}=Ne(m),Y=nt(),{openSheet:ge,closeSheet:O,isSheetOpen:te}=Y,de=g(null),G=g(""),_e=g(0);ee(()=>{U(),window.addEventListener("keydown",T),ve.on("deleteManyDevicesSuccess",()=>{le.value=[],j.value=!1})}),ne(()=>{window.removeEventListener("keydown",T)});function Ye(Re){_e.value+=1,de.value=Re,G.value=m.value.data.find(F=>F.id===Re).device_name,ge("DeviceCommentSheet")}return(Re,F)=>{const ct=w("Input"),mt=w("Separator"),ke=w("Button"),Xe=w("Checkbox"),ze=w("Icon"),vt=w("StatusRedIcon"),pt=w("StatusGreenIcon"),ft=w("StatusYellowIcon"),gt=w("StatusGrayIcon"),_t=w("router-link"),yt=w("Badge"),bt=w("Toaster");return o(),h("div",xo,[a("div",ko,[a("div",wo,[t(ct,{class:"ml-2 min-w-32 lg:min-w-60",autocomplete:"off",placeholder:"Filter devices by ID, name or IP...",modelValue:e(L),"onUpdate:modelValue":F[0]||(F[0]=z=>se(L)?L.value=z:null)},null,8,["modelValue"]),t(mt,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),F[16]||(F[16]=a("span",{class:"mr-2 text-muted-foreground"},"Filters:",-1)),a("div",$o,[t(za,{modelValue:e(x),"onUpdate:modelValue":F[1]||(F[1]=z=>se(x)?x.value=z:null)},null,8,["modelValue"]),t(Qa,{modelValue:e(r),"onUpdate:modelValue":F[2]||(F[2]=z=>se(r)?r.value=z:null)},null,8,["modelValue"]),t(uo,{modelValue:e(v),"onUpdate:modelValue":F[3]||(F[3]=z=>se(v)?v.value=z:null)},null,8,["modelValue"]),t(Ea,{modelValue:e(u),"onUpdate:modelValue":F[4]||(F[4]=z=>se(u)?u.value=z:null)},null,8,["modelValue"]),e(L)||e(x).length||e(r).length||e(v).length||e(u).length?(o(),N(co,{key:0,"onUpdate:modelValue":e(P)},null,8,["onUpdate:modelValue"])):M("",!0)])]),a("div",Co,[e(le).length?(o(),N(ke,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:F[5]||(F[5]=ae(z=>K.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(le).length)+" Device(s) ",1)]),_:1})):M("",!0),t(ke,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(b),["prevent"]),variant:"primary"},{default:l(()=>F[17]||(F[17]=[c(" New Device "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",ho,[t(e(Be),null,{default:l(()=>[t(e(Ae),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(Xe,{id:"selectAll",modelValue:e(j),"onUpdate:modelValue":F[6]||(F[6]=z=>se(j)?j.value=z:null),checked:e(j),onClick:F[7]||(F[7]=z=>e(oe)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[8]||(F[8]=z=>e(V)("id"))},{default:l(()=>[t(ze,{icon:e(i)==="id"?"lucide:sort-asc":e(i)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[18]||(F[18]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[2%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[9]||(F[9]=z=>e(V)("status"))},{default:l(()=>[t(ze,{icon:e(i)==="status"?"lucide:sort-asc":e(i)==="-status"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[19]||(F[19]=a("span",{class:"ml-2"},null,-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[10]||(F[10]=z=>e(V)("device_name"))},{default:l(()=>[t(ze,{icon:e(i)==="device_name"?"lucide:sort-asc":e(i)==="-device_name"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[20]||(F[20]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[21]||(F[21]=[c("IP Address")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[22]||(F[22]=[c("C'Group")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[23]||(F[23]=[c("Vendor")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[24]||(F[24]=[c("Model")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[25]||(F[25]=[c("Config Count")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[26]||(F[26]=[c("Config Failures")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[27]||(F[27]=[c("Last Config")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[28]||(F[28]=[c("Tags")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[29]||(F[29]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Ue),null,{default:l(()=>[e(s)?(o(),N(Pe,{key:0})):e(s)?(o(),N(Te,{key:2})):(o(!0),h(X,{key:1},Q(e(m).data,z=>(o(),N(e(ie),{key:z.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(Xe,{class:"cursor-pointer",id:"select-"+z.id,checked:!!e(le).includes(z.id),onClick:ye=>e(_)(z.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(z.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[z.status===0?(o(),N(vt,{key:0})):M("",!0),z.status===1?(o(),N(pt,{key:1})):M("",!0),z.status===2?(o(),N(ft,{key:2})):M("",!0),z.status===100?(o(),N(gt,{key:3})):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[a("div",Do,[t(ke,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:ye=>e(W)(z.id)},{default:l(()=>[a("span",Io,C(z.device_name),1)]),_:2},1032,["onClick"]),t(ke,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:ye=>Ye(z.id)},{default:l(()=>[t(ze,{icon:"vaadin:comments-o"}),z.comments.length>0?(o(),h("span",Vo,C(z.comments.length),1)):M("",!0)]),_:2},1032,["onClick"])])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(z.device_ip),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[z.category.length>0?(o(),h("span",So,C(z.category[0].categoryName),1)):(o(),h("span",Eo,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[z.vendor.length>0?(o(),h("span",No,C(z.vendor[0].vendorName),1)):(o(),h("span",Po,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(z.device_model),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(z.config_good_count),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[z.config_bad_count?(o(),h("span",To,C(z.config_bad_count),1)):(o(),h("span",Mo,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[z.last_config?(o(),h("span",Ao,C(e(d).formatTime(z.last_config.created_at)),1)):(o(),h("span",Uo,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(z.tag.slice(0,3),(ye,Bn)=>(o(),h("span",{key:ye.tagname,class:"mr-2"},[t(yt,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(_t,{to:ye.view_url},{default:l(()=>[c(C(ye.tagname),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),z.tag.length>3?(o(),h("span",Bo,[t(wa,{recordName:z.device_name,items:z.tag,displayField:"tagname"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(es,{rowData:z,onOnEnable:ye=>e($)(z.id),onOnDisable:ye=>e(f)(z.id),onOnEdit:ye=>e(Z)(z.id),onOnDelete:ye=>e(E)(z.id)},null,8,["rowData","onOnEnable","onOnDisable","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(k),lastPage:e(p),perPage:e(S),"onUpdate:currentPage":F[11]||(F[11]=z=>k.value=z),"onUpdate:perPage":F[12]||(F[12]=z=>S.value=z)},null,8,["currentPage","lastPage","perPage"]),(o(),N(ya,{onSave:F[13]||(F[13]=z=>e(D)()),key:e(I),editId:e(A)},null,8,["editId"])),t(we,{ids:e(le),showConfirmDelete:e(K),onClose:F[14]||(F[14]=z=>K.value=!1),onHandleDelete:F[15]||(F[15]=z=>e(n)(e(le)))},null,8,["ids","showConfirmDelete"]),(o(),N(yo,{deviceId:de.value,deviceName:G.value,key:_e.value},null,8,["deviceId","deviceName"])),t(bt)])])}}},Lo={class:"grid gap-2 py-4"},jo={class:"grid items-center grid-cols-4 gap-4"},zo={class:"grid items-center grid-cols-4 gap-4"},Ko={class:"flex flex-col w-full space-y-2"},Oo={key:0,class:"text-red-400"},Go={key:1,class:"text-red-400"},Ro={class:"pl-2 ml-auto"},qo={class:"rc-kdb-class2"},Ho={class:"pl-2 ml-auto"},Wo={class:"rc-kdb-class2"},Yo={__name:"TagAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:k,toastInfo:E,toastWarning:n,toastDefault:m}=re(),f=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=f,x=P;g([]);const u=g([]),r=g({tagname:"",tagDescription:""}),v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{v.editId>0&&H.get(`/api/tags/${v.editId}`).then(D=>{r.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";H[s]("/api/tags"+D,r.value).then(p=>{x("save",p.data),b("Tag created","The tag has been created successfully."),$("DialogNewTag")}).catch(p=>{u.value=p.response.data.errors})}return(D,s)=>{const p=w("Label"),I=w("Input"),S=w("Button"),L=w("Icon");return o(),N(e(Ve),{open:e(U)("DialogNewTag")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"w-full",onEscapeKeyDown:s[5]||(s[5]=K=>e($)("DialogNewTag")),onPointerDownOutside:s[6]||(s[6]=K=>e($)("DialogNewTag")),onCloseClicked:s[7]||(s[7]=K=>e($)("DialogNewTag"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Tag "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your tag here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",Lo,[a("div",jo,[t(p,{for:"tagname",class:"text-right"},{default:l(()=>s[8]||(s[8]=[c(" Tag Name ")])),_:1}),t(I,{modelValue:r.value.tagname,"onUpdate:modelValue":s[0]||(s[0]=K=>r.value.tagname=K),id:"tagname",class:"col-span-3"},null,8,["modelValue"])]),a("div",zo,[t(p,{for:"tagDescription",class:"text-right"},{default:l(()=>s[9]||(s[9]=[c(" Description ")])),_:1}),t(I,{modelValue:r.value.tagDescription,"onUpdate:modelValue":s[1]||(s[1]=K=>r.value.tagDescription=K),id:"tagDescription",class:"col-span-3"},null,8,["modelValue"])])]),a("div",Ko,[u.value.tagDescription?(o(),h("span",Oo,C(u.value.tagDescription[0]),1)):M("",!0),u.value.tagname?(o(),h("span",Go,C(u.value.tagname[0]),1)):M("",!0)]),t(e(Ie),null,{default:l(()=>[t(S,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[2]||(s[2]=K=>e($)("DialogNewTag")),size:"sm"},{default:l(()=>s[10]||(s[10]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),N(S,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=K=>T()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=c(" Save ")),a("div",Ro,[a("kbd",qo,[s[11]||(s[11]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),v.editId>0?(o(),N(S,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=K=>T()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=c(" Update ")),a("div",Ho,[a("kbd",Wo,[s[13]||(s[13]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Xo(){const y=g(1),P=g(parseInt(localStorage.getItem("perPage")||"10")),b=g("-id"),k=g(""),E=g({}),n=ue(),m=g(0),f=g(!1),A=g(1),$=g(1),U=g([]),x=g(!1),{openDialog:u}=n,{toastSuccess:r,toastError:v}=re();async function d(V={}){f.value=!0;try{const B=await H.get("/api/tags",{params:{page:y.value,perPage:P.value,sort:b.value,...E.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching tags:",B),v("Error","Failed to fetch tags.")}finally{f.value=!1}}const T=V=>{m.value=0,$.value=Math.random(),u("DialogNewTag")};function D(V){m.value=V,$.value=Math.random(),u("DialogNewTag")}const s=async V=>{try{await H.delete(`/api/tags/${V}`),d(),r("Tag Deleted","The tag has been deleted successfully."),x.value=!1}catch(B){console.error("Error deleting tag:",B),v("Error","Failed to delete tag."),x.value=!1}},p=async V=>{try{await H.post("/api/tags/delete-many",{ids:V}),d(),r("Tags Deleted","The tags have been deleted successfully."),x.value=!1,ve.emit("deleteManyTagsSuccess")}catch(B){console.error("Error deleting tags:",B),v("Error","Failed to delete tags."),x.value=!1}},I=V=>{m.value=V,$.value=Math.random(),u("DialogNewTag")},S=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewTag"))}const K=Se(()=>{E.value["filter[tagname]"]=k.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(k,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{tags:U,isLoading:f,currentPage:y,perPage:P,lastPage:A,editId:m,newTagModalKey:$,searchTerm:k,openDialog:u,fetchTags:d,createTag:T,updateTag:D,deleteTag:s,deleteManyTags:p,handleSave:S,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:x}}const Jo={class:"flex flex-col h-full gap-1 text-center"},Qo={class:"flex items-center justify-between p-4"},Zo={class:"flex items-center"},en={class:"flex"},tn={class:"px-6"},ln={key:0,class:"mr-2"},sn={__name:"Main",setup(y){const{editId:P,tags:b,currentPage:k,perPage:E,searchTerm:n,lastPage:m,isLoading:f,fetchTags:A,viewEditDialog:$,createTag:U,deleteTag:x,deleteManyTags:u,handleSave:r,showConfirmDelete:v,handleKeyDown:d,newTagModalKey:T,toggleSort:D,sortParam:s}=Xo(),{selectedRows:p,selectAll:I,toggleSelectAll:S,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",d),ve.on("deleteManyTagsSuccess",()=>{p.value=[],I.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",Jo,[a("div",Qo,[a("div",Zo,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tags...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",en,[e(p).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>v.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(p).length)+" Tag(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New Tag "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",tn,[t(e(Be),null,{default:l(()=>[t(e(Ae),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(S)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(D)("id"))},{default:l(()=>[t(Z,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(D)("tagname"))},{default:l(()=>[t(Z,{icon:e(s)==="tagname"?"lucide:sort-asc":e(s)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>i[16]||(i[16]=[c("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>i[17]||(i[17]=[c("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>i[18]||(i[18]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Ue),null,{default:l(()=>[e(f)?(o(),N(Pe,{key:0})):e(f)?(o(),N(Te,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(p).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.tagname),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.tagDescription),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.device.slice(0,8),(Y,ge)=>(o(),h("span",{key:Y.device_name,class:"mr-2"},[t(j,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",ln,[t(Ge,{recordName:_.tagname,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(x)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(k),lastPage:e(m),perPage:e(E),"onUpdate:currentPage":i[7]||(i[7]=_=>k.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>E.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(Yo,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(T),editId:e(P)},null,8,["editId"])),t(we,{ids:e(p),showConfirmDelete:e(v),onClose:i[10]||(i[10]=_=>v.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(p)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}};function an(y){const P=g(1),b=g(parseInt(localStorage.getItem("perPage")||"10")),k=g("-id"),E=g(""),n=g({}),m=ue(),f=g(0),A=g(!1),$=g(1),U=g(1),x=g([]),u=g(!1),r=Oe(),{openDialog:v}=m,{toastSuccess:d,toastError:T}=re();async function D(W={}){A.value=!0;try{const Z=await H.get("/api/templates",{params:{page:P.value,perPage:b.value,sort:k.value,...n.value}});x.value=Z.data,$.value=Z.data.last_page}catch(Z){console.error("Error fetching templates:",Z),T("Error","Failed to fetch templates.")}finally{A.value=!1}}function s(W){y("createTemplate",{id:W,type:"template"})}function p(W){r.push({name:"templatesview",params:{id:W}})}const I=async W=>{try{await H.delete(`/api/templates/${W}`),D(),d("Template Deleted","The template has been deleted successfully.")}catch(Z){console.error("Error deleting template:",Z),T("Error","Failed to delete template.")}},S=async W=>{try{await H.post("/api/templates/delete-many",{ids:W}),D(),d("Templates Deleted","The templates have been deleted successfully."),u.value=!1,ve.emit("deleteManyTemplatesSuccess")}catch(Z){console.error("Error deleting templates:",Z),T("Error","Failed to delete templates."),u.value=!1}},L=W=>{f.value=W,U.value=Math.random(),v("DialogNewTemplate")},K=()=>{D(),U.value=Math.random()};function i(W){W.altKey&&W.key==="n"&&(W.preventDefault(),v("DialogNewTemplate"))}const V=Se(()=>{n.value["filter[templateName]"]=E.value,P.value=1,D()},500);J([P,b],()=>{D()}),J(E,()=>{V()}),J(b,W=>{localStorage.setItem("perPage",W.toString())});function B(W){k.value===W?k.value=`-${W}`:k.value=W,D()}return{templates:x,isLoading:A,currentPage:P,perPage:b,lastPage:$,editId:f,newTemplateModalKey:U,searchTerm:E,openDialog:v,fetchTemplates:D,createTemplate:s,viewTemplateDetailsPane:p,deleteTemplate:I,deleteManyTemplates:S,handleSave:K,handleKeyDown:i,viewEditDialog:L,toggleSort:B,sortParam:k,showConfirmDelete:u}}const on={class:"flex flex-col h-full gap-1 text-center"},nn={class:"flex items-center justify-between p-4"},dn={class:"flex items-center"},rn={class:"flex"},un={class:"px-6"},cn={class:"border-b"},mn={key:0,class:"mr-2"},vn={__name:"Main",emits:["createTemplate"],setup(y,{emit:P}){const b=P,{templates:k,isLoading:E,currentPage:n,perPage:m,lastPage:f,editId:A,newTemplateModalKey:$,searchTerm:U,openDialog:x,fetchTemplates:u,createTemplate:r,viewTemplateDetailsPane:v,deleteTemplate:d,deleteManyTemplates:T,handleSave:D,handleKeyDown:s,viewEditDialog:p,toggleSort:I,sortParam:S,showConfirmDelete:L}=an(b),{importTemplates:K,importingTemplates:i}=sl(),{selectedRows:V,selectAll:B,toggleSelectAll:W,toggleSelectRow:Z}=Ne(k);return ee(()=>{u(),window.addEventListener("keydown",s),ve.on("deleteManyTemplatesSuccess",()=>{V.value=[],B.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",s)}),(le,j)=>{const oe=w("Input"),_=w("Button"),Y=w("Icon"),ge=w("Checkbox"),O=w("router-link"),te=w("Badge"),de=w("Toaster");return o(),h("div",on,[a("div",nn,[a("div",dn,[t(oe,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter templates...",modelValue:e(U),"onUpdate:modelValue":j[0]||(j[0]=G=>se(U)?U.value=G:null)},null,8,["modelValue"]),t(_,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:j[1]||(j[1]=G=>U.value="")},{default:l(()=>j[13]||(j[13]=[c(" Clear Filter ")])),_:1})]),a("div",rn,[e(V).length?(o(),N(_,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:j[2]||(j[2]=ae(G=>L.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(V).length)+" Template(s) ",1)]),_:1})):M("",!0),t(_,{type:"close",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700",onClick:j[3]||(j[3]=G=>e(K)()),variant:"outline"},{default:l(()=>[e(i)?M("",!0):(o(),N(Y,{key:0,icon:"mdi:github",class:"mr-2"})),t(rt,{state:e(i)},null,8,["state"]),j[14]||(j[14]=c(" Import Templates "))]),_:1}),t(_,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:j[4]||(j[4]=ae(G=>e(r)(e(A)),["prevent"])),variant:"primary"},{default:l(()=>j[15]||(j[15]=[c(" New Template "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1})])]),a("div",un,[t(e(Be),null,{default:l(()=>[t(e(Ae),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(ge,{id:"selectAll",modelValue:e(B),"onUpdate:modelValue":j[5]||(j[5]=G=>se(B)?B.value=G:null),checked:e(B),onClick:j[6]||(j[6]=G=>e(W)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:j[7]||(j[7]=G=>e(I)("id"))},{default:l(()=>[t(Y,{icon:e(S)==="id"?"lucide:sort-asc":e(S)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),j[16]||(j[16]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:j[8]||(j[8]=G=>e(I)("templateName"))},{default:l(()=>[t(Y,{icon:e(S)==="templateName"?"lucide:sort-asc":e(S)==="-templateName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),j[17]||(j[17]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>j[18]||(j[18]=[c("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>j[19]||(j[19]=[c("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>j[20]||(j[20]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Ue),null,{default:l(()=>[e(E)?(o(),N(Pe,{key:0})):e(E)?(o(),N(Te,{key:2})):(o(!0),h(X,{key:1},Q(e(k).data,G=>(o(),N(e(ie),{key:G.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(ge,{class:"cursor-pointer",id:"select-"+G.id,checked:!!e(V).includes(G.id),onClick:_e=>e(Z)(G.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(G.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(_,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:_e=>e(v)(G.id)},{default:l(()=>[a("span",cn,C(G.templateName),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(G.description),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(G.device.slice(0,8),(_e,Ye)=>(o(),h("span",{key:_e.device_name,class:"mr-2"},[t(te,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(O,{to:_e.view_url},{default:l(()=>[c(C(_e.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),G.device.length>8?(o(),h("span",mn,[t(Ge,{recordName:G.templateName,items:G.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:G,onOnEdit:_e=>e(v)(G.id),onOnDelete:_e=>e(d)(G.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(n),lastPage:e(f),perPage:e(m),"onUpdate:currentPage":j[9]||(j[9]=G=>n.value=G),"onUpdate:perPage":j[10]||(j[10]=G=>m.value=G)},null,8,["currentPage","lastPage","perPage"]),t(we,{ids:e(V),showConfirmDelete:e(L),onClose:j[11]||(j[11]=G=>L.value=!1),onHandleDelete:j[12]||(j[12]=G=>e(T)(e(V)))},null,8,["ids","showConfirmDelete"]),t(de)])])}}},pn={class:"grid gap-2 py-4"},fn={class:"grid items-center grid-cols-4 gap-4"},gn={class:"flex flex-col w-full space-y-2"},_n={key:0,class:"text-red-400"},yn={class:"pl-2 ml-auto"},bn={class:"rc-kdb-class2"},xn={class:"pl-2 ml-auto"},kn={class:"rc-kdb-class2"},wn={__name:"VendorAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:P}){const{toastSuccess:b,toastError:k,toastInfo:E,toastWarning:n,toastDefault:m}=re(),f=ue(),{openDialog:A,closeDialog:$,isDialogOpen:U}=f,x=P;g([]);const u=g([]),r=g({vendorName:""}),v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&T()}ee(()=>{v.editId>0&&H.get(`/api/vendors/${v.editId}`).then(D=>{r.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function T(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";H[s]("/api/vendors"+D,r.value).then(p=>{x("save",p.data),b("Vendor created","The vendor has been created successfully."),$("DialogNewVendor")}).catch(p=>{u.value=p.response.data.errors})}return(D,s)=>{const p=w("Label"),I=w("Input"),S=w("Button"),L=w("Icon");return o(),N(e(Ve),{open:e(U)("DialogNewVendor")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"w-full",onEscapeKeyDown:s[4]||(s[4]=K=>e($)("DialogNewVendor")),onPointerDownOutside:s[5]||(s[5]=K=>e($)("DialogNewVendor")),onCloseClicked:s[6]||(s[6]=K=>e($)("DialogNewVendor"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[c(C(y.editId>0?"Edit":"Add")+" Vendor "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Ke),null,{default:l(()=>[c("Make changes to your vendor here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",pn,[a("div",fn,[t(p,{for:"vendorName",class:"text-right"},{default:l(()=>s[7]||(s[7]=[c(" Vendor Name ")])),_:1}),t(I,{modelValue:r.value.vendorName,"onUpdate:modelValue":s[0]||(s[0]=K=>r.value.vendorName=K),id:"vendorName",class:"col-span-3"},null,8,["modelValue"])])]),a("div",gn,[u.value.vendorName?(o(),h("span",_n,C(u.value.vendorName[0]),1)):M("",!0)]),t(e(Ie),null,{default:l(()=>[t(S,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[1]||(s[1]=K=>e($)("DialogNewVendor")),size:"sm"},{default:l(()=>s[8]||(s[8]=[c(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),N(S,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[2]||(s[2]=K=>T()),variant:"primary"},{default:l(()=>[s[10]||(s[10]=c(" Save ")),a("div",yn,[a("kbd",bn,[s[9]||(s[9]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0),v.editId>0?(o(),N(S,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=K=>T()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=c(" Update ")),a("div",xn,[a("kbd",kn,[s[11]||(s[11]=c(" Ctrl  ")),t(L,{icon:"uil:enter",class:""})])])]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function $n(){const y=g(1),P=g(parseInt(localStorage.getItem("perPage")||"10")),b=g("-id"),k=g(""),E=g({}),n=ue(),m=g(0),f=g(!1),A=g(1),$=g(1),U=g([]),x=g(!1),{openDialog:u}=n,{toastSuccess:r,toastError:v}=re();async function d(V={}){f.value=!0;try{const B=await H.get("/api/vendors",{params:{page:y.value,perPage:P.value,sort:b.value,...E.value}});U.value=B.data,A.value=B.data.last_page}catch(B){console.error("Error fetching vendors:",B),v("Error","Failed to fetch vendors.")}finally{f.value=!1}}const T=V=>{m.value=0,$.value=Math.random(),u("DialogNewVendor")};function D(V){m.value=V,$.value=Math.random(),u("DialogNewVendor")}const s=async V=>{try{await H.delete(`/api/vendors/${V}`),d(),r("Vendor Deleted","The vendor has been deleted successfully.")}catch(B){console.error("Error deleting vendor:",B),v("Error","Failed to delete vendor.")}},p=async V=>{try{await H.post("/api/vendors/delete-many",{ids:V}),d(),r("Vendors Deleted","The vendors have been deleted successfully."),x.value=!1,ve.emit("deleteManyVendorsSuccess")}catch(B){console.error("Error deleting vendors:",B),v("Error","Failed to delete vendors."),x.value=!1}},I=V=>{m.value=V,$.value=Math.random(),u("DialogNewVendor")},S=()=>{d(),$.value=Math.random()};function L(V){V.altKey&&V.key==="n"&&(V.preventDefault(),u("DialogNewVendor"))}const K=Se(()=>{E.value["filter[vendorName]"]=k.value,y.value=1,d()},500);J([y,P],()=>{d()}),J(k,()=>{K()}),J(P,V=>{localStorage.setItem("perPage",V.toString())});function i(V){b.value===V?b.value=`-${V}`:b.value=V,d()}return{vendors:U,isLoading:f,currentPage:y,perPage:P,lastPage:A,editId:m,newVendorModalKey:$,searchTerm:k,openDialog:u,fetchVendors:d,createVendor:T,updateVendor:D,deleteVendor:s,deleteManyVendors:p,handleSave:S,handleKeyDown:L,viewEditDialog:I,toggleSort:i,sortParam:b,showConfirmDelete:x}}const Cn={class:"flex flex-col h-full gap-1 text-center"},hn={class:"flex items-center justify-between p-4"},Dn={class:"flex items-center"},In={class:"flex"},Vn={class:"px-6"},Sn={key:0,class:"mr-2"},En={__name:"Main",setup(y){const{editId:P,vendors:b,currentPage:k,perPage:E,searchTerm:n,lastPage:m,isLoading:f,fetchVendors:A,viewEditDialog:$,createVendor:U,deleteVendor:x,deleteManyVendors:u,handleSave:r,handleKeyDown:v,newVendorModalKey:d,toggleSort:T,sortParam:D,showConfirmDelete:s}=$n(),{selectedRows:p,selectAll:I,toggleSelectAll:S,toggleSelectRow:L}=Ne(b);return ee(()=>{A(),window.addEventListener("keydown",v),ve.on("deleteManyVendorsSuccess",()=>{p.value=[],I.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",v)}),(K,i)=>{const V=w("Input"),B=w("Button"),W=w("Checkbox"),Z=w("Icon"),le=w("router-link"),j=w("Badge"),oe=w("Toaster");return o(),h("div",Cn,[a("div",hn,[a("div",Dn,[t(V,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter vendors...",modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=_=>se(n)?n.value=_:null)},null,8,["modelValue"]),t(B,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:i[1]||(i[1]=_=>n.value="")},{default:l(()=>i[12]||(i[12]=[c(" Clear Filter ")])),_:1})]),a("div",In,[e(p).length?(o(),N(B,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:i[2]||(i[2]=ae(_=>s.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[c(" Delete Selected "+C(e(p).length)+" Tag(s) ",1)]),_:1})):M("",!0),t(B,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(U),["prevent"]),variant:"primary"},{default:l(()=>i[13]||(i[13]=[c(" New Vendor "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Vn,[t(e(Be),null,{default:l(()=>[t(e(Ae),null,{default:l(()=>[t(e(ie),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(W,{id:"selectAll",modelValue:e(I),"onUpdate:modelValue":i[3]||(i[3]=_=>se(I)?I.value=_:null),checked:e(I),onClick:i[4]||(i[4]=_=>e(S)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[5]||(i[5]=_=>e(T)("id"))},{default:l(()=>[t(Z,{icon:e(D)==="id"?"lucide:sort-asc":e(D)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[14]||(i[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(B,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:i[6]||(i[6]=_=>e(T)("vendorName"))},{default:l(()=>[t(Z,{icon:e(D)==="vendorName"?"lucide:sort-asc":e(D)==="-vendorName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),i[15]||(i[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[50%]"},{default:l(()=>i[16]||(i[16]=[c("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>i[17]||(i[17]=[c("Actions")])),_:1})]),_:1})]),_:1}),t(e(Ue),null,{default:l(()=>[e(f)?(o(),N(Pe,{key:0})):e(f)?(o(),N(Te,{key:2})):(o(!0),h(X,{key:1},Q(e(b).data,_=>(o(),N(e(ie),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(W,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(p).includes(_.id),onClick:Y=>e(L)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[c(C(_.vendorName),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(X,null,Q(_.device.slice(0,8),(Y,ge)=>(o(),h("span",{key:Y.device_name,class:"mr-2"},[t(j,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(le,{to:Y.view_url},{default:l(()=>[c(C(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",Sn,[t(Ge,{recordName:_.vendorName,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):M("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:Y=>e($)(_.id),onOnDelete:Y=>e(x)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Me,{currentPage:e(k),lastPage:e(m),perPage:e(E),"onUpdate:currentPage":i[7]||(i[7]=_=>k.value=_),"onUpdate:perPage":i[8]||(i[8]=_=>E.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),N(wn,{onSave:i[9]||(i[9]=_=>e(r)()),key:e(d),editId:e(P)},null,8,["editId"])),t(we,{ids:e(p),showConfirmDelete:e(s),onClose:i[10]||(i[10]=_=>s.value=!1),onHandleDelete:i[11]||(i[11]=_=>e(u)(e(p)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Nn={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},Pn={key:0,class:"border-t border-b topRow"},Tn={class:"flex items-center gap-2"},Mn={class:"flex items-center gap-2 mr-4"},An={class:"flex items-center gap-2"},Un={key:1},Yn={__name:"Main",props:{},setup(y){const P=g(null),b=g(0),k=g(1),E=Ft(),n=g(localStorage.getItem("inventorySelectedView")||"devices"),m=Lt(),f=Oe(),A=[{id:"devices",label:"Devices",icon:"DeviceIcon",isFavorite:g(!1),route:"/devices"},{id:"commandgroups",label:"Command Groups",icon:"CommandGroupIcon",isFavorite:g(!1),route:"/commandgroups"},{id:"commands",label:"Commands",icon:"CommandsIcon",isFavorite:g(!1),route:"/commands"},{id:"templates",label:"Templates",icon:"TemplateIcon",isFavorite:g(!1),route:"/templates"},{id:"vendors",label:"Vendors",icon:"VendorIcon",isFavorite:g(!1),route:"/vendors"},{id:"tags",label:"Tags",icon:"TagIcon",isFavorite:g(!1),route:"/tags"}];ee(()=>{m.params.view?$(m.params.view):m.name==="devicesview"?$(m.name):m.path.includes("inventory")||$(m.name),A.forEach(u=>{u.isFavorite.value=E.isFavorite(u.id)})});function $(u){localStorage.setItem("inventorySelectedView",u),n.value=u,f.push({name:u})}function U(u){const r=A.find(v=>v.id===u);r&&(r.isFavorite.value=!r.isFavorite.value,E.toggleFavorite(r))}function x(u){P.value=u.type,b.value=u.id,k.value+=1}return(u,r)=>{const v=w("Icon"),d=w("Button"),T=w("StarUnselected"),D=w("StarSelected");return o(),h("main",Nn,[P.value===null?(o(),h("div",Pn,[t(e(at),null,{default:l(()=>{var s,p;return[t(e(lt),{"as-child":"",class:"p-4 ml-2"},{default:l(()=>[t(d,{variant:"outline"},{default:l(()=>[a("span",Tn,[t(v,{icon:"fluent-color:pin-16"}),r[3]||(r[3]=c(" Select View "))])]),_:1})]),_:1}),a("div",Mn,[(o(),N(Ze(((s=A.find(I=>I.id===n.value))==null?void 0:s.icon)||""))),c(" "+C(((p=A.find(I=>I.id===n.value))==null?void 0:p.label)||""),1)]),t(e(st),{class:"w-56",align:"start"},{default:l(()=>[t(e(Qt),null,{default:l(()=>[(o(),h(X,null,Q(A,I=>t(e(Fe),{key:I.id,onClick:S=>$(I.id)},{default:l(()=>[a("span",An,[(o(),N(Ze(I.icon))),c(" "+C(I.label),1)]),t(e(jt),null,{default:l(()=>[t(e(zt),null,{default:l(()=>[t(e(Kt),{"as-child":""},{default:l(()=>[t(e(Le),{onClick:ae(S=>U(I.id),["stop","prevent"])},{default:l(()=>[I.isFavorite.value?M("",!0):(o(),N(T,{key:0})),I.isFavorite.value?(o(),N(D,{key:1})):M("",!0)]),_:2},1032,["onClick"])]),_:2},1024),t(e(Ot),null,{default:l(()=>[a("p",null,C(I.isFavorite.value?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]}),_:1})])):M("",!0),P.value?M("",!0):(o(),h("div",Un,[n.value==="devices"||n.value==="devicesview"?(o(),N(Fo,{key:0,onViewDeviceDetailsPane:r[0]||(r[0]=s=>x(s))})):M("",!0),n.value==="commandgroups"?(o(),N(Ql,{key:1})):M("",!0),n.value==="commands"?(o(),N(Vl,{key:2})):M("",!0),n.value==="templates"?(o(),N(vn,{key:3,onCreateTemplate:r[1]||(r[1]=s=>x(s)),onViewTemplateDetailsPane:r[2]||(r[2]=s=>x(s))})):M("",!0),n.value==="vendors"?(o(),N(En,{key:4})):M("",!0),n.value==="tags"?(o(),N(sn,{key:5})):M("",!0)]))])}}};export{Yn as default};
