import{o as r,d as k,j as o,r as h,I as we,u as ne,p as Oe,A as K,B as T,J as He,c as D,au as Te,z as w,w as s,e as t,f as e,K as Ze,C as H,L as Ae,M as Ge,N as Ee,h as x,t as V,aw as Ke,F as B,G as O,q as W,a9 as ke,k as q,av as Qe,Q as We,R as Ye,a7 as de,b as oe,ay as Je,T as Y,a as Q,X as ae,Y as Se,Z as N,al as X,am as ee,an as te,ao as se,az as Xe,D as G,E as Z,aA as et,aB as E,aC as tt,aD as ue,aE as st,aF as at,aG as Pe,aH as Ie,aI as lt,aJ as nt,aK as ot,aL as rt,aM as it,aN as dt,aO as ut,aP as ct,aQ as ft,a3 as mt,aR as pt,aS as _e,v as gt,ax as vt,aT as ie,x as _t,y as yt,U as Ct,_ as qe,i as De,ac as le,aU as ye,m as Ve,ar as Fe,a5 as Re,at as Be,g as xt,H as ht,aj as bt,ah as $t,ai as wt,aq as kt,W as St}from"./app-BJXfwFB0.js";import{a as Pt,u as It,m as qt,e as Ce,b as xe,c as Dt,_ as Vt}from"./ToggleGroupItem-DZGSAzGL.js";import{_ as ce,a as fe,b as me,c as pe,d as ge,e as ve}from"./SelectScrollDownButton-D5qtKxEQ.js";import{a as Le,b as U,c as Me,f as je,g as ze,u as Ft,e as Rt}from"./useRowSelection-CWyWcgkn.js";import{_ as Ne}from"./CardFooter.vue_vue_type_script_setup_true_lang-DOGi-qyz.js";import{_ as Bt}from"./DeviceMultiSelect-lfTwdbx7.js";/* empty css               */import"./eventBus-CGRXT3Tn.js";function Lt(u,n){return r(),k("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:"currentColor"})])}function Mt(u,n){return r(),k("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}const jt={class:"flex justify-between"},zt={class:"flex items-center"},Nt={class:"flex items-center"},Ut={class:"grid gap-4 px-6 py-4 overflow-y-auto"},Ot={class:"flex flex-col justify-between"},Ht={class:"underline"},Tt=["innerHTML"],Zt={__name:"PeekConfigSearchMatchesDialog",props:{editId:{type:Number,required:!0},record:{type:Object,required:!0},searchString:{type:String,required:!0}},setup(u){h({});const n=we(),f=h({}),l=h(!0),c=h(localStorage.getItem("selectedLanguage")||"language-plaintext"),{closeDialog:d,isDialogOpen:y}=n;ne();const{text:p,copy:v,copied:a,isSupported:i}=Oe(),g=u,{matches:b}=g.record,P=["bash","c","cpp","css","html","java","javascript","language-plaintext","php","python","typescript"];K(()=>{window.addEventListener("keydown",S),l.value=!1});const C=I=>{if(!g.searchString)return I;const $=new RegExp(g.searchString,"gi");return I.replace($,A=>`<span class="highlightMatch">${A}</span>`).replace(/\n/g,"<br>")};function S(I){I.key==="Escape"&&m()}const _=T(()=>g.record.file);He(()=>{window.removeEventListener("keydown",S)});const L=I=>{f.value[I]=!0},j=I=>{f.value[I]=!1};function m(){d("peek-config-search-matches-dialog-"+g.editId)}return(I,$)=>{const z=D("Icon"),A=D("Button"),R=Te("highlightjs");return r(),w(e(Ye),{open:e(y)("peek-config-search-matches-dialog-"+u.editId)},{default:s(()=>[t(e(Ze),{"as-child":""},{default:s(()=>[H(I.$slots,"default")]),_:3}),t(e(Ae),{class:"sm:max-w-[70dvw] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]",onEscapeKeyDown:$[5]||($[5]=F=>e(d)("peek-config-search-matches-dialog-"+u.editId)),onPointerDownOutside:$[6]||($[6]=F=>e(d)("peek-config-search-matches-dialog-"+u.editId)),onCloseClicked:$[7]||($[7]=F=>e(d)("peek-config-search-matches-dialog-"+u.editId))},{default:s(()=>[t(e(Ge),{class:"p-6 pb-0"},{default:s(()=>[t(e(Ee),null,{default:s(()=>[x("Configuration Quick Peek (Config ID: "+V(u.editId)+")",1)]),_:1}),t(e(Ke),null,{default:s(()=>[o("div",jt,[o("div",zt,[$[8]||($[8]=o("div",{class:"mr-2"},"Language Options:",-1)),t(e(ce),{modelValue:c.value,"onUpdate:modelValue":$[0]||($[0]=F=>c.value=F)},{default:s(()=>[t(e(fe),{class:"w-[180px]"},{default:s(()=>[t(e(me),{placeholder:"Select a language"})]),_:1}),t(e(pe),null,{default:s(()=>[t(e(ge),null,{default:s(()=>[(r(),k(B,null,O(P,F=>t(e(ve),{value:F,key:F},{default:s(()=>[x(V(F),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",Nt,[x(" Path: "+V(_.value)+" ",1),t(z,{icon:e(a)?"material-symbols:check-circle-outline":e(a)?"material-symbols:content-copy-outline":"material-symbols:content-copy",class:W([e(a)?"text-green-500":"text-gray-500","ml-2 cursor-pointer hover:text-gray-700"]),onMouseover:$[1]||($[1]=F=>L("fileLocation")),onMouseleave:$[2]||($[2]=F=>j("fileLocation")),onClick:$[3]||($[3]=F=>e(v)(_.value))},null,8,["icon","class"])])])]),_:1})]),_:1}),o("div",Ut,[o("div",Ot,[l.value?(r(),w(ke,{key:0})):q("",!0),Qe((r(),k("pre",null,[$[14]||($[14]=x("        ")),o("code",{class:W(c.value)},[$[12]||($[12]=x(`
           `)),(r(!0),k(B,null,O(e(b),(F,M)=>(r(),k("div",{key:M,class:"context-block"},[$[9]||($[9]=x(`
`)),o("span",Ht,"Matched Line: "+V(F.line_number),1),$[10]||($[10]=x(`
      `)),o("pre",{innerHTML:C(F.context)},null,8,Tt),$[11]||($[11]=x(`
    `))]))),128)),$[13]||($[13]=x(`
        `))],2),$[15]||($[15]=x(`
      `))])),[[R]])])]),t(e(We),{class:"p-6 pt-0"},{default:s(()=>[t(A,{onClick:$[4]||($[4]=F=>m()),variant:"outline"},{default:s(()=>$[16]||($[16]=[x(" Close ")])),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}}};function At(u){const n=de("formatters"),f=we(),{openDialog:l,closeDialog:c,isDialogOpen:d}=f,y=oe(),p=h(0),v=h([]),a=h(!1),i=h(1),g=h(1),b=h(5),P=h([]),C=Je({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:!0,ignore_case:!0,start_date:"",end_date:""});Y(()=>u.filters,I=>{S(I),_()});function S(I){P.value=[],v.value=[],p.value=0,i.value=1,g.value=1,Object.assign(C,I)}const _=async()=>{var I,$;a.value=!0;try{const z=await Q.post("/api/configs/search",{device_name:C.device_name,command:C.command,device_category:C.device_category,search_string:C.search_string,lines_before:C.lines_before,lines_after:C.lines_after,latest_version_only:C.latest_version_only,ignore_case:C.ignore_case,start_date:C.start_date+" 00:00:00",end_date:C.end_date+" 23:59:59",page:g.value,per_page:b.value});z.data.data.length&&(P.value=z.data.data,p.value=z.data.current_page,i.value=z.data.last_page)}catch(z){console.log(z),v.value=(($=(I=z.response)==null?void 0:I.data)==null?void 0:$.errors)||[]}finally{a.value=!1}};function L(I){y.push({name:"configsview",params:{id:parseInt(I)},query:{ref:"configsearch"}})}function j(I){b.value=I,_()}function m(I){console.log(I),g.value=I,_()}return{changePage:m,currentPage:p,errors:v,formatters:n,isDialogOpen:d,isFetching:a,lastPage:i,openDialog:l,perPage:b,results:P,searchModel:C,updatePerpage:j,viewDetailsPane:L}}const Gt={class:"px-6"},Et={class:"flex items-center border-b"},Kt={key:0,class:"flex items-center justify-center my-4"},Qt={key:0},Wt={key:1},Yt={key:2,class:"flex items-center justify-center pb-8"},Jt={__name:"ConfigSearchResultsTable",props:{filters:Object},setup(u){const n=u,{changePage:f,currentPage:l,errors:c,formatters:d,isDialogOpen:y,isFetching:p,lastPage:v,openDialog:a,perPage:i,results:g,searchModel:b,updatePerpage:P,viewDetailsPane:C}=At(n);return(S,_)=>{const L=D("Icon"),j=D("Button");return r(),k("div",Gt,[t(e(je),null,{default:s(()=>[t(e(Le),null,{default:s(()=>[t(e(ae),null,{default:s(()=>[t(e(U),{class:"w-[5%]"},{default:s(()=>_[2]||(_[2]=[x("ID")])),_:1}),t(e(U),{class:"w-[20%]"},{default:s(()=>_[3]||(_[3]=[x("Device")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>_[4]||(_[4]=[x("Command Group")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>_[5]||(_[5]=[x("Filesize")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>_[6]||(_[6]=[x("Config date")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>_[7]||(_[7]=[x("Matches")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>_[8]||(_[8]=[x("Actions")])),_:1})]),_:1})]),_:1}),t(e(Me),null,{default:s(()=>[e(p)?(r(),w(Se,{key:0})):(r(!0),k(B,{key:1},O(e(g),m=>(r(),w(e(ae),{key:m.id},{default:s(()=>[t(e(N),{class:"text-start"},{default:s(()=>[x(V(m.id),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(m.device_name),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(m.device_category),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(e(d).formatFileSize(m.config_filesize)),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(e(d).formatTime(m.config_date)),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:I=>e(a)("peek-config-search-matches-dialog-"+m.id),class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl"},{default:s(()=>[o("span",Et,[t(L,{icon:"charm:eye",class:"mr-2 text-muted-foreground hover:text-blue-500"}),x(" "+V(m.matches.length?m.matches.length:"No")+" match"+V(m.matches.length>1?"es":""),1)])]),_:2},1032,["onClick"])]),_:2},1024),t(e(se),{class:"text-white bg-rcgray-800"},{default:s(()=>_[9]||(_[9]=[o("p",null,"View Matches",-1)])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(N),{class:"flex items-center"},{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:I=>e(a)("peek-config-dialog-"+m.id)},{default:s(()=>[t(L,{icon:"lets-icons:view-alt-fill",class:"size-6 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(se),{class:"text-white bg-rcgray-800"},{default:s(()=>_[10]||(_[10]=[o("p",null,"Peek Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),t(e(X),null,{default:s(()=>[t(e(ee),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:I=>e(C)(m.id)},{default:s(()=>[t(L,{icon:"hugeicons:file-view",class:"size-5 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(se),{class:"text-white bg-rcgray-800"},{default:s(()=>_[11]||(_[11]=[o("p",null,"Open Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),e(y)("peek-config-search-matches-dialog-"+m.id)?(r(),w(Zt,{key:0,record:m,editId:m.id,searchString:e(b).search_string},null,8,["record","editId","searchString"])):q("",!0),e(y)("peek-config-dialog-"+m.id)?(r(),w(Pt,{key:1,editId:m.id},null,8,["editId"])):q("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!e(p)&&e(g).length===0?(r(),k("div",Kt,[Object.keys(e(c)).length===0?(r(),k("div",Qt,"No results found.")):q("",!0),Object.keys(e(c)).length?(r(),k("div",Wt,[(r(!0),k(B,null,O(e(c),m=>(r(),k("span",{key:m,class:"col-span-3 col-start-2 text-sm text-red-400"},[_[12]||(_[12]=o("br",null,null,-1)),x(" "+V(m[0]),1)]))),128))])):q("",!0)])):q("",!0),!e(p)&&e(g).length>0?(r(),w(ze,{key:1,currentPage:e(l),lastPage:e(v),perPage:e(i),"onUpdate:currentPage":_[0]||(_[0]=m=>e(f)(m)),"onUpdate:perPage":_[1]||(_[1]=m=>e(P)(m))},null,8,["currentPage","lastPage","perPage"])):q("",!0),!e(p)&&e(l)>=e(v)?(r(),k("div",Yt,_[13]||(_[13]=[o("hr",{class:"flex-grow mx-8"},null,-1),o("div",{class:"text-muted-foreground"},"No more results to load.",-1),o("hr",{class:"flex-grow mx-8"},null,-1)]))):q("",!0)])}}},Xt={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},es={__name:"RangeCalendar",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1},modelValue:{type:Object,required:!1},placeholder:{type:null,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(u,{emit:n}){const f=u,l=n,c=T(()=>{const{class:y,...p}=f;return p}),d=Xe(c,l);return(y,p)=>(r(),w(e(et),G({class:e(Z)("p-3",f.class)},e(d)),{default:s(({grid:v,weekDays:a})=>[t(e(rs),null,{default:s(()=>[t(e(us)),t(e(is)),t(e(ds))]),_:1}),o("div",Xt,[(r(!0),k(B,null,O(v,i=>(r(),w(e(as),{key:i.value.toString()},{default:s(()=>[t(e(ns),null,{default:s(()=>[t(e(he),null,{default:s(()=>[(r(!0),k(B,null,O(a,g=>(r(),w(e(os),{key:g},{default:s(()=>[x(V(g),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t(e(ls),null,{default:s(()=>[(r(!0),k(B,null,O(i.rows,(g,b)=>(r(),w(e(he),{key:`weekDate-${b}`,class:"mt-2 w-full"},{default:s(()=>[(r(!0),k(B,null,O(g,P=>(r(),w(e(ts),{key:P.toString(),date:P},{default:s(()=>[t(e(ss),{day:P,month:i.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},ts={__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(tt),G({class:e(Z)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-view])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},ss={__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(st),G({class:e(Z)(e(ue)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},as={__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(at),G({class:e(Z)("w-full border-collapse space-y-1",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},ls={__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const n=u;return(f,l)=>(r(),w(e(lt),Pe(Ie(n)),{default:s(()=>[H(f.$slots,"default")]),_:3},16))}},ns={__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const n=u;return(f,l)=>(r(),w(e(nt),Pe(Ie(n)),{default:s(()=>[H(f.$slots,"default")]),_:3},16))}},he={__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(ot),G({class:e(Z)("flex",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},os={__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(rt),G({class:e(Z)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},rs={__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(it),G({class:e(Z)("relative flex w-full items-center justify-between pt-1",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},is={__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(dt),G({class:e(Z)("text-sm font-medium",n.class)},e(l)),{default:s(({headingValue:y})=>[H(c.$slots,"default",{headingValue:y},()=>[x(V(y),1)])]),_:3},16,["class"]))}},ds={__name:"RangeCalendarNextButton",props:{step:{type:String,required:!1},nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(ct),G({class:e(Z)(e(ue)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default",{},()=>[t(e(ut),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},us={__name:"RangeCalendarPrevButton",props:{step:{type:String,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),w(e(ft),G({class:e(Z)(e(ue)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default",{},()=>[t(e(Mt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Ue=mt({__name:"ConfigSearchFilterCardDateRangePicker",emits:["dateChange"],setup(u,{emit:n}){const f=n,l=new pt("en-US",{dateStyle:"medium"}),c=new Date().getFullYear(),d=new Date().getMonth()+1,y=new Date().getDate(),p=h({start:new _e(c,d,y).subtract({days:7}),end:new _e(c,d,y)}),v=Ct(a=>{f("dateChange",a)},500);return Y(p,a=>{v(a)}),K(()=>{f("dateChange",p.value)}),(a,i)=>(r(),w(e(yt),null,{default:s(()=>[t(e(gt),{"as-child":""},{default:s(()=>[t(e(vt),{variant:"outline",class:W(e(Z)("w-[280px] justify-start text-left font-normal",!p.value&&"text-muted-foreground"))},{default:s(()=>[t(e(Lt),{class:"w-4 h-4 mr-2"}),p.value.start?(r(),k(B,{key:0},[p.value.end?(r(),k(B,{key:0},[x(V(e(l).format(p.value.start.toDate(e(ie)())))+" - "+V(e(l).format(p.value.end.toDate(e(ie)()))),1)],64)):(r(),k(B,{key:1},[x(V(e(l).format(p.value.start.toDate(e(ie)()))),1)],64))],64)):(r(),k(B,{key:1},[x("Pick a date")],64))]),_:1},8,["class"])]),_:1}),t(e(_t),{class:"w-auto p-0"},{default:s(()=>[t(e(es),{modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=g=>p.value=g),"initial-focus":"","number-of-months":2,"onUpdate:startValue":i[1]||(i[1]=g=>p.value.start=g)},null,8,["modelValue"])]),_:1})]),_:1}))}});function cs(u){const n=h({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:h(!0),ignore_case:h(!0),start_date:"",end_date:""}),f=h(null),l=h([]);K(()=>{c()});function c(){Q.get("/api/configs/distinct-commands/0").then(v=>{l.value=v.data.data}).catch(v=>{createNotification({type:"danger",message:v.response.data.message})})}function d(){n.value.device_name="",n.value.command="",n.value.device_category="",n.value.search_string="",n.value.lines_before=5,n.value.lines_after=5,n.value.latest_version_only=h(!0),n.value.ignore_case=h(!0),n.value.start_date="",n.value.end_date="",u("searchCompleted",n.value)}function y(v){if(v.start&&v.end){const a=`${v.start.year}-${String(v.start.month).padStart(2,"0")}-${String(v.start.day).padStart(2,"0")}`,i=`${v.end.year}-${String(v.end.month).padStart(2,"0")}-${String(v.end.day).padStart(2,"0")}`;n.start_date=a,n.end_date=i}else n.start_date="",n.end_date="";f.value=v}function p(){u("searchCompleted",n.value)}return{clearAll:d,commands:l,model:n,performSearch:p,setDates:y}}const fs={key:0,class:"space-y-2"},ms={key:0,class:"grid gap-3"},ps={class:"grid items-center"},gs={class:"grid items-center"},vs={class:"grid items-center"},_s={class:"grid items-center"},ys={class:"flex items-center mt-4 space-x-4"},Cs={class:"flex items-center mb-4 space-x-4"},xs={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2"},hs={class:"flex flex-col items-start"},bs={class:"flex flex-col items-start"},$s={class:"flex flex-col items-start w-full space-x-2"},ws={__name:"ConfigSearchFilterCard",props:{isLoading:Boolean},emits:["searchCompleted"],setup(u,{emit:n}){const f=n,{clearAll:l,commands:c,model:d,performSearch:y,setDates:p}=cs(f);return(v,a)=>{const i=D("Skeleton"),g=D("Input"),b=D("Label"),P=D("Button");return r(),k("div",null,[t(e(Ve),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(qe),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>a[11]||(a[11]=[o("div",{class:"grid gap-0.5"},null,-1)])),_:1}),t(e(De),{class:"p-4 pt-0 text-sm"},{default:s(()=>[u.isLoading?(r(),k("div",fs,[t(i,{class:"w-1/2 h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"})])):q("",!0),t(le,{name:"fade"},{default:s(()=>[u.isLoading?q("",!0):(r(),k("div",ms,[o("div",ps,[t(e(ce),{modelValue:e(d).command,"onUpdate:modelValue":a[0]||(a[0]=C=>e(d).command=C)},{default:s(()=>[t(e(fe),{class:"w-full"},{default:s(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(pe),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(ge),null,{default:s(()=>[(r(!0),k(B,null,O(e(c),C=>(r(),w(e(ve),{value:C.command},{default:s(()=>[x(V(C.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[12]||(a[12]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[x(" Required "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",gs,[t(g,{modelValue:e(d).search_string,"onUpdate:modelValue":a[1]||(a[1]=C=>e(d).search_string=C),id:"search_string",autocomplete:"off",placeholder:"Search String",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[13]||(a[13]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[x(" Required "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",vs,[t(g,{modelValue:e(d).device_name,"onUpdate:modelValue":a[2]||(a[2]=C=>e(d).device_name=C),id:"device_name",autocomplete:"off",placeholder:"Device Name",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[14]||(a[14]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial device name",-1))]),o("div",_s,[t(g,{modelValue:e(d).device_category,"onUpdate:modelValue":a[3]||(a[3]=C=>e(d).device_category=C),id:"device_category",autocomplete:"off",placeholder:"Command Group",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[15]||(a[15]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial command group name",-1))]),o("div",ys,[t(e(ye),{id:"ignore_case",checked:e(d).ignore_case,"onUpdate:checked":a[4]||(a[4]=C=>e(d).ignore_case=C)},null,8,["checked"]),a[16]||(a[16]=o("label",{for:"ignore_case",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Ignore Case ",-1))]),o("div",Cs,[t(e(ye),{id:"latest_version_only",checked:e(d).latest_version_only,"onUpdate:checked":a[5]||(a[5]=C=>e(d).latest_version_only=C)},null,8,["checked"]),a[17]||(a[17]=o("label",{for:"latest_version_only",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Latest Version Only ",-1))]),o("div",xs,[o("div",hs,[t(g,{type:"number",id:"lines_before",modelValue:e(d).lines_before,"onUpdate:modelValue":a[6]||(a[6]=C=>e(d).lines_before=C)},null,8,["modelValue"]),t(b,{for:"lines_before",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>a[18]||(a[18]=[x(" Lines Before ")])),_:1})]),o("div",bs,[t(g,{type:"number",id:"lines_after",modelValue:e(d).lines_after,"onUpdate:modelValue":a[7]||(a[7]=C=>e(d).lines_after=C)},null,8,["modelValue"]),t(b,{for:"lines_after",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>a[19]||(a[19]=[x(" Lines After ")])),_:1})])]),o("div",$s,[t(Ue,{class:"w-full",onDateChange:a[8]||(a[8]=C=>e(p)(C))}),a[20]||(a[20]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Ne),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[u.isLoading?q("",!0):(r(),w(P,{key:0,variant:"outline",onClick:a[9]||(a[9]=C=>e(l)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>a[21]||(a[21]=[x(" Clear ")])),_:1})),u.isLoading?q("",!0):(r(),w(P,{key:1,variant:"primary",onClick:a[10]||(a[10]=C=>e(y)()),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>a[22]||(a[22]=[x(" Search ")])),_:1}))]),_:1})]),_:1})])}}},ks={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},Ss={class:"flex justify-between w-full p-2 border-b"},Ps={class:"flex items-center justify-between p-2 mb-4 border-b"},Is={class:"flex items-center justify-between p-2 mb-2 border-b"},qs={__name:"ConfigSearch",setup(u){const n=h({}),f=oe(),l=h(null),c=h(!1),d=a=>{n.value={...a}},y=()=>{f.go(-1)};function p(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse(),c.value=!c.value}function v(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse(),c.value=!c.value}return(a,i)=>{const g=D("Icon"),b=D("Button"),P=D("ResizablePanel"),C=D("ResizableHandle"),S=D("ResizablePanelGroup");return r(),k("div",ks,[o("div",Ss,[t(b,{onClick:i[0]||(i[0]=_=>y()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(g,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),i[3]||(i[3]=o("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),i[4]||(i[4]=o("div",{class:"flex justify-end"},null,-1))]),t(S,{direction:"horizontal",class:""},{default:s(()=>[t(P,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement4",ref:l,class:"h-[86vh]"},{default:s(()=>[o("div",Ps,[i[5]||(i[5]=o("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(Fe,{class:"mr-2",onClose:i[1]||(i[1]=_=>p())})]),t(ws,{onSearchCompleted:d})]),_:1},512),t(C,{"with-handle":""}),t(P,{class:"h-[86vh]"},{default:s(()=>[t(e(Re),{class:"border border-none rounded-md"},{default:s(()=>[o("div",null,[o("div",Is,[t(Be,{class:"ml-2",onOpenNav:i[2]||(i[2]=_=>v()),navPanelBtnState:c.value},null,8,["navPanelBtnState"]),o("h1",{class:W(["w-full text-sm font-semibold",c.value===!1?"ml-2 ":""])}," Results ",2)]),t(Jt,{filters:n.value},null,8,["filters"])])]),_:1})]),_:1})]),_:1})])}}};function Ds(u){const n=h(null),f=h([]),l=h({selectedCommand:[],device:[],start_date:"",end_date:""});K(()=>{c()});function c(){Q.get("/api/configs/distinct-commands/0").then(v=>{f.value=v.data.data}).catch(v=>{createNotification({type:"danger",message:v.response.data.message})})}function d(){l.value.selectedCommand=[],l.value.device=[],l.value.start_date="",l.value.end_date="",u("updateConfigFilter",l.value)}function y(v){if(v.start&&v.end){const a=`${v.start.year}-${String(v.start.month).padStart(2,"0")}-${String(v.start.day).padStart(2,"0")}`,i=`${v.end.year}-${String(v.end.month).padStart(2,"0")}-${String(v.end.day).padStart(2,"0")}`;l.value.start_date=a,l.value.end_date=i}else l.value.start_date="",l.value.end_date="";n.value=v}function p(){u("updateConfigFilter",l.value)}return{clearAll:d,commands:f,model:l,performFilter:p,setDates:y}}const Vs={class:"grid gap-0.5"},Fs={key:0,class:"space-y-2"},Rs={key:0,class:"grid gap-3"},Bs={class:"grid items-center"},Ls={class:"grid items-center"},Ms={class:"flex flex-col items-start w-full space-x-2"},be={__name:"ConfigCompareFilterCard",props:{isLoading:Boolean,comparePosition:String},emits:["updateConfigFilter"],setup(u,{emit:n}){const f=n,l=de("formatters"),{clearAll:c,commands:d,model:y,performFilter:p,setDates:v}=Ds(f);return(a,i)=>{const g=D("Skeleton"),b=D("Button");return r(),k("div",null,[t(e(Ve),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(qe),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[o("div",Vs,[t(e(xt),{class:"flex items-center gap-2 text-lg group"},{default:s(()=>[x(V(e(l).capitalize(u.comparePosition))+" Device",1)]),_:1})])]),_:1}),t(e(De),{class:"p-4 pt-0 text-sm"},{default:s(()=>[u.isLoading?(r(),k("div",Fs,[t(g,{class:"w-1/2 h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"}),t(g,{class:"w-full h-4"})])):q("",!0),t(le,{name:"fade"},{default:s(()=>[u.isLoading?q("",!0):(r(),k("div",Rs,[o("div",Bs,[t(Bt,{singleSelect:!0,modelValue:e(y).device,"onUpdate:modelValue":i[0]||(i[0]=P=>e(y).device=P),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),i[5]||(i[5]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[x(" Select a device for the left side (Required) "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",Ls,[t(e(ce),{modelValue:e(y).selectedCommand,"onUpdate:modelValue":i[1]||(i[1]=P=>e(y).selectedCommand=P)},{default:s(()=>[t(e(fe),{class:"w-full"},{default:s(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(pe),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(ge),null,{default:s(()=>[(r(!0),k(B,null,O(e(d),P=>(r(),w(e(ve),{value:P.command},{default:s(()=>[x(V(P.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),i[6]||(i[6]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Optionally select a command to filter the results",-1))]),o("div",Ms,[t(Ue,{class:"w-full",onDateChange:i[2]||(i[2]=P=>e(v)(P))}),i[7]||(i[7]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Ne),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[u.isLoading?q("",!0):(r(),w(b,{key:0,variant:"outline",onClick:i[3]||(i[3]=P=>e(c)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>i[8]||(i[8]=[x(" Clear ")])),_:1})),u.isLoading?q("",!0):(r(),w(b,{key:1,variant:"primary",onClick:i[4]||(i[4]=P=>e(p)(u.comparePosition)),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>i[9]||(i[9]=[x(" Filter ")])),_:1}))]),_:1})]),_:1})])}}};function js(u,n){const{toastSuccess:f,toastError:l}=ne(),c=h(!1),d=h(1),y=h(1),p=h(parseInt(localStorage.getItem("perPage")||"5")),v=h([]);K(()=>{u.filterData.device.length>=1&&a()});function a(){if(c.value=!0,u.filterData.device.length===0){console.error("No device selected.");return}Q.get("/api/configs/all-by-deviceid/"+u.filterData.device[0].id+"/1?filter[q]="+u.filterData.selectedCommand,{params:{perPage:p.value,page:d.value}}).then(i=>{v.value=i.data,y.value=i.data.last_page,c.value=!1}).catch(i=>{console.error("Error fetching commands:",i),l("Error","Failed to fetch commands."),c.value=!1})}return Y([d,p],()=>{a()}),Y(p,i=>{localStorage.setItem("perPage",i.toString())}),{currentPage:d,isLoading:c,lastPage:y,perPage:p,results:v}}const zs={class:"w-full"},Ns={key:0,class:"min-h-[35dvh] flex items-center justify-center"},Us={class:"text-sm text-center"},Os={class:"text-muted-foreground"},Hs={key:1,class:"min-h-[35dvh] flex-1 w-full"},Ts={class:"px-6"},Zs={key:0,class:"flex items-center mt-4"},As={class:"text-sm"},$e={__name:"ConfigCompareFilterConfigResults",props:{filterData:Object,comparePosition:String},emits:["updateSelectedRows"],setup(u,{emit:n}){const f=de("formatters"),l=n,c=u,{currentPage:d,isLoading:y,lastPage:p,perPage:v,results:a}=js(c),{selectedRows:i,selectAll:g,toggleSelectAll:b,toggleSingleSelectRow:P}=Ft(a);return Y(i,C=>{l("updateSelectedRows",C)}),(C,S)=>{const _=D("Button"),L=D("Checkbox"),j=D("Icon");return r(),k("div",zs,[u.filterData.device.length===0?(r(),k("div",Ns,[o("div",Us,[o("span",Os,V(e(f).capitalize(u.comparePosition))+" selection. No results, yet!",1),S[4]||(S[4]=o("br",null,null,-1)),S[5]||(S[5]=o("span",{class:"text-muted-foreground"},"Add filters to select configurations for comparison",-1))])])):q("",!0),u.filterData.device.length>0?(r(),k("div",Hs,[o("div",Ts,[t(e(je),null,{default:s(()=>[t(e(Le),null,{default:s(()=>[t(e(ae),null,{default:s(()=>[t(e(U),{class:"w-[2%]"}),t(e(U),{class:"w-[5%]"},{default:s(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:S[0]||(S[0]=m=>C.toggleSort("id"))},{default:s(()=>S[6]||(S[6]=[o("span",{class:"ml-2"},"ID",-1)])),_:1})]),_:1}),t(e(U),{class:"w-[20%]"},{default:s(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:S[1]||(S[1]=m=>C.toggleSort("cred_name"))},{default:s(()=>S[7]||(S[7]=[o("span",{class:"ml-2"},"Name",-1)])),_:1})]),_:1}),t(e(U),{class:"w-[30%]"},{default:s(()=>S[8]||(S[8]=[x("Command")])),_:1}),t(e(U),{class:"w-[30%]"},{default:s(()=>S[9]||(S[9]=[x("Filename")])),_:1}),t(e(U),{class:"w-[10%]"},{default:s(()=>S[10]||(S[10]=[x("Created")])),_:1})]),_:1})]),_:1}),t(e(Me),null,{default:s(()=>[e(y)?(r(),w(Se,{key:0})):e(y)?(r(),w(Rt,{key:2})):(r(!0),k(B,{key:1},O(e(a).data,m=>(r(),w(e(ae),{onClick:I=>e(P)(m.id),class:"cursor-pointer hover:bg-rcgray-800",key:m.id},{default:s(()=>[t(e(N),{class:"text-start"},{default:s(()=>[t(L,{class:"cursor-pointer",id:"select-"+m.id,checked:!!e(i).includes(m.id),onClick:I=>e(P)(m.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(m.id),1)]),_:2},1024),t(e(N),{class:"text-start"}),t(e(N),{class:"text-start"},{default:s(()=>[x(V(m.command),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(m.config_filename),1)]),_:2},1024),t(e(N),{class:"text-start"},{default:s(()=>[x(V(e(f).formatTime(m.created_at)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(ze,{currentPage:e(d),lastPage:e(p),perPage:e(v),"onUpdate:currentPage":S[2]||(S[2]=m=>d.value=m),"onUpdate:perPage":S[3]||(S[3]=m=>v.value=m)},null,8,["currentPage","lastPage","perPage"]),e(i).length>0?(r(),k("div",Zs,[t(e(ht),{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(j,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),o("span",As,"Config ID "+V(e(i))+" selected for comparison",1)]),_:1})])):q("",!0)])])):q("",!0),S[11]||(S[11]=o("div",{class:"w-full my-4 border-t"},null,-1))])}}},Gs={class:"flex flex-col"},Es={class:"flex items-center p-2"},Ks={class:"flex items-center gap-2 ml-auto"},Qs={__name:"CompareDiffEditorComponent",props:{leftSelectedId:Number,rightSelectedId:Number,configResultsLeft:Object,configResultsRight:Object},setup(u){const n=u,f=h([]),{checkDarkModeIsSet:l,checkLineNumbersIsSet:c,checkMiniMapIsSet:d,checkStickyScrollIsSet:y,copied:p,copyItem:v,copyPath:a,darkmode:i,download:g,initDiffEditor:b,lineNumbers:P,meditorValue:C,minimap:S,search:_,toggleEditorDarkMode:L,toggleEditorLineNumbers:j,toggleEditorMinimap:m,toggleStickyScroll:I}=It(qt);K(()=>{$(),z()});function $(){l()&&f.value.push("dark"),c()&&f.value.push("lineNumbers")}function z(){var A=Ce.createModel(n.configResultsLeft.filecontent,"text/plain"),R=Ce.createModel(n.configResultsRight.filecontent,"text/plain");let F=b("code-editor__code-pre","rconfig");F&&F.setModel({original:A,modified:R})}return(A,R)=>{const F=D("Icon"),M=D("Button"),re=D("Separator");return r(),k(B,null,[o("div",Gs,[o("div",Es,[R[4]||(R[4]=o("div",{class:"flex items-center gap-2"},null,-1)),o("div",null,[t(M,{variant:"ghost",onClick:e(v),title:"copyItem"},{default:s(()=>[t(F,{icon:"mdi:content-copy"})]),_:1},8,["onClick"]),t(M,{variant:"ghost",class:"ml-1",onClick:R[0]||(R[0]=J=>e(g)(A.model.fileName)),title:"download"},{default:s(()=>[t(F,{icon:"mingcute:download-fill"})]),_:1})]),t(re,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),o("div",Ks,[t(e(Dt),{modelValue:f.value,"onUpdate:modelValue":R[3]||(R[3]=J=>f.value=J),type:"multiple"},{default:s(()=>[t(e(xe),{value:"dark",title:"Toggle bold",onClick:R[1]||(R[1]=J=>e(L)())},{default:s(()=>[t(F,{icon:"mdi:theme-light-dark",class:"w-4 h-4"})]),_:1}),t(e(xe),{value:"lineNumbers",title:"Line Numbers",onClick:R[2]||(R[2]=J=>e(j)())},{default:s(()=>[t(F,{icon:"mingcute:numbers-09-sort-ascending-line",class:"w-4 h-4"})]),_:1})]),_:1},8,["modelValue"])]),t(re,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),R[5]||(R[5]=o("span",null,"CONFIG",-1))]),t(re,{class:"relative w-full h-px shrink-0 bg-border"})]),R[6]||(R[6]=o("div",{class:"code-editor__code-pre",id:"code-editor__code-pre",style:{height:"calc(80vh)"}},null,-1))],64)}}};function Ws(u){const n=h(!0),f=h([]),l=h([]),c=h(parseInt(u.leftSelectedId[0],10)),d=h(parseInt(u.rightSelectedId[0],10)),{toastSuccess:y,toastError:p}=ne();K(()=>{n.value=!0,v(c.value),a(d.value),setTimeout(()=>{n.value=!1},Math.floor(Math.random()*1501)+500)});function v(g){Q.get("/api/configs/"+g).then(async b=>{f.value=b.data,f.value.filecontent=await i(g)}).catch(b=>{console.error("Error fetching commands:",b),p("Error","Failed to fetch commands.")})}function a(g){Q.get("/api/configs/"+g).then(async b=>{l.value=b.data,l.value.filecontent=await i(g)}).catch(b=>{console.error("Error fetching commands:",b),p("Error","Failed to fetch commands.")})}function i(g){return Q.get("/api/configs/view-config/"+g).then(b=>b.data.data.content).catch(b=>{console.error("Error fetching commands:",b),p("Error","Failed to fetch commands.")})}return{isLoadingComponent:n,configResultsLeft:f,configResultsRight:l,getConfigLeft:v,getConfigRight:a,getConfigFileContent:i}}const Ys={key:0,class:"flex items-center justify-center h-full mt-48"},Js={__name:"ConfigCompareResults",props:{leftSelectedId:Array,rightSelectedId:Array},setup(u){const n=u,{isLoadingComponent:f,configResultsLeft:l,configResultsRight:c,getConfigLeft:d,getConfigRight:y,getConfigFileContent:p}=Ws(n);return(v,a)=>(r(),k(B,null,[e(f)?(r(),k("div",Ys,[t(ke,{text:"Running comparison"})])):q("",!0),e(f)?q("",!0):(r(),w(Qs,{key:1,configResultsRight:e(c),configResultsLeft:e(l),leftSelectedId:u.leftSelectedId,rightSelectedId:u.rightSelectedId},null,8,["configResultsRight","configResultsLeft","leftSelectedId","rightSelectedId"]))],64))}};function Xs(){const u=h({selectedCommand:[],device:[],start_date:"",end_date:""}),n=h({selectedCommand:[],device:[],start_date:"",end_date:""}),f=h(100),l=h(200),c=h([]),d=h(!1),y=h(!1),p=h(null),v=h(300),a=h(400),i=h([]),g=oe(),{toastSuccess:b,toastError:P}=ne(),C=(I,$)=>{I==="left"?u.value=$:I==="right"&&(n.value=$),l.value+=1,a.value+=1},S=()=>{if(c.length===0||i.length===0){P("Please select configurations for comparison");return}b("Comparing configurations...","",2e3),d.value=!0},_=()=>{g.go(-1)},L=()=>{c.value=[],u.value={selectedCommand:[],device:[],start_date:"",end_date:""},i.value=[],n.value={selectedCommand:[],device:[],start_date:"",end_date:""},d.value=!1,l.value+=1,f.value+=1,a.value+=1,v.value+=1};function j(){p!=null&&p.value.isCollapsed?p==null||p.value.expand():p==null||p.value.collapse(),y.value=!y.value}function m(){p!=null&&p.value.isCollapsed?p==null||p.value.expand():p==null||p.value.collapse(),y.value=!y.value}return{close:_,closeNav:j,leftConfigData:u,leftConfigFilterKey:f,leftConfigResultsKey:l,leftSelectedId:c,loadComparison:d,navClosed:y,openNav:m,panelElement3:p,reset:L,rightConfigData:n,rightConfigFilterKey:v,rightConfigResultsKey:a,rightSelectedId:i,sendConfigCompare:S,updateConfigFilterData:C}}const ea={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},ta={class:"flex justify-between w-full p-2 border-b"},sa={class:"flex items-center justify-end"},aa={key:0},la={class:"text-sm"},na={class:"flex items-center justify-between p-2 mb-2 border-b"},oa={class:"relative flex flex-col items-center"},ra={class:"min-h-[35dvh] flex-1 w-full"},ia={class:"min-h-[35dvh] flex-1 w-full"},da={class:"h-[80dvh]"},ua={class:"flex items-center justify-between p-2 mb-2 border-b"},ca={key:0,class:"relative flex flex-col items-center"},fa={key:1},ma={__name:"ConfigCompare",setup(u){const{close:n,closeNav:f,leftConfigData:l,leftConfigFilterKey:c,leftConfigResultsKey:d,leftSelectedId:y,loadComparison:p,navClosed:v,reset:a,openNav:i,panelElement3:g,rightConfigData:b,rightConfigFilterKey:P,rightConfigResultsKey:C,rightSelectedId:S,sendConfigCompare:_,updateConfigFilterData:L}=Xs();return(j,m)=>{const I=D("Icon"),$=D("Button"),z=D("Badge"),A=D("ResizablePanel"),R=D("ResizableHandle"),F=D("ResizablePanelGroup");return r(),k("div",ea,[o("div",ta,[t($,{onClick:m[0]||(m[0]=M=>e(n)()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(I,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),m[11]||(m[11]=o("h2",{class:"items-center content-center text-muted-foreground"},"Config Compare",-1)),o("div",sa,[e(y).length>0&&e(S).length>0?(r(),k("div",aa,[t(z,{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(I,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),o("span",la,"Compare Config ID "+V(e(y))+" with Config ID "+V(e(S)),1)]),_:1})])):q("",!0),e(y)&&e(S)?(r(),w($,{key:1,onClick:m[1]||(m[1]=M=>e(_)(e(y),e(S))),class:"h-8 ml-2 text-white bg-blue-600 hover:bg-blue-700"},{default:s(()=>m[9]||(m[9]=[x(" Compare ")])),_:1})):q("",!0),e(y)&&e(S)?(r(),w($,{key:2,variant:"outline",onClick:m[2]||(m[2]=M=>e(a)()),class:"h-8 ml-2 text-white"},{default:s(()=>m[10]||(m[10]=[x(" Reset ")])),_:1})):q("",!0)])]),t(F,{direction:"horizontal",class:""},{default:s(()=>[t(A,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement3",ref:g,class:"min-h-[86vh]"},{default:s(()=>[o("div",na,[m[12]||(m[12]=o("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(Fe,{class:"mr-2",onClose:m[3]||(m[3]=M=>e(f)())})]),o("div",oa,[o("div",ra,[(r(),w(be,{key:e(c),onUpdateConfigFilter:m[4]||(m[4]=M=>e(L)("left",M)),comparePosition:"left"}))]),m[13]||(m[13]=o("div",{class:"w-full my-4 border-t"},null,-1)),o("div",ia,[(r(),w(be,{key:e(P),onUpdateConfigFilter:m[5]||(m[5]=M=>e(L)("right",M)),comparePosition:"right"}))]),m[14]||(m[14]=o("div",{class:"w-full my-4 border-t"},null,-1))])]),_:1},512),t(R,{"with-handle":""}),t(A,{class:"min-h-[86vh]"},{default:s(()=>[t(e(Re),{class:"border border-none rounded-md"},{default:s(()=>[o("div",da,[o("div",ua,[t(Be,{class:"ml-2",onOpenNav:m[6]||(m[6]=M=>e(i)()),navPanelBtnState:e(v)},null,8,["navPanelBtnState"]),o("h1",{class:W(["w-full text-sm font-semibold",e(v)===!1?"ml-2 ":""])}," Filter Results ",2)]),e(p)?q("",!0):(r(),k("div",ca,[(r(),w($e,{key:e(d),filterData:e(l),onUpdateSelectedRows:m[7]||(m[7]=M=>y.value=M),comparePosition:"left"},null,8,["filterData"])),(r(),w($e,{key:e(C),filterData:e(b),onUpdateSelectedRows:m[8]||(m[8]=M=>S.value=M),comparePosition:"right"},null,8,["filterData"]))])),e(p)?(r(),k("div",fa,[t(Js,{leftSelectedId:e(y),rightSelectedId:e(S)},null,8,["leftSelectedId","rightSelectedId"])])):q("",!0)])]),_:1})]),_:1})]),_:1})])}}};function pa(){const u=bt(),n=h(localStorage.getItem("inventorySelectedView")||"devices"),f=$t(),l=oe(),c=h(parseInt(f.params.id)||0),d=h(f.query||null),y=h({}),p=[{id:"configs",label:"Configurations",icon:"ConfigToolsIcon",isFavorite:h(!1),route:"/configs"},{id:"configsearch",label:"Config Search",icon:"ConfigSearchIcon",isFavorite:h(!1),route:"/config-search"},{id:"configcompare",label:"Config Compare",icon:"ConfigCompareIcon",isFavorite:h(!1),route:"/config-compare"}];K(()=>{f.params.view?v(f.params.view):f.name==="configs"?v(f.name):f.path.includes("inventory")||v(f.name);const g=f.query;Object.keys(g).length>0&&l.push({name:n.value,query:g}),p.forEach(b=>{b.isFavorite.value=u.isFavorite(b.id)})});function v(g){i(g),localStorage.setItem("inventorySelectedView",g),n.value=g,l.push({name:g})}function a(g){const b=p.find(P=>P.id===g);b&&(b.isFavorite.value=!b.isFavorite.value,u.toggleFavorite(b))}function i(g){const b=document.querySelector(`[data-nav='${g}']`);wt(()=>{if(b){const{offsetLeft:P,offsetWidth:C}=b;y.value={left:`${P}px`,width:`${C}px`}}})}return{bottomBorderStyle:y,configsId:c,statusIdParam:d,changeView:v,currentView:n,favoritesStore:u,route:f,router:l,toggleFavorite:a,viewItems:p}}const ga={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},va={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},_a={class:"relative"},ya=["onClick"],Pa={__name:"Main",setup(u){const{configsId:n,statusIdParam:f,changeView:l,currentView:c,bottomBorderStyle:d,toggleFavorite:y,viewItems:p}=pa();return(v,a)=>{const i=D("ConfigToolsIcon"),g=D("Button"),b=D("ConfigSearchIcon"),P=D("ConfigCompareIcon"),C=D("StarUnselected"),S=D("StarSelected");return r(),k("main",ga,[o("div",va,[o("div",_a,[t(g,{class:"border",onClick:a[0]||(a[0]=_=>e(l)("configs")),"data-nav":"configs",variant:"ghost"},{default:s(()=>[t(i,{class:"mr-2"}),a[3]||(a[3]=x(" Configurations "))]),_:1}),t(g,{class:"ml-2 border",onClick:a[1]||(a[1]=_=>e(l)("configsearch")),"data-nav":"configsearch",variant:"ghost"},{default:s(()=>[t(b,{class:"mr-2"}),a[4]||(a[4]=x(" Search "))]),_:1}),t(g,{class:"ml-2 border",onClick:a[2]||(a[2]=_=>e(l)("configcompare")),"data-nav":"configcompare",variant:"ghost"},{default:s(()=>[t(P,{class:"mr-2"}),a[5]||(a[5]=x(" Compare "))]),_:1}),e(c)?(r(),k("div",{key:0,class:"absolute -bottom-1.5 h-0.5 bg-blue-500",style:kt(e(d))},null,4)):q("",!0)]),t(e(X),null,{default:s(()=>[(r(!0),k(B,null,O(e(p),_=>(r(),w(e(ee),{key:_.id},{default:s(()=>[e(c)===_.id?(r(),w(e(te),{key:0,"as-child":""},{default:s(()=>[o("div",{onClick:St(L=>e(y)(_.id),["stop","prevent"])},[_.isFavorite.value?q("",!0):(r(),w(C,{key:0})),_.isFavorite.value?(r(),w(S,{key:1})):q("",!0)],8,ya)]),_:2},1024)):q("",!0),t(e(se),null,{default:s(()=>[o("p",null,V(_.isFavorite.value?"Remove from favorites":"Add "+e(c)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",null,[e(c)==="configs"?(r(),w(Vt,{key:0,configsId:e(n),statusId:e(f).statusId},null,8,["configsId","statusId"])):q("",!0),t(le,{name:"fade"},{default:s(()=>[e(c)==="configsearch"?(r(),w(qs,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>a[6]||(a[6]=[o("h1",{class:"text-2xl text-muted-foreground"},"Config Search",-1)])),_:1})):q("",!0)]),_:1}),t(le,{name:"fade"},{default:s(()=>[e(c)==="configcompare"?(r(),w(ma,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>a[7]||(a[7]=[o("h1",{class:"text-2xl text-muted-foreground"},"Config Compare",-1)])),_:1})):q("",!0)]),_:1})])])}}};export{Pa as default};
