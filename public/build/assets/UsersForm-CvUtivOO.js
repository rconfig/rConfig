import{a6 as M,H as _,J as q,s as P,o as a,c as l,b as O,a as e,y as m,z as c,t as n,v as t,Y as b,d as g,Z as V}from"./app-D2xsl8rd.js";import{a as R}from"./ViewFunctions-C6cuRbX0.js";import{L as N}from"./LoadingSpinner-CKi4qMsx.js";const L={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:N},setup(i,{emit:s}){const p=_(!1),o=_(i.viewstate.editid===0?"add":"edit"),{errors:f,model:d,clearModel:u,updateModel:r,getModel:y,storeModel:x,isLoading:k}=R(i.viewstate.modelName,i.viewstate.modelObject);q(()=>{y(i.viewstate.editid)});const C=async()=>{i.viewstate.editid!=0?await r(d):await x(d),f.value===""&&(s("formsubmitted",i.viewstate.pagenamesingle+" "+o.value+"ed!"),h())};function h(){s("closeDrawer")}const w=_(""),v=_("");function U(){d.repeat_password===d.password?(v.value="",w.value=["Passwords match"]):(w.value="",v.value=["Passwords do not match"])}return{showRoleOptions:p,close:h,errors:f,model:d,saveModels:C,clearModel:u,matchPassword:U,repeat_password_match_fail:v,repeat_password_match_pass:w,isLoading:k}}},S={key:0,novalidate:"",class:"pf-c-form"},D=["value"],A={class:"pf-c-form__group"},B={class:"pf-c-form__group-control"},j=["aria-invalid"],E={key:0,class:"pf-c-form__helper-text pf-m-error"},F={class:"pf-c-form__group"},K={class:"pf-c-form__group-control"},T=["aria-invalid"],z={key:0,class:"pf-c-form__helper-text pf-m-error"},H={class:"pf-c-form__group"},J={class:"pf-c-form__group-control"},Y=["aria-invalid"],Z={key:0,class:"pf-c-form__helper-text pf-m-error"},G={class:"pf-c-form__group"},I={class:"pf-c-form__group-control"},Q=["aria-invalid"],W={key:0,class:"pf-c-form__helper-text pf-m-error"},X={key:1,class:"pf-c-form__helper-text"},$={key:2,class:"pf-c-form__helper-text pf-m-error"},ee={key:3,class:"pf-c-form__helper-text pf-m-success"},oe={class:"pf-c-form__group"},se={class:"pf-c-form__group-control"},re=["aria-invalid"],ae={key:0,class:"pf-c-form__helper-text pf-m-error"},le={class:"pf-c-form__group"},te={class:"pf-c-form__group-control"},ne={class:"pf-c-select pf-m-expanded"},ie={class:"pf-c-select__toggle-wrapper"},de=["textContent"],me={key:0,class:"pf-c-select__menu multi-select-dropdown-overflow",role:"listbox","aria-labelledby":"select-single-expanded-label"},ce={role:"presentation"},_e={key:0,class:"pf-c-select__menu-item-icon"},pe={role:"presentation"},fe={key:0,class:"pf-c-select__menu-item-icon"},ue={key:0,class:"pf-c-form__helper-text pf-m-error"},we={class:"pf-c-form__group pf-m-action"},ve={class:"pf-c-form__group-control"},be={class:"pf-c-form__actions"};function he(i,s,p,o,f,d){const u=P("loading-spinner");return a(),l(V,null,[O(u,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?t("",!0):(a(),l("form",S,[e("input",{id:"editid",name:"editid",type:"hidden",value:p.viewstate.editid},null,8,D),e("div",A,[s[12]||(s[12]=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Name"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),e("div",B,[m(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"name",name:"name","onUpdate:modelValue":s[0]||(s[0]=r=>o.model.name=r),"aria-invalid":!!o.errors.name,autocomplete:"off"},null,8,j),[[c,o.model.name]]),o.errors.name?(a(),l("p",E,n(o.errors.name[0]),1)):t("",!0)])]),e("div",F,[s[13]||(s[13]=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Username")])],-1)),e("div",K,[m(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"username",name:"username","onUpdate:modelValue":s[1]||(s[1]=r=>o.model.username=r),"aria-invalid":!!o.errors.username,autocomplete:"off"},null,8,T),[[c,o.model.username]]),o.errors.username?(a(),l("p",z,n(o.errors.username[0]),1)):t("",!0)])]),e("div",H,[s[14]||(s[14]=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Email"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),e("div",J,[m(e("input",{class:"pf-c-form-control",required:"",type:"email",id:"email",name:"email","onUpdate:modelValue":s[2]||(s[2]=r=>o.model.email=r),"aria-invalid":!!o.errors.email,autocomplete:"off"},null,8,Y),[[c,o.model.email]]),o.errors.email?(a(),l("p",Z,n(o.errors.email[0]),1)):t("",!0)])]),e("div",G,[s[15]||(s[15]=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Password"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),e("div",I,[m(e("input",{class:"pf-c-form-control",required:"",type:"password",id:"password",name:"password","onUpdate:modelValue":s[3]||(s[3]=r=>o.model.password=r),"aria-invalid":!!(o.errors.password||o.repeat_password_match_fail),onKeyup:s[4]||(s[4]=(...r)=>o.matchPassword&&o.matchPassword(...r))},null,40,Q),[[c,o.model.password]]),o.errors.password?(a(),l("p",W,n(o.errors.password[0]),1)):t("",!0),o.repeat_password_match_fail[0]===""||o.repeat_password_match_pass[0]===""?(a(),l("p",X," Password should contain at least 8 chacters, one lowercase letter, one uppercase letter, One number, and one special character. ")):t("",!0),o.repeat_password_match_fail?(a(),l("p",$,n(o.repeat_password_match_fail[0]),1)):t("",!0),o.repeat_password_match_pass?(a(),l("p",ee,n(o.repeat_password_match_pass[0]),1)):t("",!0)])]),e("div",oe,[s[16]||(s[16]=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Repeat Password"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),e("div",se,[m(e("input",{class:"pf-c-form-control",required:"",type:"password",id:"repeat_password",name:"repeat_password","onUpdate:modelValue":s[5]||(s[5]=r=>o.model.repeat_password=r),"aria-invalid":!!(o.errors.repeat_password||o.repeat_password_match_fail),onKeyup:s[6]||(s[6]=(...r)=>o.matchPassword&&o.matchPassword(...r))},null,40,re),[[c,o.model.repeat_password]]),o.errors.repeat_password?(a(),l("p",ae,n(o.errors.repeat_password[0]),1)):t("",!0)])]),e("div",le,[s[23]||(s[23]=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"User Role"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),e("div",te,[e("div",ne,[s[22]||(s[22]=e("span",{id:"select-single-expanded-selected-label",hidden:""},"Choose a role",-1)),e("button",{class:"pf-c-select__toggle",type:"button",onClick:s[7]||(s[7]=r=>o.showRoleOptions=!o.showRoleOptions)},[e("div",ie,[e("span",{class:"pf-c-select__toggle-text",textContent:n(o.model.role?o.model.role:"Choose a role")},null,8,de)]),s[17]||(s[17]=e("span",{class:"pf-c-select__toggle-arrow"},[e("i",{class:"fas fa-caret-down","aria-hidden":"true"})],-1))]),o.showRoleOptions||!1?(a(),l("ul",me,[e("li",ce,[e("button",{class:"pf-c-select__menu-item",role:"option",onClick:s[8]||(s[8]=b(r=>{o.model.role="Admin",o.showRoleOptions=!1},["prevent"]))},[s[19]||(s[19]=g(" Admin ")),o.model.role==="Admin"?(a(),l("span",_e,s[18]||(s[18]=[e("i",{class:"fas fa-check","aria-hidden":"true"},null,-1)]))):t("",!0)])]),e("li",pe,[e("button",{class:"pf-c-select__menu-item",role:"option",onClick:s[9]||(s[9]=b(r=>{o.model.role="User",o.showRoleOptions=!1},["prevent"]))},[s[21]||(s[21]=g(" User ")),o.model.role==="User"?(a(),l("span",fe,s[20]||(s[20]=[e("i",{class:"fas fa-check","aria-hidden":"true"},null,-1)]))):t("",!0)])])])):t("",!0)]),o.errors.role?(a(),l("p",ue,n(o.errors.role[0]),1)):t("",!0)])]),e("div",we,[e("div",ve,[e("div",be,[e("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:s[10]||(s[10]=b((...r)=>o.saveModels&&o.saveModels(...r),["prevent"]))}," Save "),e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:s[11]||(s[11]=(...r)=>o.close&&o.close(...r))}," Cancel ")])])])]))],64)}const ke=M(L,[["render",he]]);export{ke as U};
