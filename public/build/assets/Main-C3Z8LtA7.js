import{b as k,o,q as E,w as l,d as t,e,g as u,i as a,t as C,c as h,F as Y,v as Z,x as et,j as T,u as ue,r as f,s as ee,a as W,y as ne,z as $e,A as Ce,B as he,C as De,D as Oe,E as Re,G as Xe,H as Ie,I as Ve,J as Q,K as Se,L as le,M as ae,n as xe,N as fe,O as tt,P as lt,Q as Fe,R as st,S as Ee,T as He,U as yt,V as bt,W as xt,X as kt,Y as Je,Z as at,$ as wt,a0 as $t,a1 as Ct,a2 as ot,a3 as ht,a4 as Dt,a5 as It,a6 as Vt,l as St,_ as Et,f as Nt,m as Pt,h as Tt,a7 as Mt,a8 as At,a9 as We,aa as Ut,ab as Bt,ac as Qe,ad as Ft,ae as Lt,af as jt,ag as zt}from"./app-B0kJA_3m.js";import{u as Ne,_ as Pe,a as re,b as R,c as Te,d as Me,e as q,f as je,g as Ae,h as Ue,i as Be,j as we,k as Kt,l as Ot,m as Gt,n as Rt,o as qt,p as Ht,q as Wt,r as Yt,s as Le,t as Xt}from"./useRowSelection-BYEJ9QVO.js";import{_ as ce,a as ge,b as me}from"./PopoverContent-ZUiboYCH.js";import{_ as nt,a as Jt,b as Qt}from"./TagMultiSelect.vue_vue_type_script_setup_true_lang-C7KZElno.js";import{_ as dt,a as it}from"./Loading-8D68csPn.js";import{u as ve,_ as Zt}from"./dialogActions-DSVEf8Y9.js";import{e as pe,_ as Ge}from"./DeviceListPopover-DF5hUBmV.js";import{_ as be}from"./ScrollArea-DMxpDxNp.js";import{_ as el}from"./CardFooter.vue_vue_type_script_setup_true_lang-Hdl47Cad.js";import{u as tl}from"./useTemplatesGithub-CgKNZFfd.js";/* empty css               */const ll={class:"space-y-2"},sl={class:"mb-2 text-sm text-muted-foreground"},al={key:0,class:"text-xs text-muted-foreground"},ol={__name:"CategoryListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(y){return(N,b)=>{const w=k("Button"),V=k("router-link");return o(),E(e(me),null,{default:l(()=>[t(e(ce),{"as-child":""},{default:l(()=>[t(w,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>b[0]||(b[0]=[u(" ... ")])),_:1})]),_:1}),t(e(ge),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[a("div",ll,[a("p",sl,"All command groups associated with "+C(y.recordName)+". Showing "+C(y.displayCount)+" records.",1)]),(o(!0),h(Y,null,Z(y.items.slice(0,y.displayCount),n=>(o(),E(e(et),{key:n[y.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(V,{to:n.view_url},{default:l(()=>[u(C(n[y.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),y.displayCount>y.displayCount-1?(o(),h("span",al,[b[2]||(b[2]=a("br",null,null,-1)),u(" Displaying only "+C(y.displayCount)+" records. Visit the ",1),t(V,{to:"/commandgroups",class:"text-blue-500 hover:underline"},{default:l(()=>b[1]||(b[1]=[u(" Command Groups ")])),_:1}),b[3]||(b[3]=u(" page to view all devices. "))])):T("",!0)]),_:1})]),_:1})}}},nl={key:0,class:"grid gap-2 py-4"},dl={class:"grid items-center grid-cols-4 gap-4"},il={class:"grid items-center grid-cols-4 gap-4"},rl={class:"grid items-center grid-cols-4 gap-4"},ul={class:"flex flex-col w-full space-y-2"},cl={key:0,class:"text-red-400"},ml={key:1,class:"text-red-400"},vl={key:2,class:"text-red-400"},pl={class:"pl-2 ml-auto"},fl={class:"rc-kdb-class2"},gl={class:"pl-2 ml-auto"},_l={class:"rc-kdb-class2"},yl={__name:"CommandAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:N}){const{toastSuccess:b,toastError:w,toastInfo:V,toastWarning:n,toastDefault:g}=ue(),p=ve(),{openDialog:M,closeDialog:$,isDialogOpen:A}=p,S=N,c=f([]),i=f(!1),v=f({command:"",description:"",category:[]}),d=y;function B(s){s.ctrlKey&&s.key==="Enter"&&D()}ee(()=>{d.editId>0&&(i.value=!0,W.get(`/api/commands/${d.editId}`).then(s=>{v.value=s.data,v.value.categoryArray=s.data.category.map(m=>m.id)}),i.value=!1),window.addEventListener("keydown",B)}),ne(()=>{window.removeEventListener("keydown",B)});function D(){let s=d.editId>0?`/${d.editId}`:"",m=d.editId>0?"patch":"post";W[m]("/api/commands"+s,v.value).then(x=>{S("save",x.data),b("Command created","The command has been created successfully."),$("DialogNewCommand")}).catch(x=>{c.value=x.response.data.errors})}return(s,m)=>{const x=k("Button"),P=k("Icon");return o(),E(e(Ve),{open:e(A)("DialogNewCommand")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"sm:max-w-fit",onEscapeKeyDown:m[6]||(m[6]=j=>e($)("DialogNewCommand")),onPointerDownOutside:m[7]||(m[7]=j=>e($)("DialogNewCommand")),onCloseClicked:m[8]||(m[8]=j=>e($)("DialogNewCommand"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[u(C(y.editId>0?"Edit":"Add")+" Command "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Oe),null,{default:l(()=>[u("Make changes to your command here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),t(dt,{state:i.value},null,8,["state"]),i.value?T("",!0):(o(),h("div",nl,[a("div",dl,[t(e(Re),{for:"command",class:"text-right"},{default:l(()=>m[9]||(m[9]=[u(" Command Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(Xe),{modelValue:v.value.command,"onUpdate:modelValue":m[0]||(m[0]=j=>v.value.command=j),id:"command",class:"col-span-3"},null,8,["modelValue"])]),a("div",il,[t(e(Re),{for:"description",class:"text-right"},{default:l(()=>m[10]||(m[10]=[u(" Description ")])),_:1}),t(e(Xe),{modelValue:v.value.description,"onUpdate:modelValue":m[1]||(m[1]=j=>v.value.description=j),id:"description",class:"col-span-3"},null,8,["modelValue"])]),a("div",rl,[t(e(Re),{for:"description",class:"text-right"},{default:l(()=>m[11]||(m[11]=[u(" Command Groups ")])),_:1}),t(nt,{modelValue:v.value.category,"onUpdate:modelValue":m[2]||(m[2]=j=>v.value.category=j)},null,8,["modelValue"])])])),a("div",ul,[c.value.description?(o(),h("span",cl,C(c.value.description[0]),1)):T("",!0),c.value.command?(o(),h("span",ml,C(c.value.command[0]),1)):T("",!0),c.value.category?(o(),h("span",vl,C(c.value.category[0]),1)):T("",!0)]),t(e(Ie),null,{default:l(()=>[t(x,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:m[3]||(m[3]=j=>e($)("DialogNewCommand")),size:"sm"},{default:l(()=>m[12]||(m[12]=[u(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),d.editId===0?(o(),E(x,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:m[4]||(m[4]=j=>D()),variant:"primary"},{default:l(()=>[m[14]||(m[14]=u(" Save ")),a("div",pl,[a("kbd",fl,[m[13]||(m[13]=u(" Ctrl  ")),t(P,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0),d.editId>0?(o(),E(x,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:m[5]||(m[5]=j=>D()),variant:"primary"},{default:l(()=>[m[16]||(m[16]=u(" Update ")),a("div",gl,[a("kbd",_l,[m[15]||(m[15]=u(" Ctrl  ")),t(P,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function bl(){const y=f(1),N=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),w=f(""),V=f({}),n=ve(),g=f(0),p=f(!1),M=f(1),$=f(1),A=f([]),S=f(!1),{openDialog:c}=n,{toastSuccess:i,toastError:v}=ue();async function d(I={}){p.value=!0;try{const U=await W.get("/api/commands",{params:{page:y.value,perPage:N.value,sort:b.value,...V.value}});A.value=U.data,M.value=U.data.last_page}catch(U){console.error("Error fetching commands:",U),v("Error","Failed to fetch commands.")}finally{p.value=!1}}const B=I=>{g.value=0,$.value=Math.random(),c("DialogNewCommand")};function D(I){g.value=I,$.value=Math.random(),c("DialogNewCommand")}const s=async I=>{try{await W.delete(`/api/commands/${I}`),d(),i("Command Deleted","The command has been deleted successfully."),S.value=!1}catch(U){console.error("Error deleting command:",U),v("Error","Failed to delete command."),S.value=!1}},m=async I=>{try{await W.post("/api/commands/delete-many",{ids:I}),d(),i("Commands Deleted","The commands have been deleted successfully."),S.value=!1,pe.emit("deleteManyCommandsSuccess")}catch(U){console.error("Error deleting commands:",U),v("Error","Failed to delete commands."),S.value=!1}},x=I=>{g.value=I,$.value=Math.random(),c("DialogNewCommand")},P=()=>{d(),$.value=Math.random()};function j(I){I.altKey&&I.key==="n"&&(I.preventDefault(),c("DialogNewCommand"))}const K=Se(()=>{V.value["filter[commandname]"]=w.value,y.value=1,d()},500);Q([y,N],()=>{d()}),Q(w,()=>{K()}),Q(N,I=>{localStorage.setItem("perPage",I.toString())});function r(I){b.value===I?b.value=`-${I}`:b.value=I,d()}return{commands:A,isLoading:p,currentPage:y,perPage:N,lastPage:M,editId:g,newCommandModalKey:$,searchTerm:w,openDialog:c,fetchCommands:d,createCommand:B,updateCommand:D,deleteCommand:s,deleteManyCommands:m,handleSave:P,handleKeyDown:j,viewEditDialog:x,toggleSort:r,sortParam:b,showConfirmDelete:S}}const xl={class:"flex flex-col h-full gap-1 text-center"},kl={class:"flex items-center justify-between p-4"},wl={class:"flex items-center"},$l={class:"flex"},Cl={class:"px-6"},hl={key:0,class:"mr-2"},Dl={__name:"Main",setup(y){const{editId:N,commands:b,currentPage:w,perPage:V,searchTerm:n,lastPage:g,isLoading:p,fetchCommands:M,viewEditDialog:$,createCommand:A,deleteCommand:S,deleteManyCommands:c,handleSave:i,showConfirmDelete:v,handleKeyDown:d,newCommandModalKey:B,toggleSort:D,sortParam:s}=bl(),{selectedRows:m,selectAll:x,toggleSelectAll:P,toggleSelectRow:j}=Ne(b);return ee(()=>{M(),window.addEventListener("keydown",d),pe.on("deleteManyCommandsSuccess",()=>{m.value=[],x.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,r)=>{const I=k("Input"),U=k("Button"),G=k("Checkbox"),J=k("Icon"),se=k("router-link"),z=k("Badge"),oe=k("Toaster");return o(),h("div",xl,[a("div",kl,[a("div",wl,[t(I,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter commands...",modelValue:e(n),"onUpdate:modelValue":r[0]||(r[0]=_=>le(n)?n.value=_:null)},null,8,["modelValue"]),t(U,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:r[1]||(r[1]=_=>n.value="")},{default:l(()=>r[12]||(r[12]=[u(" Clear Filter ")])),_:1})]),a("div",$l,[e(m).length?(o(),E(U,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:r[2]||(r[2]=ae(_=>v.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[u(" Delete Selected "+C(e(m).length)+" Command(s) ",1)]),_:1})):T("",!0),t(U,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(A),["prevent"]),variant:"primary"},{default:l(()=>r[13]||(r[13]=[u(" New Command "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Cl,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(G,{id:"selectAll",modelValue:e(x),"onUpdate:modelValue":r[3]||(r[3]=_=>le(x)?x.value=_:null),checked:e(x),onClick:r[4]||(r[4]=_=>e(P)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[5]||(r[5]=_=>e(D)("id"))},{default:l(()=>[t(J,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[14]||(r[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[6]||(r[6]=_=>e(D)("tagname"))},{default:l(()=>[t(J,{icon:e(s)==="tagname"?"lucide:sort-asc":e(s)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[15]||(r[15]=a("span",{class:"ml-2"},"Command",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>r[16]||(r[16]=[u("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>r[17]||(r[17]=[u("Command Groups")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>r[18]||(r[18]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(p)?(o(),E(Me,{key:0})):e(p)?(o(),E(Ae,{key:2})):(o(!0),h(Y,{key:1},Z(e(b).data,_=>(o(),E(e(re),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(G,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(m).includes(_.id),onClick:H=>e(j)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.command),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.description),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(Y,null,Z(_.category.slice(0,8),(H,O)=>(o(),h("span",{key:H.categoryName,class:"mr-2"},[t(z,{variant:"outline",class:xe([H.badgeColor?H.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","py-1 mt-1 hover:bg-rcgray-800"])},{default:l(()=>[t(se,{to:H.view_url},{default:l(()=>[u(C(H.categoryName),1)]),_:2},1032,["to"])]),_:2},1032,["class"])]))),128)),_.category.length>8?(o(),h("span",hl,[t(ol,{recordName:_.command,items:_.category,displayField:"categoryName"},null,8,["recordName","items"])])):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:H=>e($)(_.id),onOnDelete:H=>e(S)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(w),lastPage:e(g),perPage:e(V),"onUpdate:currentPage":r[7]||(r[7]=_=>w.value=_),"onUpdate:perPage":r[8]||(r[8]=_=>V.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),E(yl,{onSave:r[9]||(r[9]=_=>e(i)()),key:e(B),editId:e(N)},null,8,["editId"])),t(we,{ids:e(m),showConfirmDelete:e(v),onClose:r[10]||(r[10]=_=>v.value=!1),onHandleDelete:r[11]||(r[11]=_=>e(c)(e(m)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Il={class:"py-1"},Vl={class:"grid grid-cols-3 gap-2 mt-4 place-items-center"},Sl=["onClick"],El=fe({__name:"BadgeColorSelector",emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f({}),V=[{label:"Lime",bgClass:"bg-lime-400 text-lime-900 border-lime-300"},{label:"Yellow",bgClass:"bg-yellow-400 text-yellow-900 border-yellow-300"},{label:"Teal",bgClass:"bg-teal-400 text-teal-900 border-teal-300"},{label:"Sky",bgClass:"bg-sky-400 text-sky-900 border-sky-300"},{label:"Pink",bgClass:"bg-pink-400 text-pink-900 border-pink-300"},{label:"Emerald",bgClass:"bg-emerald-400 text-emerald-900 border-emerald-300"},{label:"Orange",bgClass:"bg-orange-400 text-orange-900 border-orange-300"},{label:"Amber",bgClass:"bg-amber-400 text-amber-900 border-amber-300"},{label:"Fuchsia",bgClass:"bg-fuchsia-400 text-fuchsia-900 border-fuchsia-300"},{label:"Rose",bgClass:"bg-rose-400 text-rose-900 border-rose-300"},{label:"Violet",bgClass:"bg-violet-500 text-violet-100 border-violet-600"},{label:"Indigo",bgClass:"bg-indigo-500 text-indigo-100 border-indigo-600"},{label:"Blue",bgClass:"bg-blue-500 text-blue-100 border-blue-600"},{label:"Green",bgClass:"bg-green-500 text-green-100 border-green-600"},{label:"Purple",bgClass:"bg-purple-500 text-purple-100 border-purple-600"},{label:"Stone",bgClass:"bg-stone-600 text-stone-200 border-stone-700"},{label:"Red",bgClass:"bg-red-600 text-red-100 border-red-700"},{label:"Fuchsia Dark",bgClass:"bg-fuchsia-700 text-fuchsia-200 border-fuchsia-800"},{label:"Violet Dark",bgClass:"bg-violet-700 text-violet-200 border-violet-800"},{label:"Teal Dark",bgClass:"bg-teal-700 text-teal-200 border-teal-800"}];function n(g){w.value=g,b("update:modelValue",g.bgClass)}return(g,p)=>{const M=k("Button"),$=k("Separator");return o(),E(e(me),null,{default:l(()=>[p[0]||(p[0]=a("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),t(e(ce),{class:"col-span-3"},{default:l(()=>[t(M,{variant:"ghost",class:"flex flex-wrap items-start justify-start w-full p-1 pl-2 whitespace-normal border h-fit"},{default:l(()=>[a("div",{class:xe(["h-6 px-2 border-2 border-transparent rounded-full cursor-pointer w-fit",Object.keys(w.value).length===0?"bg-gray-600 text-gray-200 border-gray-500":w.value.bgClass])},C(Object.keys(w.value).length===0?"Select color":w.value.label),3)]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[t($),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Il,[a("div",Vl,[(o(),h(Y,null,Z(V,(A,S)=>a("div",{key:S,class:xe(["cursor-pointer w-6 h-6 rounded-full border-2",A.bgClass,w.value.value===S?"ring-2 ring-offset-2 ring-black":"border-transparent"]),onClick:c=>n(A)},null,10,Sl)),64))])])]),_:1})]),_:1})]),_:1})}}}),Nl={class:"grid gap-2 py-4"},Pl={class:"grid items-center grid-cols-4 gap-4"},Tl={class:"grid items-center grid-cols-4 gap-4"},Ml={class:"grid items-center grid-cols-4 gap-4"},Al={class:"flex flex-col w-full space-y-2"},Ul={key:0,class:"text-red-400"},Bl={key:1,class:"text-red-400"},Fl={class:"pl-2 ml-auto"},Ll={class:"rc-kdb-class2"},jl={class:"pl-2 ml-auto"},zl={class:"rc-kdb-class2"},Kl={__name:"CommandGroupAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:N}){const{toastSuccess:b,toastError:w,toastInfo:V,toastWarning:n,toastDefault:g}=ue(),p=ve(),{openDialog:M,closeDialog:$,isDialogOpen:A}=p,S=N;f([]);const c=f([]),i=f({categoryName:"",categoryDescription:"",badgeColor:{}}),v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&B()}ee(()=>{v.editId>0&&W.get(`/api/categories/${v.editId}`).then(D=>{i.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function B(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";W[s]("/api/categories"+D,i.value).then(m=>{S("save",m.data),b("Command Group created","The tag has been created successfully."),$("DialogNewCommandGroups")}).catch(m=>{c.value=m.response.data.errors})}return(D,s)=>{const m=k("Label"),x=k("Input"),P=k("Button"),j=k("Icon");return o(),E(e(Ve),{open:e(A)("DialogNewCommandGroups")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"sm:max-w-fit",onEscapeKeyDown:s[6]||(s[6]=K=>e($)("DialogNewCommandGroups")),onPointerDownOutside:s[7]||(s[7]=K=>e($)("DialogNewCommandGroups")),onCloseClicked:s[8]||(s[8]=K=>e($)("DialogNewCommandGroups"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[u(C(y.editId>0?"Edit":"Add")+" Command Group "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Oe),null,{default:l(()=>[u("Make changes to your command group here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",Nl,[a("div",Pl,[t(m,{for:"categoryName",class:"text-right"},{default:l(()=>s[9]||(s[9]=[u(" Name ")])),_:1}),t(x,{modelValue:i.value.categoryName,"onUpdate:modelValue":s[0]||(s[0]=K=>i.value.categoryName=K),id:"categoryName",class:"col-span-3"},null,8,["modelValue"])]),a("div",Tl,[t(m,{for:"categoryDescription",class:"text-right"},{default:l(()=>s[10]||(s[10]=[u(" Description ")])),_:1}),t(x,{modelValue:i.value.categoryDescription,"onUpdate:modelValue":s[1]||(s[1]=K=>i.value.categoryDescription=K),id:"categoryDescription",class:"col-span-3"},null,8,["modelValue"])]),a("div",Ml,[t(m,{for:"categoryDescription",class:"text-right"},{default:l(()=>s[11]||(s[11]=[u(" Color ")])),_:1}),t(El,{modelValue:i.value.badgeColor,"onUpdate:modelValue":s[2]||(s[2]=K=>i.value.badgeColor=K)},null,8,["modelValue"])])]),a("div",Al,[c.value.categoryDescription?(o(),h("span",Ul,C(c.value.categoryDescription[0]),1)):T("",!0),c.value.categoryName?(o(),h("span",Bl,C(c.value.categoryName[0]),1)):T("",!0)]),t(e(Ie),null,{default:l(()=>[t(P,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[3]||(s[3]=K=>e($)("DialogNewCommandGroups")),size:"sm"},{default:l(()=>s[12]||(s[12]=[u(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),E(P,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=K=>B()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=u(" Save ")),a("div",Fl,[a("kbd",Ll,[s[13]||(s[13]=u(" Ctrl  ")),t(j,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0),v.editId>0?(o(),E(P,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[5]||(s[5]=K=>B()),variant:"primary"},{default:l(()=>[s[16]||(s[16]=u(" Update ")),a("div",jl,[a("kbd",zl,[s[15]||(s[15]=u(" Ctrl  ")),t(j,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Ol(){const y=f(1),N=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),w=f(""),V=f({}),n=ve(),g=f(0),p=f(!1),M=f(1),$=f(1),A=f([]),S=f(!1),{openDialog:c}=n,{toastSuccess:i,toastError:v}=ue();async function d(I={}){p.value=!0;try{const U=await W.get("/api/categories",{params:{page:y.value,perPage:N.value,sort:b.value,...V.value}});A.value=U.data,M.value=U.data.last_page}catch(U){console.error("Error fetching categories:",U),v("Error","Failed to fetch categories.")}finally{p.value=!1}}const B=I=>{g.value=0,$.value=Math.random(),c("DialogNewCommandGroups")};function D(I){g.value=I,$.value=Math.random(),c("DialogNewCommandGroups")}const s=async I=>{try{await W.delete(`/api/categories/${I}`),d(),i("CommandGroups Deleted","The Command Group has been deleted successfully.")}catch(U){console.error("Error deleting Command Group:",U),v("Error","Failed to delete Command Group.")}},m=async I=>{try{await W.post("/api/categories/delete-many",{ids:I}),d(),i("CommandGroups Deleted","The command groups have been deleted successfully."),S.value=!1,pe.emit("deleteManyCommandGroupsSuccess")}catch(U){console.error("Error deleting command groups:",U),v("Error","Failed to delete command groups."),S.value=!1}},x=I=>{g.value=I,$.value=Math.random(),c("DialogNewCommandGroups")},P=()=>{d(),$.value=Math.random()};function j(I){I.altKey&&I.key==="n"&&(I.preventDefault(),c("DialogNewCommandGroups"))}const K=Se(()=>{V.value["filter[categoryName]"]=w.value,y.value=1,d()},500);Q([y,N],()=>{d()}),Q(w,()=>{K()}),Q(N,I=>{localStorage.setItem("perPage",I.toString())});function r(I){b.value===I?b.value=`-${I}`:b.value=I,d()}return{categories:A,isLoading:p,currentPage:y,perPage:N,lastPage:M,editId:g,newCommandGroupsModalKey:$,searchTerm:w,openDialog:c,fetchCommandGroups:d,createCommandGroup:B,updateCommandGroup:D,deleteCommandGroup:s,deleteManyCommandGroups:m,handleSave:P,handleKeyDown:j,viewEditDialog:x,toggleSort:r,sortParam:b,showConfirmDelete:S}}const Gl={class:"flex flex-col h-full gap-1 text-center"},Rl={class:"flex items-center justify-between p-4"},ql={class:"flex items-center"},Hl={class:"flex"},Wl={class:"px-6"},Yl={key:0,class:"mr-2"},Xl={__name:"Main",setup(y){const{editId:N,categories:b,currentPage:w,perPage:V,searchTerm:n,lastPage:g,isLoading:p,fetchCommandGroups:M,viewEditDialog:$,createCommandGroup:A,deleteCommandGroup:S,deleteManyCommandGroups:c,handleSave:i,showConfirmDelete:v,handleKeyDown:d,newCommandGroupModalKey:B,toggleSort:D,sortParam:s}=Ol(),{selectedRows:m,selectAll:x,toggleSelectAll:P,toggleSelectRow:j}=Ne(b);return ee(()=>{M(),window.addEventListener("keydown",d),pe.on("deleteManyCommandGroupsSuccess",()=>{m.value=[],x.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,r)=>{const I=k("Input"),U=k("Button"),G=k("Checkbox"),J=k("Icon"),se=k("router-link"),z=k("Badge"),oe=k("Toaster");return o(),h("div",Gl,[a("div",Rl,[a("div",ql,[t(I,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter categories...",modelValue:e(n),"onUpdate:modelValue":r[0]||(r[0]=_=>le(n)?n.value=_:null)},null,8,["modelValue"]),t(U,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:r[1]||(r[1]=_=>n.value="")},{default:l(()=>r[12]||(r[12]=[u(" Clear Filter ")])),_:1})]),a("div",Hl,[e(m).length?(o(),E(U,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:r[2]||(r[2]=ae(_=>v.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[u(" Delete Selected "+C(e(m).length)+" CommandGroup(s) ",1)]),_:1})):T("",!0),t(U,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(A),["prevent"]),variant:"primary"},{default:l(()=>r[13]||(r[13]=[u(" New CommandGroup "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Wl,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(G,{id:"selectAll",modelValue:e(x),"onUpdate:modelValue":r[3]||(r[3]=_=>le(x)?x.value=_:null),checked:e(x),onClick:r[4]||(r[4]=_=>e(P)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[5]||(r[5]=_=>e(D)("id"))},{default:l(()=>[t(J,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[14]||(r[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[6]||(r[6]=_=>e(D)("categoryName"))},{default:l(()=>[t(J,{icon:e(s)==="categoryName"?"lucide:sort-asc":e(s)==="-categoryName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[15]||(r[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>r[16]||(r[16]=[u("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>r[17]||(r[17]=[u("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>r[18]||(r[18]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(p)?(o(),E(Me,{key:0})):e(p)?(o(),E(Ae,{key:2})):(o(!0),h(Y,{key:1},Z(e(b).data,_=>(o(),E(e(re),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(G,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(m).includes(_.id),onClick:H=>e(j)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.categoryName),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.categoryDescription),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(Y,null,Z(_.device.slice(0,8),(H,O)=>(o(),h("span",{key:H.device_name,class:"mr-2"},[t(z,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(se,{to:H.view_url},{default:l(()=>[u(C(H.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",Yl,[t(Ge,{recordName:_.categoryName,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:H=>e($)(_.id),onOnDelete:H=>e(S)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(w),lastPage:e(g),perPage:e(V),"onUpdate:currentPage":r[7]||(r[7]=_=>w.value=_),"onUpdate:perPage":r[8]||(r[8]=_=>V.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),E(Kl,{onSave:r[9]||(r[9]=_=>e(i)()),key:e(B),editId:e(N)},null,8,["editId"])),t(we,{ids:e(m),showConfirmDelete:e(v),onClose:r[10]||(r[10]=_=>v.value=!1),onHandleDelete:r[11]||(r[11]=_=>e(c)(e(m)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Jl={__name:"ConfirmDisableAlert",props:{ids:{type:Array,required:!0},showConfirmDisable:{type:Boolean,required:!0}},emits:["handleDisable","close"],setup(y,{emit:N}){const b=N;ee(()=>{window.addEventListener("keydown",n=>{n.key==="Escape"&&V()})}),ne(()=>{window.removeEventListener("keydown",n=>{n.key==="Escape"&&V()})});function w(){b("handleDisable")}function V(){b("close")}return(n,g)=>(o(),E(e(Yt),{open:y.showConfirmDisable},{default:l(()=>[t(e(Kt),null,{default:l(()=>[t(e(Ot),null,{default:l(()=>[t(e(Gt),null,{default:l(()=>[u("Disable device with ID "+C(y.ids)+"?",1)]),_:1}),t(e(Rt),null,{default:l(()=>g[2]||(g[2]=[u("Are you absolutely sure you want to disable this device? Disabling a device stops it from downloading configs via scheduled tasks and other operations.")])),_:1})]),_:1}),t(e(qt),null,{default:l(()=>[t(e(Ht),{onCancel:g[0]||(g[0]=p=>V())},{default:l(()=>g[3]||(g[3]=[u("Cancel")])),_:1}),t(e(Wt),{onAction:g[1]||(g[1]=p=>w())},{default:l(()=>g[4]||(g[4]=[u("Continue")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}},Ql={__name:"ActionsMenuDevices",props:{rowData:{type:Object,required:!0},showEditBtn:{type:Boolean,default:!0}},emits:["onEdit","onDelete","onDisable"],setup(y,{emit:N}){const b=f(!1),w=f(!1),V=N;function n(){V("onEdit")}function g(){b.value=!0}function p(){w.value=!0}function M(){V("onDisable"),w.value=!1}function $(){V("onEnable")}return(A,S)=>{const c=k("Button"),i=k("Icon");return o(),h("div",null,[t(e(st),null,{default:l(()=>[t(e(tt),{"as-child":""},{default:l(()=>[t(c,{variant:"ghost",class:"hover:animate-pulse"},{default:l(()=>S[2]||(S[2]=[u(" ... ")])),_:1})]),_:1}),t(e(lt),{class:"w-56",align:"end",side:"bottom"},{default:l(()=>[y.showEditBtn?(o(),E(e(Fe),{key:0,class:"cursor-pointer hover:bg-rcgray-800",onClick:n},{default:l(()=>[S[3]||(S[3]=a("span",null,"Edit",-1)),t(e(Le),null,{default:l(()=>[t(i,{icon:"fluent-color:text-edit-style-16"})]),_:1})]),_:1})):T("",!0),y.showEditBtn?(o(),E(e(Zt),{key:1})):T("",!0),y.rowData.status===100?(o(),E(e(Fe),{key:2,class:"cursor-pointer hover:bg-rcgray-800",onClick:$},{default:l(()=>[S[4]||(S[4]=a("span",null,"Enable",-1)),t(e(Le),null,{default:l(()=>[t(i,{icon:"emojione-v1:up-arrow"})]),_:1})]),_:1})):T("",!0),y.rowData.status!=100?(o(),E(e(Fe),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:p},{default:l(()=>[S[5]||(S[5]=a("span",null,"Disable",-1)),t(e(Le),null,{default:l(()=>[t(i,{icon:"emojione-v1:down-arrow"})]),_:1})]),_:1})):T("",!0),t(e(Fe),{class:"cursor-pointer hover:bg-rcgray-800",onClick:g},{default:l(()=>[S[6]||(S[6]=a("span",{class:"text-red-400"},"Delete",-1)),t(e(Le),null,{default:l(()=>[t(i,{icon:"flat-color-icons:full-trash"})]),_:1})]),_:1})]),_:1})]),_:1}),t(Jl,{ids:[y.rowData.id],showConfirmDisable:w.value,onClose:S[0]||(S[0]=v=>w.value=!1),onHandleDisable:M},null,8,["ids","showConfirmDisable"]),t(we,{ids:[y.rowData.id],showConfirmDelete:b.value,onClose:S[1]||(S[1]=v=>b.value=!1),onHandleDelete:M},null,8,["ids","showConfirmDelete"])])}}},Zl={class:"flex items-center"},es={class:"ml-2"},ts={class:"grid gap-2 p-4"},ls={class:"grid items-center grid-cols-1 gap-4"},ss={key:0,class:"col-start-2 -mt-4 text-sm text-red-400"},as={class:"pl-2 ml-auto"},os={class:"rc-kdb-class2"},ns={class:"pl-2 ml-auto"},ds={class:"rc-kdb-class2"},is={__name:"DeviceModelAddDialog",props:{editId:{type:Number,default:0}},emits:["save"],setup(y,{emit:N}){const{toastSuccess:b,toastError:w,toastInfo:V,toastWarning:n,toastDefault:g}=ue(),p=ve(),{openDialog:M,closeDialog:$,isDialogOpen:A}=p,S=N;f([]);const c=f([]),i=f({name:""});f("");const v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&B()}ee(()=>{window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function B(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";W[s]("/api/device-models"+D,i.value).then(m=>{S("save"),b("Device Model created","The device model has been created successfully."),$("DialogDeviceModelAdd"),i.value={name:""}}).catch(m=>{c.value=m.response.data.errors})}return(D,s)=>{const m=k("Icon"),x=k("Button"),P=k("UserIcon"),j=k("Label"),K=k("Input");return o(),E(e(Ve),{open:e(A)("DialogDeviceModelAdd")},{default:l(()=>[t(e($e),{"as-child":""},{default:l(()=>[t(x,{variant:"ghost",onClick:s[0]||(s[0]=r=>e(M)("DialogDeviceModelAdd")),class:"justify-start w-full p-1"},{default:l(()=>[t(m,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),s[8]||(s[8]=a("span",null,"Create new record",-1))]),_:1})]),_:1}),t(e(Ce),{class:"p-0 sm:max-w-1/3",onEscapeKeyDown:s[5]||(s[5]=r=>e($)("DialogDeviceModelAdd")),onPointerDownOutside:s[6]||(s[6]=r=>e($)("DialogDeviceModelAdd")),onCloseClicked:s[7]||(s[7]=r=>e($)("DialogDeviceModelAdd"))},{default:l(()=>[t(e(he),{class:"rc-dialog-header"},{default:l(()=>[t(e(De),{class:"text-sm text-rcgray-200"},{default:l(()=>[a("div",Zl,[t(P),a("span",es,C(y.editId>0?"Edit":"Add")+" Device Model "+C(y.editId>0?"(ID: "+y.editId+")":""),1)])]),_:1})]),_:1}),a("div",ts,[a("div",ls,[t(j,{for:"name",class:"text-left"},{default:l(()=>s[9]||(s[9]=[u(" Device Model Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(K,{modelValue:i.value.name,"onUpdate:modelValue":s[1]||(s[1]=r=>i.value.name=r),id:"name",class:"col-span-3",autocomplete:"off"},null,8,["modelValue"]),c.value.name?(o(),h("span",ss,C(c.value.name[0]),1)):T("",!0)])]),t(e(Ie),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(x,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[2]||(s[2]=r=>e($)("DialogDeviceModelAdd")),size:"sm"},{default:l(()=>s[10]||(s[10]=[u(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),E(x,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=r=>B()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=u(" Save ")),a("div",as,[a("kbd",os,[s[11]||(s[11]=u(" Ctrl  ")),t(m,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0),v.editId>0?(o(),E(x,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=r=>B()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=u(" Update ")),a("div",ns,[a("kbd",ds,[s[13]||(s[13]=u(" Ctrl  ")),t(m,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}},rs={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},us={class:"relative items-center w-full"},cs={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},ms={class:"py-1"},vs=["onClick"],ps={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},fs={"data-size":"20"},gs={class:"p-1 border-5"},_s=fe({__name:"DeviceModelMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([]);f([]);const V=f(!1),n=f(""),g=f([]),p=y,M=Ee(()=>w.value.filter(i=>i.name.toLowerCase().includes(n.value.toLowerCase())&&!g.value.some(v=>v.id===i.id)));Q(()=>p.modelValue,i=>{g.value=i}),ee(()=>{S(),p.modelValue&&p.modelValue.length>0&&(g.value=p.modelValue)});function $(i){p.singleSelect?g.value=[i]:g.value.push(i),V.value=!1,n.value="",b("update:modelValue",g.value)}function A(i){const v=g.value.findIndex(d=>d.name===i);v!==-1&&g.value.splice(v,1),b("update:modelValue",g.value)}function S(){W.get("/api/device-models/?perPage=10000").then(i=>{w.value=i.data.data})}function c(){S()}return(i,v)=>{const d=k("Icon"),B=k("Button"),D=k("Input"),s=k("Separator");return o(),E(e(me),null,{default:l(()=>[t(e(ce),{class:"col-span-3"},{default:l(()=>[t(B,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",g.value.length===0?"text-muted-foreground":" "]),style:He(g.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[u(C(g.value&&g.value.length===0?"Select device model":"")+" ",1),(o(!0),h(Y,null,Z(g.value,m=>(o(),h("span",{key:m.id,class:"relative my-1 group"},[a("span",rs,[u(C(m.name)+" ",1),t(d,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(x=>A(m.name),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",us,[t(D,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=m=>n.value=m),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",cs,[t(d,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(s),t(e(be),{class:"h-64"},{default:l(()=>[a("div",ms,[(o(!0),h(Y,null,Z(M.value,m=>(o(),h("div",{key:m.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:x=>$(m)},[a("span",ps,[a("span",fs,C(m.name),1)])],8,vs))),128))])]),_:1}),t(s),a("div",gs,[t(is,{onSave:v[1]||(v[1]=m=>c())})])]),_:1})]),_:1})}}}),ys={class:"grid gap-4"},bs={class:"space-y-2"},xs={class:"flex items-center space-x-2"},ks={class:"font-medium leading-none"},ws={class:"text-sm text-muted-foreground"},qe=fe({__name:"HelpPopover",props:{title:{type:String,required:!0},content:{type:String,required:!0}},setup(y){return(N,b)=>{const w=k("Icon");return o(),E(e(me),null,{default:l(()=>[t(e(ce),{"as-child":""},{default:l(()=>[t(e(yt),{tabindex:"-1",variant:"ghost",class:"h-0 p-0 m-0 ml-1"},{default:l(()=>[t(w,{icon:"formkit:help"})]),_:1})]),_:1}),t(e(ge),{class:"w-80",side:"top",align:"start"},{default:l(()=>[a("div",ys,[a("div",bs,[a("div",xs,[t(w,{icon:"formkit:help"}),a("h4",ks,C(y.title),1)]),a("p",ws,C(y.content),1)])])]),_:1})]),_:1})}}}),$s={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},Cs={class:"relative items-center w-full"},hs={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Ds={class:"py-1"},Is=["onClick"],Vs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ss={"data-size":"20"},Es={class:"p-1 border-5"},Ns=fe({__name:"TemplateMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([]);f([]);const V=f(!1),n=f(""),g=f([]),p=y,M=Ee(()=>w.value.filter(c=>c.templateName.toLowerCase().includes(n.value.toLowerCase())&&!g.value.some(i=>i.id===c.id)));Q(()=>p.modelValue,c=>{g.value=c}),ee(()=>{S(),p.modelValue&&p.modelValue.length>0&&(g.value=p.modelValue)});function $(c){p.singleSelect?g.value=[c]:g.value.push(c),V.value=!1,n.value="",b("update:modelValue",g.value)}function A(c){const i=g.value.findIndex(v=>v.templateName===c);i!==-1&&g.value.splice(i,1),b("update:modelValue",g.value)}function S(){W.get("/api/templates/?perPage=10000").then(c=>{w.value=c.data.data})}return(c,i)=>{const v=k("Icon"),d=k("Button"),B=k("Input"),D=k("Separator");return o(),E(e(me),null,{default:l(()=>[t(e(ce),{class:"col-span-3"},{default:l(()=>[t(d,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",g.value.length===0?"text-muted-foreground":" "]),style:He(g.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[u(C(g.value&&g.value.length===0?"Select templates":"")+" ",1),(o(!0),h(Y,null,Z(g.value,s=>(o(),h("span",{key:s.id,class:"relative my-1 group"},[a("span",$s,[u(C(s.templateName)+" ",1),t(v,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(m=>A(s.templateName),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",Cs,[t(B,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=s=>n.value=s),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",hs,[t(v,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-64"},{default:l(()=>[a("div",Ds,[(o(!0),h(Y,null,Z(M.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:m=>$(s)},[a("span",Vs,[a("span",Ss,C(s.templateName),1)])],8,Is))),128))])]),_:1}),t(D),a("div",Es,[t(d,{variant:"ghost",class:"justify-start w-full p-1"},{default:l(()=>[t(v,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),i[1]||(i[1]=a("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}}),Ps={class:"flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},Ts={class:"relative items-center w-full"},Ms={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},As={class:"py-1"},Us=["onClick"],Bs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Fs={"data-size":"20"},Ls={class:"p-1 border-5"},js=fe({__name:"VendorMultiSelect",props:{modelValue:{type:Array,required:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([]);f([]);const V=f(!1),n=f(""),g=f([]),p=y,M=Ee(()=>w.value.filter(c=>c.vendorName.toLowerCase().includes(n.value.toLowerCase())&&!g.value.some(i=>i.id===c.id)));Q(()=>p.modelValue,c=>{g.value=c}),ee(()=>{S(),p.modelValue&&p.modelValue.length>0&&g.value.push(...p.modelValue)});function $(c){p.singleSelect?g.value=[c]:g.value.push(c),V.value=!1,n.value="",b("update:modelValue",g.value)}function A(c){const i=g.value.findIndex(v=>v.vendorName===c);i!==-1&&g.value.splice(i,1),b("update:modelValue",g.value)}function S(){W.get("/api/vendors/?perPage=10000").then(c=>{w.value=c.data.data})}return(c,i)=>{const v=k("Icon"),d=k("Button"),B=k("Input"),D=k("Separator");return o(),E(e(me),null,{default:l(()=>[t(e(ce),{class:"col-span-3"},{default:l(()=>[t(d,{variant:"ghost",class:xe(["flex flex-wrap items-start justify-start w-full pl-2 whitespace-normal border h-fit",g.value.length===0?"text-muted-foreground":" "]),style:He(g.value.length===0?"padding: 0.45rem":"padding: 0.2rem")},{default:l(()=>[u(C(g.value&&g.value.length===0?"Select vendors":"")+" ",1),(o(!0),h(Y,null,Z(g.value,s=>(o(),h("span",{key:s.id,class:"relative my-1 group"},[a("span",Ps,[u(C(s.vendorName)+" ",1),t(v,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:ae(m=>A(s.vendorName),["stop"])},null,8,["onClick"])])]))),128))]),_:1},8,["class","style"])]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:l(()=>[a("div",Ts,[t(B,{id:"search",type:"text",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=s=>n.value=s),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Ms,[t(v,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-64"},{default:l(()=>[a("div",As,[(o(!0),h(Y,null,Z(M.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:m=>$(s)},[a("span",Bs,[a("span",Fs,C(s.vendorName),1)])],8,Us))),128))])]),_:1}),t(D),a("div",Ls,[t(d,{variant:"ghost",class:"justify-start w-full p-1"},{default:l(()=>[t(v,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),i[1]||(i[1]=a("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}}),zs={class:"relative"},Ks=["id","type"],Ze=fe({__name:"Input-password",props:{defaultValue:{},modelValue:{},class:{},id:{}},emits:["update:modelValue"],setup(y,{emit:N}){const b=y,V=bt(b,"modelValue",N,{passive:!0,defaultValue:b.defaultValue}),n=f(!1);return(g,p)=>{const M=k("Icon");return o(),h("div",zs,[xt(a("input",{id:b.id,"onUpdate:modelValue":p[0]||(p[0]=$=>le(V)?V.value=$:null),type:n.value?"text":"password",autocomplete:"off",class:xe(e(Je)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none focus-visible:ring-0",b.class,{"text-gray-500":!n.value}))},null,10,Ks),[[kt,e(V)]]),a("button",{tabindex:"-1",onClick:p[1]||(p[1]=$=>n.value=!n.value),type:"button",class:xe(e(Je)("absolute inset-y-0 z-20 flex items-center px-3 cursor-pointer end-0 rounded-e-md focus:outline-none",n.value?"text-blue-600 dark:text-blue-500":"text-gray-400 dark:text-neutral-600"))},[n.value?(o(),E(M,{key:0,icon:"lucide:eye",class:"size-3.5 transition-transform duration-200 ease-in-out"})):(o(),E(M,{key:1,icon:"lucide:eye-off",class:"size-3.5 transition-transform duration-200 ease-in-out"}))],2)])}}});function Os(y,N){const{toastSuccess:b,toastError:w,toastInfo:V,toastWarning:n,toastDefault:g}=ue(),p=ve(),{closeDialog:M,isDialogOpen:$}=p,A=f(!1),S=f(!1),c=f([]),i=f({device_name:"",device_ip:"",device_port_override:"",device_vendor:[],device_model:"",selectedCategoryArray:[],selectedModelArray:[],device_category_id:0,device_tags:[],device_username:"",device_password:"",device_enable_password:"",device_template:[],device_main_prompt:"",device_enable_prompt:""});ee(()=>{y>0&&(S.value=!0,W.get(`/api/devices/${y}`).then(x=>{i.value.device_name=x.data.device_name,i.value.device_ip=x.data.device_ip,i.value.device_port_override=x.data.device_port_override,i.value.device_vendor.push(x.data.vendor[0]),i.value.device_model=x.data.device_model,i.value.selectedCategoryArray.push(x.data.category[0]),i.value.selectedModelArray=[{name:x.data.device_model}],i.value.device_category_id=x.data.device_category_id,x.data.tag.forEach(P=>{i.value.device_tags.push(P)}),i.value.device_username=x.data.device_username,i.value.device_password=x.data.device_password,i.value.device_enable_password=x.data.device_enable_password,i.value.device_template.push(x.data.template[0]),i.value.device_main_prompt=x.data.device_main_prompt,i.value.device_enable_prompt=x.data.device_enable_prompt,S.value=!1})),window.addEventListener("keydown",v)}),ne(()=>{window.removeEventListener("keydown",v)});function v(x){x.ctrlKey&&x.key==="Enter"&&d()}function d(){i.value.selectedModelArray.length>0&&(i.value.device_model=i.value.selectedModelArray[0].name),i.value.selectedCategoryArray.length>0&&(i.value.device_category_id=i.value.selectedCategoryArray[0].id);let x=y>0?`/${y}`:"",P=y>0?"patch":"post";W[P]("/api/devices"+x,i.value).then(j=>{N("save",j.data),b("Device created","The device has been created successfully."),M("DialogNewDevice")}).catch(j=>{w("Error","There was an error saving the device."),console.log(j),j.response&&j.response.data&&j.response.data.errors&&(c.value=j.response.data.errors)})}function B(){i.value.device_main_prompt=i.value.device_name+"#",i.value.device_enable_prompt=i.value.device_name+">"}function D(){A.value=!0}function s(){A.value=!1}function m(){A.value=!1,M("DialogNewDevice")}return{isLoading:S,model:i,saveDialog:d,errors:c,isDialogOpen:$,generatePrompts:B,showConfirmCloseAlert:A,showConfirmCloseDialog:D,cancelCloseDialog:s,confirmCloseDialog:m}}const Gs={class:"flex items-center"},Rs={class:"ml-2"},qs={key:0},Hs={class:"text-muted-foreground"},Ws={key:0,class:"grid grid-cols-1 gap-6 p-4 lg:grid-cols-2"},Ys={class:"flex flex-col col-span-1"},Xs={key:0,class:"text-red-400"},Js={class:"flex flex-row space-x-4"},Qs={class:"flex flex-col w-1/2"},Zs={key:0,class:"text-red-400"},ea={class:"flex flex-col w-1/2"},ta={key:1,class:"text-red-400"},la={key:2,class:"text-red-400"},sa={key:3,class:"text-red-400"},aa={key:4,class:"text-red-400"},oa={class:"flex flex-col col-span-1"},na={key:0,class:"text-red-400"},da={key:1,class:"text-red-400"},ia={key:2,class:"text-red-400"},ra={key:3,class:"text-red-400"},ua={key:4,class:"text-red-400"},ca={key:5,class:"text-red-400"},ma={class:"pl-2 ml-auto"},va={class:"rc-kdb-class2"},pa={class:"pl-2 ml-auto"},fa={class:"rc-kdb-class2"},ga={__name:"DeviceAddEditDialog",props:{editId:Number},emits:["save","close"],setup(y,{emit:N}){const b=y,w=N,{isLoading:V,model:n,saveDialog:g,errors:p,isDialogOpen:M,generatePrompts:$,showConfirmCloseAlert:A,showConfirmCloseDialog:S,cancelCloseDialog:c,confirmCloseDialog:i}=Os(b.editId,w);return(v,d)=>{const B=k("DeviceIcon"),D=k("Label"),s=k("Input"),m=k("Icon"),x=k("Button");return o(),h(Y,null,[t(e(Ve),{open:e(M)("DialogNewDevice")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{onInteractOutside:d[17]||(d[17]=P=>e(S)()),onPointerDownOutside:d[18]||(d[18]=P=>e(S)()),class:"p-0 sm:max-w-7xl",onEscapeKeyDown:d[19]||(d[19]=P=>e(S)()),onCloseClicked:d[20]||(d[20]=P=>e(S)())},{default:l(()=>[t(e(he),{class:"rc-dialog-header"},{default:l(()=>[t(e(De),{class:"text-sm text-rcgray-200"},{default:l(()=>[a("div",Gs,[t(B),a("span",Rs,C(y.editId>0?"Edit":"Add")+" Device "+C(y.editId>0?"(ID: "+y.editId+")":""),1),e(n).device_name?(o(),h("span",qs,[d[21]||(d[21]=u(" :   ")),a("span",Hs,C(e(n).device_name),1)])):T("",!0)])]),_:1})]),_:1}),t(e(be),{class:"min-h-96 xl:h-auto"},{default:l(()=>[e(V)?(o(),E(it,{key:0})):T("",!0),t(at,{name:"fade"},{default:l(()=>[e(V)?T("",!0):(o(),h("div",Ws,[a("div",Ys,[d[29]||(d[29]=a("h3",{class:"mb-4 text-lg font-light"},"Device Information",-1)),t(D,{for:"device_name",class:"mb-1 text-muted-foreground"},{default:l(()=>d[22]||(d[22]=[u(" Device Name "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_name,"onUpdate:modelValue":d[0]||(d[0]=P=>e(n).device_name=P),id:"device_name",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(p).device_name?(o(),h("span",Xs,C(e(p).device_name[0]),1)):T("",!0),a("div",Js,[a("div",Qs,[t(D,{for:"device_ip",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[23]||(d[23]=[u(" Device IP "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_ip,"onUpdate:modelValue":d[1]||(d[1]=P=>e(n).device_ip=P),id:"device_ip",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(p).device_ip?(o(),h("span",Zs,C(e(p).device_ip[0]),1)):T("",!0)]),a("div",ea,[t(D,{for:"device_port_override",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>[d[24]||(d[24]=u(" Device Port ")),t(qe,{title:"Device Port",content:"Set the connection port specific to this device. it overrides the value set in the connection template. Leave empty otherwise."})]),_:1}),t(s,{modelValue:e(n).device_port_override,"onUpdate:modelValue":d[2]||(d[2]=P=>e(n).device_port_override=P),id:"device_port_override",type:"number",autocomplete:"off",class:"w-full"},null,8,["modelValue"])])]),t(D,{for:"vector",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[25]||(d[25]=[u(" Vendor "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(js,{singleSelect:!0,modelValue:e(n).device_vendor,"onUpdate:modelValue":d[3]||(d[3]=P=>e(n).device_vendor=P),id:"device_vendor",class:"w-full"},null,8,["modelValue"]),e(p).device_vendor?(o(),h("span",ta,C(e(p).device_vendor[0]),1)):T("",!0),t(D,{for:"device_category_id",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[26]||(d[26]=[u(" Category "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(nt,{modelValue:e(n).selectedCategoryArray,"onUpdate:modelValue":d[4]||(d[4]=P=>e(n).selectedCategoryArray=P),id:"selectedCategoryArray",singleSelect:!0,class:"w-full"},null,8,["modelValue"]),e(p).device_category_id?(o(),h("span",la,C(e(p).device_category_id[0]),1)):T("",!0),t(D,{for:"device_model",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[27]||(d[27]=[u(" Model "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(_s,{singleSelect:!0,modelValue:e(n).selectedModelArray,"onUpdate:modelValue":d[5]||(d[5]=P=>e(n).selectedModelArray=P),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),e(p).device_model?(o(),h("span",sa,C(e(p).device_model[0]),1)):T("",!0),t(D,{for:"device_tags",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[28]||(d[28]=[u(" Tags "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(Jt,{modelValue:e(n).device_tags,"onUpdate:modelValue":d[6]||(d[6]=P=>e(n).device_tags=P),id:"device_tags",class:"w-full"},null,8,["modelValue"]),e(p).device_tags?(o(),h("span",aa,C(e(p).device_tags[0]),1)):T("",!0)]),a("div",oa,[d[37]||(d[37]=a("h3",{class:"mb-4 text-lg font-light"},"Connection Information",-1)),t(D,{for:"device_username",class:"mb-1 text-muted-foreground"},{default:l(()=>d[30]||(d[30]=[u(" Username "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(s,{modelValue:e(n).device_username,"onUpdate:modelValue":d[7]||(d[7]=P=>e(n).device_username=P),id:"device_username",autocomplete:"current-password",class:"w-full"},null,8,["modelValue"]),e(p).device_username?(o(),h("span",na,C(e(p).device_username[0]),1)):T("",!0),t(D,{for:"device_password",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[31]||(d[31]=[u(" Device Password "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(Ze),{modelValue:e(n).device_password,"onUpdate:modelValue":d[8]||(d[8]=P=>e(n).device_password=P),id:"device_password",class:"w-full"},null,8,["modelValue"]),e(p).device_password?(o(),h("span",da,C(e(p).device_password[0]),1)):T("",!0),t(D,{for:"device_enable_password",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[32]||(d[32]=[u(" Device Enable Password ")])),_:1}),t(e(Ze),{modelValue:e(n).device_enable_password,"onUpdate:modelValue":d[9]||(d[9]=P=>e(n).device_enable_password=P),id:"device_enable_password",class:"w-full"},null,8,["modelValue"]),e(p).device_enable_password?(o(),h("span",ia,C(e(p).device_enable_password[0]),1)):T("",!0),t(D,{for:"device_template",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>d[33]||(d[33]=[u(" Template "),a("span",{class:"text-red-400"},"*",-1)])),_:1}),t(Ns,{singleSelect:!0,modelValue:e(n).device_template,"onUpdate:modelValue":d[10]||(d[10]=P=>e(n).device_template=P),id:"device_template",class:"w-full"},null,8,["modelValue"]),e(p).device_template?(o(),h("span",ra,C(e(p).device_template[0]),1)):T("",!0),t(D,{for:"main_prompt",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>[d[34]||(d[34]=u(" Main Prompt ")),t(qe,{title:"Device Main Prompt",content:"This is the 'Privileged EXEC' prompt. You will run show commands from this prompt and you can access configure mode. Usually 'router1#'"})]),_:1}),t(s,{modelValue:e(n).device_main_prompt,"onUpdate:modelValue":d[11]||(d[11]=P=>e(n).device_main_prompt=P),id:"device_main_prompt",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),e(p).device_main_prompt?(o(),h("span",ua,C(e(p).device_main_prompt[0]),1)):T("",!0),t(D,{for:"enable_prompt",class:"mt-4 mb-1 text-muted-foreground"},{default:l(()=>[d[35]||(d[35]=u(" Enable Prompt ")),t(qe,{title:"Device Main Prompt",content:" This is the 'User EXEC' prompt. The first level of access prompt. Usually 'router1>'"})]),_:1}),t(s,{modelValue:e(n).device_enable_prompt,"onUpdate:modelValue":d[12]||(d[12]=P=>e(n).device_enable_prompt=P),id:"device_enable_prompt",autocomplete:"off",class:"w-full"},null,8,["modelValue"]),a("button",{class:"flex items-center p-2 text-sm text-left rounded-lg pf-c-button pf-m-link pf-m-inline hover:bg-rcgray-800 max-w-fit text-muted-foreground hover:text-gray-200",type:"button",onClick:d[13]||(d[13]=P=>e($)())},[t(m,{icon:"material-symbols:flash-auto",class:"w-4 h-4 mr-1"}),d[36]||(d[36]=u(" Auto generate prompts from device name "))]),e(p).device_enable_prompt?(o(),h("span",ca,C(e(p).device_enable_prompt[0]),1)):T("",!0)])]))]),_:1})]),_:1}),t(e(Ie),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(x,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:d[14]||(d[14]=P=>e(S)()),size:"sm"},{default:l(()=>d[38]||(d[38]=[u(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),b.editId===0?(o(),E(x,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:d[15]||(d[15]=P=>e(g)()),variant:"primary"},{default:l(()=>[d[40]||(d[40]=u(" Save ")),a("div",ma,[a("kbd",va,[d[39]||(d[39]=u(" Ctrl  ")),t(m,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0),b.editId>0?(o(),E(x,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:d[16]||(d[16]=P=>e(g)()),variant:"primary"},{default:l(()=>[d[42]||(d[42]=u(" Update ")),a("div",pa,[a("kbd",fa,[d[41]||(d[41]=u(" Ctrl  ")),t(m,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["open"]),t(Qt,{showConfirmCloseAlert:e(A),onHandleClose:e(c),onHandleConfirm:e(i)},null,8,["showConfirmCloseAlert","onHandleClose","onHandleConfirm"])],64)}}},_a={class:"space-y-2"},ya={class:"mb-2 text-sm text-muted-foreground"},ba={key:0,class:"text-xs text-muted-foreground"},xa={__name:"TagListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(y){return(N,b)=>{const w=k("Button"),V=k("router-link");return o(),E(e(me),null,{default:l(()=>[t(e(ce),{"as-child":""},{default:l(()=>[t(w,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>b[0]||(b[0]=[u(" ... ")])),_:1})]),_:1}),t(e(ge),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[a("div",_a,[a("p",ya,"All tags associated with "+C(y.recordName)+". Showing "+C(y.displayCount)+" records.",1)]),(o(!0),h(Y,null,Z(y.items.slice(0,y.displayCount),n=>(o(),E(e(et),{key:n[y.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(V,{to:n.view_url},{default:l(()=>[u(C(n[y.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),y.displayCount>y.displayCount-1?(o(),h("span",ba,[b[2]||(b[2]=a("br",null,null,-1)),u(" Displaying only "+C(y.displayCount)+" records. Visit the ",1),t(V,{to:"/tags",class:"text-blue-500 hover:underline"},{default:l(()=>b[1]||(b[1]=[u(" Tags ")])),_:1}),b[3]||(b[3]=u(" page to view all tags. "))])):T("",!0)]),_:1})]),_:1})}}},ka={key:0,class:"text-sm font-light"},wa={class:"text-sm font-semibold"},$a={class:"py-1"},Ca=["onClick"],ha=["checked"],Da={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ia={"data-size":"20"},Va=fe({__name:"StatusFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([{id:0,name:"Unreachable"},{id:1,name:"Reachable"},{id:2,name:"Unknown"},{id:100,name:"Disabled"},{id:200,name:"All"}]),V=f(!1),n=f([]),g=y;Q(()=>g.modelValue,M=>{n.value=M});function p(M){if(M.id===200)n.value.length===w.value.length?n.value=[]:n.value=[...w.value];else{const $=n.value.findIndex(A=>A.id===M.id);if($!==-1){n.value.splice($,1);const A=n.value.findIndex(S=>S.id===200);A!==-1&&n.value.splice(A,1)}else n.value.push(M)}V.value=!1,b("update:modelValue",n.value)}return(M,$)=>{const A=k("Icon"),S=k("Button");return o(),E(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(S,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(A,{icon:"material-symbols-light:signal-wifi-statusbar-not-connected-rounded",class:"mr-2"}),n.value&&n.value.length===0?(o(),h(Y,{key:0},[u("Status")],64)):(o(),h(Y,{key:1},[n.value.length>0?(o(),h("span",ka,[$[0]||($[0]=u(" Status ")),a("strong",wa,C(n.value.length)+" selected",1)])):T("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"p-0 w-44"},{default:l(()=>[t(e(be),{class:"h-44"},{default:l(()=>[a("div",$a,[(o(!0),h(Y,null,Z(w.value,c=>(o(),h("div",{key:c.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:i=>p(c)},[a("input",{type:"checkbox",checked:n.value.some(i=>i.id===c.id),class:"mr-2"},null,8,ha),a("span",Da,[a("span",Ia,C(c.name),1)])],8,Ca))),128))])]),_:1})]),_:1})]),_:1})}}}),Sa={key:0,class:"text-sm font-light"},Ea={class:"text-sm font-semibold"},Na={class:"relative items-center w-full"},Pa={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Ta={class:"py-1"},Ma=["onClick"],Aa=["checked"],Ua={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ba={"data-size":"20"},Fa={class:"p-1 border-5"},La=fe({__name:"CategoryFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([]),V=f(!1),n=f([]),g=f(""),p=f(!1),M=y;ee(()=>{A()}),Q(()=>M.modelValue,c=>{n.value=c,p.value=n.value.length===w.value.length});function $(c){if(c.id===9999999)p.value?(n.value=[],p.value=!1):(n.value=[...w.value],p.value=!0);else{const i=n.value.findIndex(v=>v.id===c.id);i!==-1?(n.value.splice(i,1),p.value=!1):(n.value.push(c),n.value.length===w.value.length&&(p.value=!0))}V.value=!1,b("update:modelValue",n.value)}function A(){W.get("/api/categories/?perPage=10000").then(c=>{w.value=c.data.data})}const S=Ee(()=>w.value.filter(c=>c.categoryName.toLowerCase().includes(g.value.toLowerCase())));return(c,i)=>{const v=k("Button"),d=k("Input"),B=k("Icon"),D=k("Separator");return o(),E(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(v,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(wt,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(Y,{key:0},[u("Command Group")],64)):(o(),h(Y,{key:1},[n.value.length>0?(o(),h("span",Sa,[i[2]||(i[2]=u(" Command Group ")),a("strong",Ea,C(n.value.length)+" selected",1)])):T("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",Na,[t(d,{id:"search",type:"text",modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=s=>g.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Pa,[t(B,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",Ta,[(o(!0),h(Y,null,Z(S.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:m=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(m=>m.id===s.id),class:"mr-2"},null,8,Aa),a("span",Ua,[a("span",Ba,C(s.categoryName),1)])],8,Ma))),128))])]),_:1}),t(D),a("div",Fa,[t(v,{variant:"ghost",class:"justify-start w-full p-1",onClick:i[1]||(i[1]=s=>$({id:9999999}))},{default:l(()=>[t(B,{icon:p.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(p.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),ja={key:0,class:"text-sm font-light"},za={class:"text-sm font-semibold"},Ka={class:"relative items-center w-full"},Oa={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Ga={class:"py-1"},Ra=["onClick"],qa=["checked"],Ha={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Wa={"data-size":"20"},Ya={class:"p-1 border-5"},Xa=fe({__name:"TagFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([]),V=f(!1),n=f([]),g=f(""),p=f(!1),M=y;ee(()=>{A()}),Q(()=>M.modelValue,c=>{n.value=c,p.value=n.value.length===w.value.length});function $(c){if(c.id===9999999)p.value?(n.value=[],p.value=!1):(n.value=[...w.value],p.value=!0);else{const i=n.value.findIndex(v=>v.id===c.id);i!==-1?(n.value.splice(i,1),p.value=!1):(n.value.push(c),n.value.length===w.value.length&&(p.value=!0))}V.value=!1,b("update:modelValue",n.value)}function A(){W.get("/api/tags/?perPage=10000").then(c=>{w.value=c.data.data})}const S=Ee(()=>w.value.filter(c=>c.tagname.toLowerCase().includes(g.value.toLowerCase())));return(c,i)=>{const v=k("Button"),d=k("Input"),B=k("Icon"),D=k("Separator");return o(),E(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(v,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t($t,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(Y,{key:0},[u("Tags")],64)):(o(),h(Y,{key:1},[n.value.length>0?(o(),h("span",ja,[i[2]||(i[2]=u(" Tag ")),a("strong",za,C(n.value.length)+" selected",1)])):T("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",Ka,[t(d,{id:"search",type:"text",modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=s=>g.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Oa,[t(B,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",Ga,[(o(!0),h(Y,null,Z(S.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:m=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(m=>m.id===s.id),class:"mr-2"},null,8,qa),a("span",Ha,[a("span",Wa,C(s.tagname),1)])],8,Ra))),128))])]),_:1}),t(D),a("div",Ya,[t(v,{variant:"ghost",class:"justify-start w-full p-1",onClick:i[1]||(i[1]=s=>$({id:9999999}))},{default:l(()=>[t(B,{icon:p.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(p.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Ja={key:0,class:"text-sm font-light"},Qa={class:"text-sm font-semibold"},Za={class:"relative items-center w-full"},eo={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},to={class:"py-1"},lo=["onClick"],so=["checked"],ao={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},oo={"data-size":"20"},no={class:"p-1 border-5"},io=fe({__name:"VendorFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:N}){const b=N,w=f([]),V=f(!1),n=f([]),g=f(""),p=f(!1),M=y;ee(()=>{A()}),Q(()=>M.modelValue,c=>{n.value=c,p.value=n.value.length===w.value.length});function $(c){if(c.id===9999999)p.value?(n.value=[],p.value=!1):(n.value=[...w.value],p.value=!0);else{const i=n.value.findIndex(v=>v.id===c.id);i!==-1?(n.value.splice(i,1),p.value=!1):(n.value.push(c),n.value.length===w.value.length&&(p.value=!0))}V.value=!1,b("update:modelValue",n.value)}function A(){W.get("/api/vendors/?perPage=10000").then(c=>{w.value=c.data.data})}const S=Ee(()=>w.value.filter(c=>c.vendorName.toLowerCase().includes(g.value.toLowerCase())));return(c,i)=>{const v=k("Button"),d=k("Input"),B=k("Icon"),D=k("Separator");return o(),E(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(v,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(Ct,{class:"mr-2"}),n.value&&n.value.length===0?(o(),h(Y,{key:0},[u("Vendor")],64)):(o(),h(Y,{key:1},[n.value.length>0?(o(),h("span",Ja,[i[2]||(i[2]=u(" Vendor ")),a("strong",Qa,C(n.value.length)+" selected",1)])):T("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[a("div",Za,[t(d,{id:"search",type:"text",modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=s=>g.value=s),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",eo,[t(B,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(D),t(e(be),{class:"h-44"},{default:l(()=>[a("div",to,[(o(!0),h(Y,null,Z(S.value,s=>(o(),h("div",{key:s.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:m=>$(s)},[a("input",{type:"checkbox",checked:n.value.some(m=>m.id===s.id),class:"mr-2"},null,8,so),a("span",ao,[a("span",oo,C(s.vendorName),1)])],8,lo))),128))])]),_:1}),t(D),a("div",no,[t(v,{variant:"ghost",class:"justify-start w-full p-1",onClick:i[1]||(i[1]=s=>$({id:9999999}))},{default:l(()=>[t(B,{icon:p.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),a("span",null,C(p.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),ro=fe({__name:"ClearFilters",emits:["update:modelValue"],setup(y,{emit:N}){const b=N;ee(()=>{});function w(){b("update:modelValue",[])}return(V,n)=>{const g=k("Icon"),p=k("Button");return o(),E(e(me),null,{default:l(()=>[t(e(ce),null,{default:l(()=>[t(p,{variant:"ghost",onClick:w,class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(g,{icon:"mdi:clear-circle-outline",class:"mr-2"}),n[0]||(n[0]=u(" Clear filters "))]),_:1})]),_:1})]),_:1})}}}),uo={class:"border-b"},co={key:0},mo={class:"mt-4 space-y-4"},vo={class:"text-sm text-muted-foreground"},po={key:1},fo={__name:"CommentSheet",props:{deviceId:{type:Number,required:!0},deviceName:{type:String,required:!0}},setup(y){const N=y,b=ot(),{openSheet:w,closeSheet:V,isSheetOpen:n}=b,g=f([]),p=f(!1),M=f(!1);ee(()=>{n("DeviceCommentSheet")&&$()});function $(){p.value=!0,axios.get(`/api/device-comments/${N.deviceId}`).then(i=>{g.value=i.data,p.value=!1}).catch(i=>{console.error(i),p.value=!1})}function A(i){V("DeviceCommentSheet"),router.push({name:"device",params:{id:i}})}function S(){M.value||(g.value.unshift({user:{name:"New User"},created_at:new Date().toISOString(),comment:"",is_open:!0,isEditable:!0}),M.value=!0)}function c(i){g.value[i].isEditable=!1,axios.post("/api/device/comments",{comment:g.value[i].comment,device_id:N.deviceId}).then(v=>{}).catch(v=>{console.error(v)})}return(i,v)=>{const d=k("Button"),B=k("CommentAddIcon"),D=k("Textarea"),s=k("Icon");return o(),E(e(At),{open:e(n)("DeviceCommentSheet")},{default:l(()=>[t(e(ht),{class:"h-[96vh] m-6 rounded-lg border",onEscapeKeyDown:v[1]||(v[1]=m=>e(V)("DeviceCommentSheet")),onPointerDownOutside:v[2]||(v[2]=m=>e(V)("DeviceCommentSheet")),onCloseClicked:v[3]||(v[3]=m=>e(V)("DeviceCommentSheet"))},{default:l(()=>[p.value?(o(),E(it,{key:0})):T("",!0),p.value?T("",!0):(o(),E(e(Dt),{key:1},{default:l(()=>[t(e(It),null,{default:l(()=>v[4]||(v[4]=[u("Comments")])),_:1}),t(e(Vt),null,{default:l(()=>[v[5]||(v[5]=a("span",{class:"text-muted-foreground"},"Comments on",-1)),t(d,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:v[0]||(v[0]=m=>A(y.deviceId))},{default:l(()=>[a("span",uo,C(y.deviceName),1)]),_:1}),t(d,{variant:"ghost",class:"float-right",onClick:S},{default:l(()=>[t(B,{class:"text-muted-foreground"})]),_:1})]),_:1})]),_:1})),t(at,{name:"fade"},{default:l(()=>[p.value?T("",!0):(o(),h("div",co,[a("div",mo,[(o(!0),h(Y,null,Z(g.value,(m,x)=>(o(),E(e(St),{key:x},{default:l(()=>[t(e(Et),{class:"p-2"},{default:l(()=>[t(e(Nt),null,{default:l(()=>[a("span",null,C(m.user.name),1)]),_:2},1024),t(e(Pt))]),_:2},1024),t(e(Tt),{class:"flex justify-end px-2 py-0"},{default:l(()=>[m.isEditable?(o(),E(D,{key:0,modelValue:m.comment,"onUpdate:modelValue":P=>m.comment=P,rows:"1",class:"mt-2"},null,8,["modelValue","onUpdate:modelValue"])):(o(),E(D,{key:1,class:"border-none",modelValue:m.comment,"onUpdate:modelValue":P=>m.comment=P,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),t(e(el),{class:"flex justify-between px-2 py-1"},{default:l(()=>[a("div",vo,C(new Date(m.created_at).toLocaleString()),1),a("div",null,[m.isEditable?(o(),E(d,{key:0,onClick:P=>c(x),variant:"outline",size:"sm",class:""},{default:l(()=>v[6]||(v[6]=[u(" Save ")])),_:2},1032,["onClick"])):T("",!0),m.isEditable?T("",!0):(o(),h("div",po,[m.is_open?(o(),E(d,{key:0,title:"Resolve Comment",size:"sm",variant:"ghost",class:"py-2"},{default:l(()=>[t(s,{icon:"solar:check-circle-broken"})]),_:1})):T("",!0)]))])]),_:2},1024)]),_:2},1024))),128))])]))]),_:1}),t(e(Mt),null,{default:l(()=>v[7]||(v[7]=[a("div",{class:"flex-1"},null,-1)])),_:1})]),_:1})]),_:1},8,["open"])}}};function go(){const y=f(1),N=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),w=f(""),V=f({}),n=ve(),g=f(0),p=f(!1),M=f(1),$=f(1),A=f([]),S=f(!1),c=f([]),i=f([]),v=f([]),d=f([]),B=We(),{openDialog:D}=n,{toastSuccess:s,toastError:m}=ue();async function x(O={}){p.value=!0;try{const te=await W.get("/api/devices",{params:{page:y.value,perPage:N.value,sort:b.value,...V.value}});A.value=te.data,M.value=te.data.last_page}catch(te){console.error("Error fetching devices:",te),m("Error","Failed to fetch devices.")}finally{p.value=!1}}const P=O=>{g.value=0,$.value=Math.random(),D("DialogNewDevice")};function j(O){g.value=O,$.value=Math.random(),D("DialogNewDevice")}const K=async O=>{try{await W.delete(`/api/devices/${O}`),x(),s("Device Deleted","The device has been deleted successfully.")}catch(te){console.error("Error deleting device:",te),m("Error","Failed to delete device.")}},r=async O=>{try{await W.post("/api/devices/delete-many",{ids:O}),x(),s("Devices Deleted","The tags have been deleted successfully."),S.value=!1,pe.emit("deleteManyDevicesSuccess")}catch(te){console.error("Error deleting tags:",te),m("Error","Failed to delete devices."),S.value=!1}},I=async O=>{try{await W.get(`/api/device/disable/${O}`),x(),s("Device Disabled","The device has been disabled successfully.")}catch(te){console.error("Error disabling device:",te),m("Error","Failed to disable device.")}},U=async O=>{try{await W.get(`/api/device/enable/${O}`),x(),s("Device Enabled","The device has been disabled successfully.")}catch(te){console.error("Error enabling device:",te),m("Error","Failed to enabled device.")}},G=O=>{g.value=O,$.value=Math.random(),D("DialogNewDevice")},J=()=>{x(),$.value=Math.random()};function se(O){O.altKey&&O.key==="n"&&(O.preventDefault(),D("DialogNewDevice"))}const z=Se(()=>{V.value["filter[q]"]=w.value,y.value=1,x()},500);Q([y,N],()=>{x()}),Q(w,()=>{z()}),Q(N,O=>{localStorage.setItem("perPage",O.toString())}),Q(c,(O,te)=>{if(O&&O.length>0){const de=O.map(ie=>ie.id);V.value["filter[status]"]=de.join(",")}else delete V.value["filter[status]"];x()},{deep:!0}),Q(i,(O,te)=>{if(O&&O.length>0){const de=O.map(ie=>ie.id);V.value["filter[category]"]=de.join(",")}else delete V.value["filter[category]"];x()},{deep:!0}),Q(v,(O,te)=>{if(O&&O.length>0){const de=O.map(ie=>ie.id);V.value["filter[tag]"]=de.join(",")}else delete V.value["filter[tag]"];x()},{deep:!0}),Q(d,(O,te)=>{if(O&&O.length>0){const de=O.map(ie=>ie.id);V.value["filter[vendor]"]=de.join(",")}else delete V.value["filter[vendor]"];x()},{deep:!0});function oe(O){b.value===O?b.value=`-${O}`:b.value=O,x()}function _(){V.value={},c.value=[],i.value=[],v.value=[],d.value=[],w.value="",x()}function H(O){B.push({name:"devicesview",params:{id:parseInt(O)}})}return{devices:A,filterStatus:c,filterCategories:i,filterTags:v,filterVendor:d,clearFilters:_,isLoading:p,currentPage:y,perPage:N,lastPage:M,editId:g,newDeviceModalKey:$,deleteManyDevices:r,showConfirmDelete:S,searchTerm:w,viewDeviceDetailsPane:H,fetchDevices:x,createDevice:P,updateDevice:j,deleteDevice:K,disableDevice:I,enableDevice:U,handleSave:J,handleKeyDown:se,viewEditDialog:G,toggleSort:oe,sortParam:b}}const _o={class:"flex flex-col h-full gap-1 text-center"},yo={class:"flex items-center justify-between p-4"},bo={class:"flex items-center"},xo={class:"flex gap-2"},ko={class:"flex"},wo={class:"px-6"},$o={class:"flex justify-between"},Co={class:"border-b"},ho={key:0,class:"ml-2"},Do={key:0},Io={key:1},Vo={key:0},So={key:1},Eo={key:0},No={key:1},Po={key:0},To={key:1},Mo={key:0,class:"mr-2"},Ao={__name:"Main",setup(y){const{devices:N,filterStatus:b,filterCategories:w,filterTags:V,filterVendor:n,clearFilters:g,deleteManyDevices:p,showConfirmDelete:M,isLoading:$,currentPage:A,perPage:S,lastPage:c,editId:i,newDeviceModalKey:v,searchTerm:d,viewDeviceDetailsPane:B,fetchDevices:D,createDevice:s,updateDevice:m,deleteDevice:x,disableDevice:P,enableDevice:j,handleSave:K,handleKeyDown:r,viewEditDialog:I,toggleSort:U,sortParam:G}=go(),{selectedRows:J,selectAll:se,toggleSelectAll:z,toggleSelectRow:oe}=Ne(N),_=ot(),{openSheet:H,closeSheet:O,isSheetOpen:te}=_,de=f(null),ie=f(""),X=f(0);ee(()=>{D(),window.addEventListener("keydown",r),pe.on("deleteManyDevicesSuccess",()=>{J.value=[],se.value=!1})}),ne(()=>{window.removeEventListener("keydown",r)});function ye(ze){X.value+=1,de.value=ze,ie.value=N.value.data.find(F=>F.id===ze).device_name,H("DeviceCommentSheet")}return(ze,F)=>{const rt=k("Input"),ut=k("Separator"),ke=k("Button"),Ye=k("Checkbox"),Ke=k("Icon"),ct=k("StatusRedIcon"),mt=k("StatusGreenIcon"),vt=k("StatusYellowIcon"),pt=k("StatusGrayIcon"),ft=k("router-link"),gt=k("Badge"),_t=k("Toaster");return o(),h("div",_o,[a("div",yo,[a("div",bo,[t(rt,{class:"ml-2 min-w-32 lg:min-w-60",autocomplete:"off",placeholder:"Filter devices by ID, name or IP...",modelValue:e(d),"onUpdate:modelValue":F[0]||(F[0]=L=>le(d)?d.value=L:null)},null,8,["modelValue"]),t(ut,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),F[16]||(F[16]=a("span",{class:"mr-2 text-muted-foreground"},"Filters:",-1)),a("div",xo,[t(La,{modelValue:e(w),"onUpdate:modelValue":F[1]||(F[1]=L=>le(w)?w.value=L:null)},null,8,["modelValue"]),t(Xa,{modelValue:e(V),"onUpdate:modelValue":F[2]||(F[2]=L=>le(V)?V.value=L:null)},null,8,["modelValue"]),t(io,{modelValue:e(n),"onUpdate:modelValue":F[3]||(F[3]=L=>le(n)?n.value=L:null)},null,8,["modelValue"]),t(Va,{modelValue:e(b),"onUpdate:modelValue":F[4]||(F[4]=L=>le(b)?b.value=L:null)},null,8,["modelValue"]),e(d)||e(w).length||e(V).length||e(n).length||e(b).length?(o(),E(ro,{key:0,"onUpdate:modelValue":e(g)},null,8,["onUpdate:modelValue"])):T("",!0)])]),a("div",ko,[e(J).length?(o(),E(ke,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:F[5]||(F[5]=ae(L=>M.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[u(" Delete Selected "+C(e(J).length)+" Device(s) ",1)]),_:1})):T("",!0),t(ke,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(s),["prevent"]),variant:"primary"},{default:l(()=>F[17]||(F[17]=[u(" New Device "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",wo,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(Ye,{id:"selectAll",modelValue:e(se),"onUpdate:modelValue":F[6]||(F[6]=L=>le(se)?se.value=L:null),checked:e(se),onClick:F[7]||(F[7]=L=>e(z)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[8]||(F[8]=L=>e(U)("id"))},{default:l(()=>[t(Ke,{icon:e(G)==="id"?"lucide:sort-asc":e(G)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[18]||(F[18]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[2%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[9]||(F[9]=L=>e(U)("status"))},{default:l(()=>[t(Ke,{icon:e(G)==="status"?"lucide:sort-asc":e(G)==="-status"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[19]||(F[19]=a("span",{class:"ml-2"},null,-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(ke,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:F[10]||(F[10]=L=>e(U)("device_name"))},{default:l(()=>[t(Ke,{icon:e(G)==="device_name"?"lucide:sort-asc":e(G)==="-device_name"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),F[20]||(F[20]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[21]||(F[21]=[u("IP Address")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[22]||(F[22]=[u("C'Group")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[23]||(F[23]=[u("Vendor")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[24]||(F[24]=[u("Model")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[25]||(F[25]=[u("Config Count")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[26]||(F[26]=[u("Config Failures")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[27]||(F[27]=[u("Last Config")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[28]||(F[28]=[u("Tags")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>F[29]||(F[29]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e($)?(o(),E(Me,{key:0})):e($)?(o(),E(Ae,{key:2})):(o(!0),h(Y,{key:1},Z(e(N).data,L=>(o(),E(e(re),{key:L.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(Ye,{class:"cursor-pointer",id:"select-"+L.id,checked:!!e(J).includes(L.id),onClick:_e=>e(oe)(L.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(L.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[L.status===0?(o(),E(ct,{key:0})):T("",!0),L.status===1?(o(),E(mt,{key:1})):T("",!0),L.status===2?(o(),E(vt,{key:2})):T("",!0),L.status===100?(o(),E(pt,{key:3})):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[a("div",$o,[t(ke,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:_e=>e(B)(L.id)},{default:l(()=>[a("span",Co,C(L.device_name),1)]),_:2},1032,["onClick"]),t(ke,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:_e=>ye(L.id)},{default:l(()=>[t(Ke,{icon:"vaadin:comments-o"}),L.comments.length>0?(o(),h("span",ho,C(L.comments.length),1)):T("",!0)]),_:2},1032,["onClick"])])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(L.device_ip),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[L.category.length>0?(o(),h("span",Do,C(L.category[0].categoryName),1)):(o(),h("span",Io,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[L.vendor.length>0?(o(),h("span",Vo,C(L.vendor[0].vendorName),1)):(o(),h("span",So,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(L.device_model),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(L.config_good_count),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[L.config_bad_count?(o(),h("span",Eo,C(L.config_bad_count),1)):(o(),h("span",No,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[L.last_config?(o(),h("span",Po,C(new Date(L.last_config.created_at).toLocaleString()),1)):(o(),h("span",To,"--"))]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(Y,null,Z(L.tag.slice(0,3),(_e,Mn)=>(o(),h("span",{key:_e.tagname,class:"mr-2"},[t(gt,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(ft,{to:_e.view_url},{default:l(()=>[u(C(_e.tagname),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),L.tag.length>3?(o(),h("span",Mo,[t(xa,{recordName:L.device_name,items:L.tag,displayField:"tagname"},null,8,["recordName","items"])])):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(Ql,{rowData:L,onOnEnable:_e=>e(j)(L.id),onOnDisable:_e=>e(P)(L.id),onOnEdit:_e=>e(I)(L.id),onOnDelete:_e=>e(x)(L.id)},null,8,["rowData","onOnEnable","onOnDisable","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(A),lastPage:e(c),perPage:e(S),"onUpdate:currentPage":F[11]||(F[11]=L=>A.value=L),"onUpdate:perPage":F[12]||(F[12]=L=>S.value=L)},null,8,["currentPage","lastPage","perPage"]),(o(),E(ga,{onSave:F[13]||(F[13]=L=>e(K)()),key:e(v),editId:e(i)},null,8,["editId"])),t(we,{ids:e(J),showConfirmDelete:e(M),onClose:F[14]||(F[14]=L=>M.value=!1),onHandleDelete:F[15]||(F[15]=L=>e(p)(e(J)))},null,8,["ids","showConfirmDelete"]),(o(),E(fo,{deviceId:de.value,deviceName:ie.value,key:X.value},null,8,["deviceId","deviceName"])),t(_t)])])}}},Uo={class:"grid gap-2 py-4"},Bo={class:"grid items-center grid-cols-4 gap-4"},Fo={class:"grid items-center grid-cols-4 gap-4"},Lo={class:"flex flex-col w-full space-y-2"},jo={key:0,class:"text-red-400"},zo={key:1,class:"text-red-400"},Ko={class:"pl-2 ml-auto"},Oo={class:"rc-kdb-class2"},Go={class:"pl-2 ml-auto"},Ro={class:"rc-kdb-class2"},qo={__name:"TagAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:N}){const{toastSuccess:b,toastError:w,toastInfo:V,toastWarning:n,toastDefault:g}=ue(),p=ve(),{openDialog:M,closeDialog:$,isDialogOpen:A}=p,S=N;f([]);const c=f([]),i=f({tagname:"",tagDescription:""}),v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&B()}ee(()=>{v.editId>0&&W.get(`/api/tags/${v.editId}`).then(D=>{i.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function B(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";W[s]("/api/tags"+D,i.value).then(m=>{S("save",m.data),b("Tag created","The tag has been created successfully."),$("DialogNewTag")}).catch(m=>{c.value=m.response.data.errors})}return(D,s)=>{const m=k("Label"),x=k("Input"),P=k("Button"),j=k("Icon");return o(),E(e(Ve),{open:e(A)("DialogNewTag")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"w-full",onEscapeKeyDown:s[5]||(s[5]=K=>e($)("DialogNewTag")),onPointerDownOutside:s[6]||(s[6]=K=>e($)("DialogNewTag")),onCloseClicked:s[7]||(s[7]=K=>e($)("DialogNewTag"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[u(C(y.editId>0?"Edit":"Add")+" Tag "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Oe),null,{default:l(()=>[u("Make changes to your tag here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",Uo,[a("div",Bo,[t(m,{for:"tagname",class:"text-right"},{default:l(()=>s[8]||(s[8]=[u(" Tag Name ")])),_:1}),t(x,{modelValue:i.value.tagname,"onUpdate:modelValue":s[0]||(s[0]=K=>i.value.tagname=K),id:"tagname",class:"col-span-3"},null,8,["modelValue"])]),a("div",Fo,[t(m,{for:"tagDescription",class:"text-right"},{default:l(()=>s[9]||(s[9]=[u(" Description ")])),_:1}),t(x,{modelValue:i.value.tagDescription,"onUpdate:modelValue":s[1]||(s[1]=K=>i.value.tagDescription=K),id:"tagDescription",class:"col-span-3"},null,8,["modelValue"])])]),a("div",Lo,[c.value.tagDescription?(o(),h("span",jo,C(c.value.tagDescription[0]),1)):T("",!0),c.value.tagname?(o(),h("span",zo,C(c.value.tagname[0]),1)):T("",!0)]),t(e(Ie),null,{default:l(()=>[t(P,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[2]||(s[2]=K=>e($)("DialogNewTag")),size:"sm"},{default:l(()=>s[10]||(s[10]=[u(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),E(P,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=K=>B()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=u(" Save ")),a("div",Ko,[a("kbd",Oo,[s[11]||(s[11]=u(" Ctrl  ")),t(j,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0),v.editId>0?(o(),E(P,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[4]||(s[4]=K=>B()),variant:"primary"},{default:l(()=>[s[14]||(s[14]=u(" Update ")),a("div",Go,[a("kbd",Ro,[s[13]||(s[13]=u(" Ctrl  ")),t(j,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Ho(){const y=f(1),N=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),w=f(""),V=f({}),n=ve(),g=f(0),p=f(!1),M=f(1),$=f(1),A=f([]),S=f(!1),{openDialog:c}=n,{toastSuccess:i,toastError:v}=ue();async function d(I={}){p.value=!0;try{const U=await W.get("/api/tags",{params:{page:y.value,perPage:N.value,sort:b.value,...V.value}});A.value=U.data,M.value=U.data.last_page}catch(U){console.error("Error fetching tags:",U),v("Error","Failed to fetch tags.")}finally{p.value=!1}}const B=I=>{g.value=0,$.value=Math.random(),c("DialogNewTag")};function D(I){g.value=I,$.value=Math.random(),c("DialogNewTag")}const s=async I=>{try{await W.delete(`/api/tags/${I}`),d(),i("Tag Deleted","The tag has been deleted successfully."),S.value=!1}catch(U){console.error("Error deleting tag:",U),v("Error","Failed to delete tag."),S.value=!1}},m=async I=>{try{await W.post("/api/tags/delete-many",{ids:I}),d(),i("Tags Deleted","The tags have been deleted successfully."),S.value=!1,pe.emit("deleteManyTagsSuccess")}catch(U){console.error("Error deleting tags:",U),v("Error","Failed to delete tags."),S.value=!1}},x=I=>{g.value=I,$.value=Math.random(),c("DialogNewTag")},P=()=>{d(),$.value=Math.random()};function j(I){I.altKey&&I.key==="n"&&(I.preventDefault(),c("DialogNewTag"))}const K=Se(()=>{V.value["filter[tagname]"]=w.value,y.value=1,d()},500);Q([y,N],()=>{d()}),Q(w,()=>{K()}),Q(N,I=>{localStorage.setItem("perPage",I.toString())});function r(I){b.value===I?b.value=`-${I}`:b.value=I,d()}return{tags:A,isLoading:p,currentPage:y,perPage:N,lastPage:M,editId:g,newTagModalKey:$,searchTerm:w,openDialog:c,fetchTags:d,createTag:B,updateTag:D,deleteTag:s,deleteManyTags:m,handleSave:P,handleKeyDown:j,viewEditDialog:x,toggleSort:r,sortParam:b,showConfirmDelete:S}}const Wo={class:"flex flex-col h-full gap-1 text-center"},Yo={class:"flex items-center justify-between p-4"},Xo={class:"flex items-center"},Jo={class:"flex"},Qo={class:"px-6"},Zo={key:0,class:"mr-2"},en={__name:"Main",setup(y){const{editId:N,tags:b,currentPage:w,perPage:V,searchTerm:n,lastPage:g,isLoading:p,fetchTags:M,viewEditDialog:$,createTag:A,deleteTag:S,deleteManyTags:c,handleSave:i,showConfirmDelete:v,handleKeyDown:d,newTagModalKey:B,toggleSort:D,sortParam:s}=Ho(),{selectedRows:m,selectAll:x,toggleSelectAll:P,toggleSelectRow:j}=Ne(b);return ee(()=>{M(),window.addEventListener("keydown",d),pe.on("deleteManyTagsSuccess",()=>{m.value=[],x.value=!1})}),ne(()=>{window.removeEventListener("keydown",d)}),(K,r)=>{const I=k("Input"),U=k("Button"),G=k("Checkbox"),J=k("Icon"),se=k("router-link"),z=k("Badge"),oe=k("Toaster");return o(),h("div",Wo,[a("div",Yo,[a("div",Xo,[t(I,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tags...",modelValue:e(n),"onUpdate:modelValue":r[0]||(r[0]=_=>le(n)?n.value=_:null)},null,8,["modelValue"]),t(U,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:r[1]||(r[1]=_=>n.value="")},{default:l(()=>r[12]||(r[12]=[u(" Clear Filter ")])),_:1})]),a("div",Jo,[e(m).length?(o(),E(U,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:r[2]||(r[2]=ae(_=>v.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[u(" Delete Selected "+C(e(m).length)+" Tag(s) ",1)]),_:1})):T("",!0),t(U,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(A),["prevent"]),variant:"primary"},{default:l(()=>r[13]||(r[13]=[u(" New Tag "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",Qo,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(G,{id:"selectAll",modelValue:e(x),"onUpdate:modelValue":r[3]||(r[3]=_=>le(x)?x.value=_:null),checked:e(x),onClick:r[4]||(r[4]=_=>e(P)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[5]||(r[5]=_=>e(D)("id"))},{default:l(()=>[t(J,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[14]||(r[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[6]||(r[6]=_=>e(D)("tagname"))},{default:l(()=>[t(J,{icon:e(s)==="tagname"?"lucide:sort-asc":e(s)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[15]||(r[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>r[16]||(r[16]=[u("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>r[17]||(r[17]=[u("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>r[18]||(r[18]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(p)?(o(),E(Me,{key:0})):e(p)?(o(),E(Ae,{key:2})):(o(!0),h(Y,{key:1},Z(e(b).data,_=>(o(),E(e(re),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(G,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(m).includes(_.id),onClick:H=>e(j)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.tagname),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.tagDescription),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(Y,null,Z(_.device.slice(0,8),(H,O)=>(o(),h("span",{key:H.device_name,class:"mr-2"},[t(z,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(se,{to:H.view_url},{default:l(()=>[u(C(H.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",Zo,[t(Ge,{recordName:_.tagname,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:H=>e($)(_.id),onOnDelete:H=>e(S)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(w),lastPage:e(g),perPage:e(V),"onUpdate:currentPage":r[7]||(r[7]=_=>w.value=_),"onUpdate:perPage":r[8]||(r[8]=_=>V.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),E(qo,{onSave:r[9]||(r[9]=_=>e(i)()),key:e(B),editId:e(N)},null,8,["editId"])),t(we,{ids:e(m),showConfirmDelete:e(v),onClose:r[10]||(r[10]=_=>v.value=!1),onHandleDelete:r[11]||(r[11]=_=>e(c)(e(m)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}};function tn(y){const N=f(1),b=f(parseInt(localStorage.getItem("perPage")||"10")),w=f("-id"),V=f(""),n=f({}),g=ve(),p=f(0),M=f(!1),$=f(1),A=f(1),S=f([]),c=f(!1),i=We(),{openDialog:v}=g,{toastSuccess:d,toastError:B}=ue();async function D(G={}){M.value=!0;try{const J=await W.get("/api/templates",{params:{page:N.value,perPage:b.value,sort:w.value,...n.value}});S.value=J.data,$.value=J.data.last_page}catch(J){console.error("Error fetching templates:",J),B("Error","Failed to fetch templates.")}finally{M.value=!1}}function s(G){y("createTemplate",{id:G,type:"template"})}function m(G){i.push({name:"templatesview",params:{id:G}})}const x=async G=>{try{await W.delete(`/api/templates/${G}`),D(),d("Template Deleted","The template has been deleted successfully.")}catch(J){console.error("Error deleting template:",J),B("Error","Failed to delete template.")}},P=async G=>{try{await W.post("/api/templates/delete-many",{ids:G}),D(),d("Templates Deleted","The templates have been deleted successfully."),c.value=!1,pe.emit("deleteManyTemplatesSuccess")}catch(J){console.error("Error deleting templates:",J),B("Error","Failed to delete templates."),c.value=!1}},j=G=>{p.value=G,A.value=Math.random(),v("DialogNewTemplate")},K=()=>{D(),A.value=Math.random()};function r(G){G.altKey&&G.key==="n"&&(G.preventDefault(),v("DialogNewTemplate"))}const I=Se(()=>{n.value["filter[templateName]"]=V.value,N.value=1,D()},500);Q([N,b],()=>{D()}),Q(V,()=>{I()}),Q(b,G=>{localStorage.setItem("perPage",G.toString())});function U(G){w.value===G?w.value=`-${G}`:w.value=G,D()}return{templates:S,isLoading:M,currentPage:N,perPage:b,lastPage:$,editId:p,newTemplateModalKey:A,searchTerm:V,openDialog:v,fetchTemplates:D,createTemplate:s,viewTemplateDetailsPane:m,deleteTemplate:x,deleteManyTemplates:P,handleSave:K,handleKeyDown:r,viewEditDialog:j,toggleSort:U,sortParam:w,showConfirmDelete:c}}const ln={class:"flex flex-col h-full gap-1 text-center"},sn={class:"flex items-center justify-between p-4"},an={class:"flex items-center"},on={class:"flex"},nn={class:"px-6"},dn={class:"border-b"},rn={key:0,class:"mr-2"},un={__name:"Main",emits:["createTemplate"],setup(y,{emit:N}){const b=N,{templates:w,isLoading:V,currentPage:n,perPage:g,lastPage:p,editId:M,newTemplateModalKey:$,searchTerm:A,openDialog:S,fetchTemplates:c,createTemplate:i,viewTemplateDetailsPane:v,deleteTemplate:d,deleteManyTemplates:B,handleSave:D,handleKeyDown:s,viewEditDialog:m,toggleSort:x,sortParam:P,showConfirmDelete:j}=tn(b),{importTemplates:K,importingTemplates:r}=tl(),{selectedRows:I,selectAll:U,toggleSelectAll:G,toggleSelectRow:J}=Ne(w);return ee(()=>{c(),window.addEventListener("keydown",s),pe.on("deleteManyTemplatesSuccess",()=>{I.value=[],U.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",s)}),(se,z)=>{const oe=k("Input"),_=k("Button"),H=k("Icon"),O=k("Checkbox"),te=k("router-link"),de=k("Badge"),ie=k("Toaster");return o(),h("div",ln,[a("div",sn,[a("div",an,[t(oe,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter templates...",modelValue:e(A),"onUpdate:modelValue":z[0]||(z[0]=X=>le(A)?A.value=X:null)},null,8,["modelValue"]),t(_,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:z[1]||(z[1]=X=>A.value="")},{default:l(()=>z[13]||(z[13]=[u(" Clear Filter ")])),_:1})]),a("div",on,[e(I).length?(o(),E(_,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:z[2]||(z[2]=ae(X=>j.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[u(" Delete Selected "+C(e(I).length)+" Template(s) ",1)]),_:1})):T("",!0),t(_,{type:"close",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700",onClick:z[3]||(z[3]=X=>e(K)()),variant:"outline"},{default:l(()=>[e(r)?T("",!0):(o(),E(H,{key:0,icon:"mdi:github",class:"mr-2"})),t(dt,{state:e(r)},null,8,["state"]),z[14]||(z[14]=u(" Import Templates "))]),_:1}),t(_,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:z[4]||(z[4]=ae(X=>e(i)(e(M)),["prevent"])),variant:"primary"},{default:l(()=>z[15]||(z[15]=[u(" New Template "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1})])]),a("div",nn,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(O,{id:"selectAll",modelValue:e(U),"onUpdate:modelValue":z[5]||(z[5]=X=>le(U)?U.value=X:null),checked:e(U),onClick:z[6]||(z[6]=X=>e(G)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:z[7]||(z[7]=X=>e(x)("id"))},{default:l(()=>[t(H,{icon:e(P)==="id"?"lucide:sort-asc":e(P)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),z[16]||(z[16]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:z[8]||(z[8]=X=>e(x)("templateName"))},{default:l(()=>[t(H,{icon:e(P)==="templateName"?"lucide:sort-asc":e(P)==="-templateName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),z[17]||(z[17]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>z[18]||(z[18]=[u("Description")])),_:1}),t(e(R),{class:"w-[40%]"},{default:l(()=>z[19]||(z[19]=[u("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>z[20]||(z[20]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(V)?(o(),E(Me,{key:0})):e(V)?(o(),E(Ae,{key:2})):(o(!0),h(Y,{key:1},Z(e(w).data,X=>(o(),E(e(re),{key:X.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(O,{class:"cursor-pointer",id:"select-"+X.id,checked:!!e(I).includes(X.id),onClick:ye=>e(J)(X.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(X.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(_,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:ye=>e(v)(X.id)},{default:l(()=>[a("span",dn,C(X.templateName),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(X.description),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(Y,null,Z(X.device.slice(0,8),(ye,ze)=>(o(),h("span",{key:ye.device_name,class:"mr-2"},[t(de,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(te,{to:ye.view_url},{default:l(()=>[u(C(ye.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),X.device.length>8?(o(),h("span",rn,[t(Ge,{recordName:X.templateName,items:X.device,displayField:"device_name"},null,8,["recordName","items"])])):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:X,onOnEdit:ye=>e(v)(X.id),onOnDelete:ye=>e(d)(X.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(n),lastPage:e(p),perPage:e(g),"onUpdate:currentPage":z[9]||(z[9]=X=>n.value=X),"onUpdate:perPage":z[10]||(z[10]=X=>g.value=X)},null,8,["currentPage","lastPage","perPage"]),t(we,{ids:e(I),showConfirmDelete:e(j),onClose:z[11]||(z[11]=X=>j.value=!1),onHandleDelete:z[12]||(z[12]=X=>e(B)(e(I)))},null,8,["ids","showConfirmDelete"]),t(ie)])])}}},cn={class:"grid gap-2 py-4"},mn={class:"grid items-center grid-cols-4 gap-4"},vn={class:"flex flex-col w-full space-y-2"},pn={key:0,class:"text-red-400"},fn={class:"pl-2 ml-auto"},gn={class:"rc-kdb-class2"},_n={class:"pl-2 ml-auto"},yn={class:"rc-kdb-class2"},bn={__name:"VendorAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:N}){const{toastSuccess:b,toastError:w,toastInfo:V,toastWarning:n,toastDefault:g}=ue(),p=ve(),{openDialog:M,closeDialog:$,isDialogOpen:A}=p,S=N;f([]);const c=f([]),i=f({vendorName:""}),v=y;function d(D){D.ctrlKey&&D.key==="Enter"&&B()}ee(()=>{v.editId>0&&W.get(`/api/vendors/${v.editId}`).then(D=>{i.value=D.data}),window.addEventListener("keydown",d)}),ne(()=>{window.removeEventListener("keydown",d)});function B(){let D=v.editId>0?`/${v.editId}`:"",s=v.editId>0?"patch":"post";W[s]("/api/vendors"+D,i.value).then(m=>{S("save",m.data),b("Vendor created","The vendor has been created successfully."),$("DialogNewVendor")}).catch(m=>{c.value=m.response.data.errors})}return(D,s)=>{const m=k("Label"),x=k("Input"),P=k("Button"),j=k("Icon");return o(),E(e(Ve),{open:e(A)("DialogNewVendor")},{default:l(()=>[t(e($e),{"as-child":""}),t(e(Ce),{class:"w-full",onEscapeKeyDown:s[4]||(s[4]=K=>e($)("DialogNewVendor")),onPointerDownOutside:s[5]||(s[5]=K=>e($)("DialogNewVendor")),onCloseClicked:s[6]||(s[6]=K=>e($)("DialogNewVendor"))},{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(De),null,{default:l(()=>[u(C(y.editId>0?"Edit":"Add")+" Vendor "+C(y.editId>0?"(ID: "+y.editId+")":""),1)]),_:1}),t(e(Oe),null,{default:l(()=>[u("Make changes to your vendor here. Click "+C(y.editId>0?"update":"save")+" when you're done.",1)]),_:1})]),_:1}),a("div",cn,[a("div",mn,[t(m,{for:"vendorName",class:"text-right"},{default:l(()=>s[7]||(s[7]=[u(" Vendor Name ")])),_:1}),t(x,{modelValue:i.value.vendorName,"onUpdate:modelValue":s[0]||(s[0]=K=>i.value.vendorName=K),id:"vendorName",class:"col-span-3"},null,8,["modelValue"])])]),a("div",vn,[c.value.vendorName?(o(),h("span",pn,C(c.value.vendorName[0]),1)):T("",!0)]),t(e(Ie),null,{default:l(()=>[t(P,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[1]||(s[1]=K=>e($)("DialogNewVendor")),size:"sm"},{default:l(()=>s[8]||(s[8]=[u(" Cancel "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),v.editId===0?(o(),E(P,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[2]||(s[2]=K=>B()),variant:"primary"},{default:l(()=>[s[10]||(s[10]=u(" Save ")),a("div",fn,[a("kbd",gn,[s[9]||(s[9]=u(" Ctrl  ")),t(j,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0),v.editId>0?(o(),E(P,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[3]||(s[3]=K=>B()),variant:"primary"},{default:l(()=>[s[12]||(s[12]=u(" Update ")),a("div",_n,[a("kbd",yn,[s[11]||(s[11]=u(" Ctrl  ")),t(j,{icon:"uil:enter",class:""})])])]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function xn(){const y=f(1),N=f(parseInt(localStorage.getItem("perPage")||"10")),b=f("-id"),w=f(""),V=f({}),n=ve(),g=f(0),p=f(!1),M=f(1),$=f(1),A=f([]),S=f(!1),{openDialog:c}=n,{toastSuccess:i,toastError:v}=ue();async function d(I={}){p.value=!0;try{const U=await W.get("/api/vendors",{params:{page:y.value,perPage:N.value,sort:b.value,...V.value}});A.value=U.data,M.value=U.data.last_page}catch(U){console.error("Error fetching vendors:",U),v("Error","Failed to fetch vendors.")}finally{p.value=!1}}const B=I=>{g.value=0,$.value=Math.random(),c("DialogNewVendor")};function D(I){g.value=I,$.value=Math.random(),c("DialogNewVendor")}const s=async I=>{try{await W.delete(`/api/vendors/${I}`),d(),i("Vendor Deleted","The vendor has been deleted successfully.")}catch(U){console.error("Error deleting vendor:",U),v("Error","Failed to delete vendor.")}},m=async I=>{try{await W.post("/api/vendors/delete-many",{ids:I}),d(),i("Vendors Deleted","The vendors have been deleted successfully."),S.value=!1,pe.emit("deleteManyVendorsSuccess")}catch(U){console.error("Error deleting vendors:",U),v("Error","Failed to delete vendors."),S.value=!1}},x=I=>{g.value=I,$.value=Math.random(),c("DialogNewVendor")},P=()=>{d(),$.value=Math.random()};function j(I){I.altKey&&I.key==="n"&&(I.preventDefault(),c("DialogNewVendor"))}const K=Se(()=>{V.value["filter[vendorName]"]=w.value,y.value=1,d()},500);Q([y,N],()=>{d()}),Q(w,()=>{K()}),Q(N,I=>{localStorage.setItem("perPage",I.toString())});function r(I){b.value===I?b.value=`-${I}`:b.value=I,d()}return{vendors:A,isLoading:p,currentPage:y,perPage:N,lastPage:M,editId:g,newVendorModalKey:$,searchTerm:w,openDialog:c,fetchVendors:d,createVendor:B,updateVendor:D,deleteVendor:s,deleteManyVendors:m,handleSave:P,handleKeyDown:j,viewEditDialog:x,toggleSort:r,sortParam:b,showConfirmDelete:S}}const kn={class:"flex flex-col h-full gap-1 text-center"},wn={class:"flex items-center justify-between p-4"},$n={class:"flex items-center"},Cn={class:"flex"},hn={class:"px-6"},Dn={key:0,class:"mr-2"},In={__name:"Main",setup(y){const{editId:N,vendors:b,currentPage:w,perPage:V,searchTerm:n,lastPage:g,isLoading:p,fetchVendors:M,viewEditDialog:$,createVendor:A,deleteVendor:S,deleteManyVendors:c,handleSave:i,handleKeyDown:v,newVendorModalKey:d,toggleSort:B,sortParam:D,showConfirmDelete:s}=xn(),{selectedRows:m,selectAll:x,toggleSelectAll:P,toggleSelectRow:j}=Ne(b);return ee(()=>{M(),window.addEventListener("keydown",v),pe.on("deleteManyVendorsSuccess",()=>{m.value=[],x.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",v)}),(K,r)=>{const I=k("Input"),U=k("Button"),G=k("Checkbox"),J=k("Icon"),se=k("router-link"),z=k("Badge"),oe=k("Toaster");return o(),h("div",kn,[a("div",wn,[a("div",$n,[t(I,{class:"max-w-sm ml-4",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter vendors...",modelValue:e(n),"onUpdate:modelValue":r[0]||(r[0]=_=>le(n)?n.value=_:null)},null,8,["modelValue"]),t(U,{class:"ml-2 hover:bg-gray-800",variant:"outline",onClick:r[1]||(r[1]=_=>n.value="")},{default:l(()=>r[12]||(r[12]=[u(" Clear Filter ")])),_:1})]),a("div",Cn,[e(m).length?(o(),E(U,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:r[2]||(r[2]=ae(_=>s.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[u(" Delete Selected "+C(e(m).length)+" Tag(s) ",1)]),_:1})):T("",!0),t(U,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ae(e(A),["prevent"]),variant:"primary"},{default:l(()=>r[13]||(r[13]=[u(" New Vendor "),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),a("div",hn,[t(e(Ue),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(R),{class:"w-[2%]"},{default:l(()=>[t(G,{id:"selectAll",modelValue:e(x),"onUpdate:modelValue":r[3]||(r[3]=_=>le(x)?x.value=_:null),checked:e(x),onClick:r[4]||(r[4]=_=>e(P)())},null,8,["modelValue","checked"])]),_:1}),t(e(R),{class:"w-[5%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[5]||(r[5]=_=>e(B)("id"))},{default:l(()=>[t(J,{icon:e(D)==="id"?"lucide:sort-asc":e(D)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[14]||(r[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[20%]"},{default:l(()=>[t(U,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[6]||(r[6]=_=>e(B)("vendorName"))},{default:l(()=>[t(J,{icon:e(D)==="vendorName"?"lucide:sort-asc":e(D)==="-vendorName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),r[15]||(r[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(R),{class:"w-[50%]"},{default:l(()=>r[16]||(r[16]=[u("Devices")])),_:1}),t(e(R),{class:"w-[10%]"},{default:l(()=>r[17]||(r[17]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(e(Te),null,{default:l(()=>[e(p)?(o(),E(Me,{key:0})):e(p)?(o(),E(Ae,{key:2})):(o(!0),h(Y,{key:1},Z(e(b).data,_=>(o(),E(e(re),{key:_.id},{default:l(()=>[t(e(q),{class:"text-start"},{default:l(()=>[t(G,{class:"cursor-pointer",id:"select-"+_.id,checked:!!e(m).includes(_.id),onClick:H=>e(j)(_.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.id),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[u(C(_.vendorName),1)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[(o(!0),h(Y,null,Z(_.device.slice(0,8),(H,O)=>(o(),h("span",{key:H.device_name,class:"mr-2"},[t(z,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(se,{to:H.view_url},{default:l(()=>[u(C(H.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),_.device.length>8?(o(),h("span",Dn,[t(Ge,{recordName:_.vendorName,items:_.device,displayField:"device_name"},null,8,["recordName","items"])])):T("",!0)]),_:2},1024),t(e(q),{class:"text-start"},{default:l(()=>[t(je,{rowData:_,onOnEdit:H=>e($)(_.id),onOnDelete:H=>e(S)(_.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Be,{currentPage:e(w),lastPage:e(g),perPage:e(V),"onUpdate:currentPage":r[7]||(r[7]=_=>w.value=_),"onUpdate:perPage":r[8]||(r[8]=_=>V.value=_)},null,8,["currentPage","lastPage","perPage"]),(o(),E(bn,{onSave:r[9]||(r[9]=_=>e(i)()),key:e(d),editId:e(N)},null,8,["editId"])),t(we,{ids:e(m),showConfirmDelete:e(s),onClose:r[10]||(r[10]=_=>s.value=!1),onHandleDelete:r[11]||(r[11]=_=>e(c)(e(m)))},null,8,["ids","showConfirmDelete"]),t(oe)])])}}},Vn={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},Sn={key:0,class:"border-t border-b topRow"},En={class:"flex items-center gap-2"},Nn={class:"flex items-center gap-2 mr-4"},Pn={class:"flex items-center gap-2"},Tn={key:1},qn={__name:"Main",props:{},setup(y){const N=f(null),b=f(0),w=f(1),V=Ut(),n=f(localStorage.getItem("inventorySelectedView")||"devices"),g=Bt(),p=We(),M=[{id:"devices",label:"Devices",icon:"DeviceIcon",isFavorite:f(!1),route:"/devices"},{id:"commandgroups",label:"Command Groups",icon:"CommandGroupIcon",isFavorite:f(!1),route:"/commandgroups"},{id:"commands",label:"Commands",icon:"CommandsIcon",isFavorite:f(!1),route:"/commands"},{id:"templates",label:"Templates",icon:"TemplateIcon",isFavorite:f(!1),route:"/templates"},{id:"vendors",label:"Vendors",icon:"VendorIcon",isFavorite:f(!1),route:"/vendors"},{id:"tags",label:"Tags",icon:"TagIcon",isFavorite:f(!1),route:"/tags"}];ee(()=>{g.params.view?$(g.params.view):g.name==="devicesview"?$(g.name):g.path.includes("inventory")||$(g.name),M.forEach(c=>{c.isFavorite.value=V.isFavorite(c.id)})});function $(c){localStorage.setItem("inventorySelectedView",c),n.value=c,p.push({name:c})}function A(c){const i=M.find(v=>v.id===c);i&&(i.isFavorite.value=!i.isFavorite.value,V.toggleFavorite(i))}function S(c){N.value=c.type,b.value=c.id,w.value+=1}return(c,i)=>{const v=k("Icon"),d=k("Button"),B=k("StarUnselected"),D=k("StarSelected");return o(),h("main",Vn,[N.value===null?(o(),h("div",Sn,[t(e(st),null,{default:l(()=>{var s,m;return[t(e(tt),{"as-child":"",class:"p-4 ml-2"},{default:l(()=>[t(d,{variant:"outline"},{default:l(()=>[a("span",En,[t(v,{icon:"fluent-color:pin-16"}),i[3]||(i[3]=u(" Select View "))])]),_:1})]),_:1}),a("div",Nn,[(o(),E(Qe(((s=M.find(x=>x.id===n.value))==null?void 0:s.icon)||""))),u(" "+C(((m=M.find(x=>x.id===n.value))==null?void 0:m.label)||""),1)]),t(e(lt),{class:"w-56",align:"start"},{default:l(()=>[t(e(Xt),null,{default:l(()=>[(o(),h(Y,null,Z(M,x=>t(e(Fe),{key:x.id,onClick:P=>$(x.id)},{default:l(()=>[a("span",Pn,[(o(),E(Qe(x.icon))),u(" "+C(x.label),1)]),t(e(Ft),null,{default:l(()=>[t(e(Lt),null,{default:l(()=>[t(e(jt),{"as-child":""},{default:l(()=>[t(e(Le),{onClick:ae(P=>A(x.id),["stop","prevent"])},{default:l(()=>[x.isFavorite.value?T("",!0):(o(),E(B,{key:0})),x.isFavorite.value?(o(),E(D,{key:1})):T("",!0)]),_:2},1032,["onClick"])]),_:2},1024),t(e(zt),null,{default:l(()=>[a("p",null,C(x.isFavorite.value?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]}),_:1})])):T("",!0),N.value?T("",!0):(o(),h("div",Tn,[n.value==="devices"||n.value==="devicesview"?(o(),E(Ao,{key:0,onViewDeviceDetailsPane:i[0]||(i[0]=s=>S(s))})):T("",!0),n.value==="commandgroups"?(o(),E(Xl,{key:1})):T("",!0),n.value==="commands"?(o(),E(Dl,{key:2})):T("",!0),n.value==="templates"?(o(),E(un,{key:3,onCreateTemplate:i[1]||(i[1]=s=>S(s)),onViewTemplateDetailsPane:i[2]||(i[2]=s=>S(s))})):T("",!0),n.value==="vendors"?(o(),E(In,{key:4})):T("",!0),n.value==="tags"?(o(),E(en,{key:5})):T("",!0)]))])}}};export{qn as default};
