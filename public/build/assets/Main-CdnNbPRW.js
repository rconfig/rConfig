import{aj as $,r as u,ah as B,b as V,A as q,ai as M,d as w,j as I,e as r,w as i,f as e,aq as T,k as _,z as S,c as d,o as c,h as F,F as j,G as N,al as D,am as P,an as R,W as z,ao as A,t as E}from"./app-DIfEZGrN.js";import{_ as L}from"./ConfigsTable-DgR4ZYYX.js";/* empty css               */import"./SelectScrollDownButton-C7LSCXOy.js";import"./useRowSelection-DvOrIyno.js";import"./eventBus-CGRXT3Tn.js";function U(){const C=$(),m=u(localStorage.getItem("inventorySelectedView")||"devices"),a=B(),l=V(),f=u(parseInt(a.params.id)||0),b=u(a.query||null),h=u({}),g=[{id:"configs",label:"Configurations",icon:"ConfigToolsIcon",isFavorite:u(!1),route:"/configs"},{id:"configsearch",label:"Config Search",icon:"ConfigSearchIcon",isFavorite:u(!1),route:"/config-search"},{id:"configcompare",label:"Config Compare",icon:"ConfigCompareIcon",isFavorite:u(!1),route:"/config-compare"}];q(()=>{a.params.view?v(a.params.view):a.name==="configs"?v(a.name):a.path.includes("inventory")||v(a.name);const o=a.query;Object.keys(o).length>0&&l.push({name:m.value,query:o}),g.forEach(n=>{n.isFavorite.value=C.isFavorite(n.id)})});function v(o){y(o),localStorage.setItem("inventorySelectedView",o),m.value=o,l.push({name:o})}function t(o){const n=g.find(p=>p.id===o);n&&(n.isFavorite.value=!n.isFavorite.value,C.toggleFavorite(n))}function y(o){const n=document.querySelector(`[data-nav='${o}']`);M(()=>{if(n){const{offsetLeft:p,offsetWidth:k}=n;h.value={left:`${p}px`,width:`${k}px`}}})}return{bottomBorderStyle:h,configsId:f,statusIdParam:b,changeView:v,currentView:m,favoritesStore:C,route:a,router:l,toggleFavorite:t,viewItems:g}}const W={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},G={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},O={class:"relative"},ee={__name:"Main",setup(C){const{configsId:m,statusIdParam:a,changeView:l,currentView:f,bottomBorderStyle:b,toggleFavorite:h,viewItems:g}=U();return(v,t)=>{const y=d("ConfigToolsIcon"),o=d("Button"),n=d("ConfigSearchIcon"),p=d("StarUnselected"),k=d("StarSelected"),x=d("DropdownMenuShortcut");return c(),w("main",W,[I("div",G,[I("div",O,[r(o,{class:"border",onClick:t[0]||(t[0]=s=>e(l)("configs")),"data-nav":"configs",variant:"ghost"},{default:i(()=>[r(y,{class:"mr-2"}),t[3]||(t[3]=F(" Configurations "))]),_:1}),r(o,{class:"ml-2 border",onClick:t[1]||(t[1]=s=>e(l)("configsearch")),"data-nav":"configsearch",variant:"ghost"},{default:i(()=>[r(n,{class:"mr-2"}),t[4]||(t[4]=F(" Search "))]),_:1}),r(o,{class:"ml-2 border",onClick:t[2]||(t[2]=s=>e(l)("configcompare")),"data-nav":"configcompare",variant:"ghost"},{default:i(()=>[r(y,{class:"mr-2"}),t[5]||(t[5]=F(" Compare "))]),_:1}),e(f)?(c(),w("div",{key:0,class:"absolute -bottom-1.5 h-0.5 bg-blue-500",style:T(e(b))},null,4)):_("",!0)]),r(e(D),null,{default:i(()=>[(c(!0),w(j,null,N(e(g),s=>(c(),S(e(P),{key:s.id},{default:i(()=>[e(f)===s.id?(c(),S(e(R),{key:0,"as-child":""},{default:i(()=>[r(x,{onClick:z(H=>e(h)(s.id),["stop","prevent"])},{default:i(()=>[s.isFavorite.value?_("",!0):(c(),S(p,{key:0})),s.isFavorite.value?(c(),S(k,{key:1})):_("",!0)]),_:2},1032,["onClick"])]),_:2},1024)):_("",!0),r(e(A),null,{default:i(()=>[I("p",null,E(s.isFavorite.value?"Remove from favorites":"Add "+e(f)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),I("div",null,[e(f)==="configs"?(c(),S(L,{key:0,configsId:e(m),statusId:e(a).statusId},null,8,["configsId","statusId"])):_("",!0)])])}}};export{ee as default};
