import{B as Se,o as a,z as v,w as l,C as rt,D as ut,f as e,E as ct,S as mt,c as f,e as t,v as ve,h as i,x as ge,j as o,t as b,d as y,F as K,G as W,H as Ke,k as E,y as _e,u as Ue,I as Le,r as D,A as se,a as ne,J as de,K as ft,L as pt,M as vt,N as gt,O as Fe,P as Ge,Q as _t,R as yt,T as te,U as Re,V as X,W as Z,q as He,X as Ye,Y as We,Z as fe,$ as Je,a0 as Ve,a1 as xt,a2 as Pe,a3 as kt,a4 as bt,a5 as $t,a6 as Ct,a7 as wt,a8 as ht,a9 as Dt,aa as It,ab as St,ac as Qe,b as Me,ad as Vt,ae as Pt,af as qe,ag as Nt,ah as Tt,ai as Et,aj as Bt}from"./app-CpimER--.js";import{u as ye,_ as xe,a as ke,b as le,c as F,d as be,e as $e,f as U,g as De,h as Ce,i as we,j as he,k as ce,l as At,m as Ft,n as Ut,o as Lt,p as Mt,q as Ot,r as jt,s as zt,t as pe,v as Gt,w as qt}from"./useRowSelection-BFfXGET9.js";import{_ as Kt,u as Rt,a as Ht,b as Yt,c as Wt}from"./TagMultiSelect.vue_vue_type_script_setup_true_lang-prScGaqL.js";import{_ as Xe}from"./useCredentials-Xh3Xc9C5.js";import{e as ie}from"./eventBus-CGRXT3Tn.js";import{_ as Ne}from"./DeviceListPopover-DtuaQvg1.js";import{u as Jt,a as Qt,_ as Xt,b as Zt,c as el,d as tl,e as ll,f as sl}from"./useTemplatesGithub-DTwBeZ15.js";/* empty css               */const al={__name:"SheetDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(x){const N=x,r=Se(()=>{const{class:p,...w}=N;return w});return(p,w)=>(a(),v(e(mt),ut({class:e(ct)("text-sm text-muted-foreground",N.class)},r.value),{default:l(()=>[rt(p.$slots,"default")]),_:3},16,["class"]))}},nl={class:"space-y-2"},ol={class:"mb-2 text-sm text-muted-foreground"},dl={key:0,class:"text-xs text-muted-foreground"},il={__name:"CategoryListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(x){return(N,r)=>{const p=f("Button"),w=f("router-link");return a(),v(e(_e),null,{default:l(()=>[t(e(ve),{"as-child":""},{default:l(()=>[t(p,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>r[0]||(r[0]=[i(" ... ")])),_:1})]),_:1}),t(e(ge),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[o("div",nl,[o("p",ol,"All command groups associated with "+b(x.recordName)+". Showing "+b(x.displayCount)+" records.",1)]),(a(!0),y(K,null,W(x.items.slice(0,x.displayCount),d=>(a(),v(e(Ke),{key:d[x.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(w,{to:d.view_url},{default:l(()=>[i(b(d[x.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),x.displayCount>x.displayCount-1?(a(),y("span",dl,[r[2]||(r[2]=o("br",null,null,-1)),i(" Displaying only "+b(x.displayCount)+" records. Visit the ",1),t(w,{to:"/commandgroups",class:"text-blue-500 hover:underline"},{default:l(()=>r[1]||(r[1]=[i(" Command Groups ")])),_:1}),r[3]||(r[3]=i(" page to view all devices. "))])):E("",!0)]),_:1})]),_:1})}}},rl={class:"flex items-center"},ul={class:"ml-2"},cl={key:0,class:"grid gap-2 p-4"},ml={class:"grid items-center grid-cols-4 gap-2"},fl={key:0,class:"col-span-3 col-start-2 text-sm text-red-400"},pl={class:"grid items-center grid-cols-4 gap-2"},vl={class:"grid items-center grid-cols-4 gap-2"},gl={key:0,class:"col-span-3 col-start-2 text-sm text-red-400"},_l={class:"pl-2 ml-auto"},yl={class:"rc-kdb-class2"},xl={class:"pl-2 ml-auto"},kl={class:"rc-kdb-class2"},bl={__name:"CommandAddEditDialog",props:{editId:Number},emits:["save"],setup(x,{emit:N}){const{toastSuccess:r,toastError:p,toastInfo:w,toastWarning:d,toastDefault:I}=Ue(),g=Le(),{openDialog:P,closeDialog:T,isDialogOpen:V}=g,A=N,m=D([]),u=D(!1),h=D({command:"",description:"",category:[]}),B=x;function j($){$.ctrlKey&&$.key==="Enter"&&L()}se(()=>{B.editId>0&&(u.value=!0,ne.get(`/api/commands/${B.editId}`).then($=>{h.value=$.data,h.value.categoryArray=$.data.category.map(c=>c.id)}),u.value=!1),window.addEventListener("keydown",j)}),de(()=>{window.removeEventListener("keydown",j)});function L(){let $=B.editId>0?`/${B.editId}`:"",c=B.editId>0?"patch":"post";ne[c]("/api/commands"+$,h.value).then(M=>{A("save",M.data),r("Command created","The command has been created successfully."),T("DialogNewCommand")}).catch(M=>{m.value=M.response.data.errors})}return($,c)=>{const M=f("CommandsIcon"),H=f("Button"),R=f("Icon");return a(),v(e(yt),{open:e(V)("DialogNewCommand")},{default:l(()=>[t(e(ft),{"as-child":""}),t(e(pt),{class:"p-0 sm:max-w-fit",onEscapeKeyDown:c[6]||(c[6]=q=>e(T)("DialogNewCommand")),onPointerDownOutside:c[7]||(c[7]=q=>e(T)("DialogNewCommand")),onCloseClicked:c[8]||(c[8]=q=>e(T)("DialogNewCommand"))},{default:l(()=>[t(e(vt),{class:"rc-dialog-header"},{default:l(()=>[t(e(gt),{class:"text-sm text-rcgray-200"},{default:l(()=>[o("div",rl,[t(M),o("span",ul,b(x.editId>0?"Edit":"Add")+" Command "+b(x.editId>0?"(ID: "+x.editId+")":""),1)])]),_:1})]),_:1}),t(Xe,{state:u.value},null,8,["state"]),u.value?E("",!0):(a(),y("div",cl,[o("div",ml,[t(e(Fe),{for:"command",class:"text-right"},{default:l(()=>c[9]||(c[9]=[i(" Command Name "),o("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(Ge),{modelValue:h.value.command,"onUpdate:modelValue":c[0]||(c[0]=q=>h.value.command=q),id:"command",class:"col-span-3"},null,8,["modelValue"]),m.value.command?(a(),y("span",fl,b(m.value.command[0]),1)):E("",!0)]),o("div",pl,[t(e(Fe),{for:"description",class:"text-right"},{default:l(()=>c[10]||(c[10]=[i(" Description "),o("span",{class:"text-red-400"},"*",-1)])),_:1}),t(e(Ge),{modelValue:h.value.description,"onUpdate:modelValue":c[1]||(c[1]=q=>h.value.description=q),id:"description",class:"col-span-3"},null,8,["modelValue"])]),o("div",vl,[t(e(Fe),{for:"description",class:"text-right"},{default:l(()=>c[11]||(c[11]=[i(" Command Groups "),o("span",{class:"text-red-400"},"*",-1)])),_:1}),t(Kt,{modelValue:h.value.category,"onUpdate:modelValue":c[2]||(c[2]=q=>h.value.category=q)},null,8,["modelValue"]),m.value.category?(a(),y("span",gl,b(m.value.category[0]),1)):E("",!0)])])),t(e(_t),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(H,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:c[3]||(c[3]=q=>e(T)("DialogNewCommand")),size:"sm"},{default:l(()=>c[12]||(c[12]=[i(" Cancel "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class"},"ESC")],-1)])),_:1}),B.editId===0?(a(),v(H,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:c[4]||(c[4]=q=>L()),variant:"primary"},{default:l(()=>[c[14]||(c[14]=i(" Save ")),o("div",_l,[o("kbd",yl,[c[13]||(c[13]=i(" Ctrl  ")),t(R,{icon:"uil:enter",class:""})])])]),_:1})):E("",!0),B.editId>0?(a(),v(H,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:c[5]||(c[5]=q=>L()),variant:"primary"},{default:l(()=>[c[16]||(c[16]=i(" Update ")),o("div",xl,[o("kbd",kl,[c[15]||(c[15]=i(" Ctrl  ")),t(R,{icon:"uil:enter",class:""})])])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function $l(){const x=D(1),N=D(parseInt(localStorage.getItem("perPage")||"10")),r=D("-id"),p=D(""),w=D({}),d=Le(),I=D(0),g=D(!1),P=D(1),T=D(1),V=D([]),A=D(!1),{openDialog:m}=d,{toastSuccess:u,toastError:h}=Ue();async function B(O={}){g.value=!0;try{const S=await ne.get("/api/commands",{params:{page:x.value,perPage:N.value,sort:r.value,...w.value}});V.value=S.data,P.value=S.data.last_page}catch(S){console.error("Error fetching commands:",S),h("Error","Failed to fetch commands.")}finally{g.value=!1}}const j=O=>{I.value=0,T.value=Math.random(),m("DialogNewCommand")};function L(O){I.value=O,T.value=Math.random(),m("DialogNewCommand")}const $=async O=>{try{await ne.delete(`/api/commands/${O}`),B(),u("Command Deleted","The command has been deleted successfully."),A.value=!1}catch(S){S.status===422?h("Error",S.response.data.message):(console.error("Error deleting Command Group:",S),h("Error","Failed to delete Command Group."))}},c=async O=>{try{await ne.post("/api/commands/delete-many",{ids:O}),B(),u("Commands Deleted","The commands have been deleted successfully."),A.value=!1,ie.emit("deleteManyCommandsSuccess")}catch(S){S.status===422?h("Error",S.response.data.message):(console.error("Error deleting Command Group:",S),h("Error","Failed to delete Command Group."))}},M=O=>{I.value=O,T.value=Math.random(),m("DialogNewCommand")},H=()=>{B(),T.value=Math.random()};function R(O){O.altKey&&O.key==="n"&&(O.preventDefault(),m("DialogNewCommand"))}const q=Re(()=>{w.value["filter[command]"]=p.value,x.value=1,B()},500);te([x,N],()=>{B()}),te(p,()=>{q()}),te(N,O=>{localStorage.setItem("perPage",O.toString())});function s(O){r.value===O?r.value=`-${O}`:r.value=O,B()}return{commands:V,isLoading:g,currentPage:x,perPage:N,lastPage:P,editId:I,newCommandModalKey:T,searchTerm:p,openDialog:m,fetchCommands:B,createCommand:j,updateCommand:L,deleteCommand:$,deleteManyCommands:c,handleSave:H,handleKeyDown:R,viewEditDialog:M,toggleSort:s,sortParam:r,showConfirmDelete:A}}const Cl={class:"flex flex-col h-full gap-1 text-center"},wl={class:"flex items-center justify-between p-4"},hl={class:"flex items-center"},Dl={class:"flex"},Il={class:"px-6"},Sl={key:0,class:"mr-2"},Vl={__name:"Main",setup(x){const{editId:N,commands:r,currentPage:p,perPage:w,searchTerm:d,lastPage:I,isLoading:g,fetchCommands:P,viewEditDialog:T,createCommand:V,deleteCommand:A,deleteManyCommands:m,handleSave:u,showConfirmDelete:h,handleKeyDown:B,newCommandModalKey:j,toggleSort:L,sortParam:$}=$l(),{selectedRows:c,selectAll:M,toggleSelectAll:H,toggleSelectRow:R}=ye(r);return se(()=>{P(),window.addEventListener("keydown",B),ie.on("deleteManyCommandsSuccess",()=>{c.value=[],M.value=!1})}),de(()=>{window.removeEventListener("keydown",B)}),(q,s)=>{const O=f("Input"),S=f("Button"),k=f("Checkbox"),Q=f("Icon"),Y=f("router-link"),J=f("Badge"),ee=f("Toaster");return a(),y("div",Cl,[o("div",wl,[o("div",hl,[t(O,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter commands...",modelValue:e(d),"onUpdate:modelValue":s[0]||(s[0]=n=>X(d)?d.value=n:null)},null,8,["modelValue"]),e(d)?(a(),v(xe,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>d.value="")})):E("",!0)]),o("div",Dl,[e(c).length?(a(),v(S,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>h.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+b(e(c).length)+" Command(s) ",1)]),_:1})):E("",!0),t(S,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(V),["prevent"]),variant:"primary"},{default:l(()=>s[12]||(s[12]=[i(" New Command "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),o("div",Il,[t(e(we),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(le),null,{default:l(()=>[t(e(F),{class:"w-[2%]"},{default:l(()=>[t(k,{id:"selectAll",modelValue:e(M),"onUpdate:modelValue":s[3]||(s[3]=n=>X(M)?M.value=n:null),checked:e(M),onClick:s[4]||(s[4]=n=>e(H)())},null,8,["modelValue","checked"])]),_:1}),t(e(F),{class:"w-[5%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(L)("id"))},{default:l(()=>[t(Q,{icon:e($)==="id"?"lucide:sort-asc":e($)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=o("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(L)("tagname"))},{default:l(()=>[t(Q,{icon:e($)==="tagname"?"lucide:sort-asc":e($)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=o("span",{class:"ml-2"},"Command",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>s[15]||(s[15]=[i("Description")])),_:1}),t(e(F),{class:"w-[40%]"},{default:l(()=>s[16]||(s[16]=[i("Command Groups")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>s[17]||(s[17]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[e(g)?(a(),v($e,{key:0})):e(g)?(a(),v(Ce,{key:2})):(a(!0),y(K,{key:1},W(e(r).data,n=>(a(),v(e(le),{key:n.id},{default:l(()=>[t(e(U),{class:"text-start"},{default:l(()=>[t(k,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(c).includes(n.id),onClick:z=>e(R)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.id),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.command),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.description),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,W(n.category.slice(0,8),(z,re)=>(a(),y("span",{key:z.categoryName,class:"mr-2"},[t(J,{variant:"outline",class:He([z.badgeColor?z.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","py-1 mt-1 hover:bg-rcgray-800"])},{default:l(()=>[t(Y,{to:z.view_url},{default:l(()=>[i(b(z.categoryName),1)]),_:2},1032,["to"])]),_:2},1032,["class"])]))),128)),n.category.length>8?(a(),y("span",Sl,[t(il,{recordName:n.command,items:n.category,displayField:"categoryName"},null,8,["recordName","items"])])):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(De,{rowData:n,onOnEdit:z=>e(T)(n.id),onOnDelete:z=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(he,{currentPage:e(p),lastPage:e(I),perPage:e(w),"onUpdate:currentPage":s[7]||(s[7]=n=>p.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>w.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),v(bl,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(j),editId:e(N)},null,8,["editId"])),t(ce,{ids:e(c),showConfirmDelete:e(h),onClose:s[10]||(s[10]=n=>h.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(m)(e(c)))},null,8,["ids","showConfirmDelete"]),t(ee)])])}}},Pl={class:"flex flex-col h-full gap-1 text-center"},Nl={class:"flex items-center justify-between p-4"},Tl={class:"flex items-center"},El={class:"flex"},Bl={class:"px-6"},Al={key:0,class:"mr-2"},Fl={__name:"Main",setup(x){const{editId:N,categories:r,currentPage:p,perPage:w,searchTerm:d,lastPage:I,isLoading:g,fetchCommandGroups:P,viewEditDialog:T,createCommandGroup:V,deleteCommandGroup:A,deleteManyCommandGroups:m,handleSave:u,showConfirmDelete:h,handleKeyDown:B,newCommandGroupsModalKey:j,toggleSort:L,sortParam:$}=Rt(),{selectedRows:c,selectAll:M,toggleSelectAll:H,toggleSelectRow:R}=ye(r);return se(()=>{P(),window.addEventListener("keydown",B),ie.on("deleteManyCommandGroupsSuccess",()=>{c.value=[],M.value=!1})}),de(()=>{window.removeEventListener("keydown",B)}),(q,s)=>{const O=f("Input"),S=f("Button"),k=f("Checkbox"),Q=f("Icon"),Y=f("router-link"),J=f("Badge"),ee=f("Toaster");return a(),y("div",Pl,[s[18]||(s[18]=o("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),o("div",Nl,[o("div",Tl,[t(O,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter command groups...",modelValue:e(d),"onUpdate:modelValue":s[0]||(s[0]=n=>X(d)?d.value=n:null)},null,8,["modelValue"]),e(d)?(a(),v(xe,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>d.value="")})):E("",!0)]),o("div",El,[e(c).length?(a(),v(S,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>h.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+b(e(c).length)+" CommandGroup(s) ",1)]),_:1})):E("",!0),t(S,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(V),["prevent"]),variant:"primary"},{default:l(()=>s[12]||(s[12]=[i(" New Command Group "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),o("div",Bl,[t(e(we),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(le),null,{default:l(()=>[t(e(F),{class:"w-[2%]"},{default:l(()=>[t(k,{id:"selectAll",modelValue:e(M),"onUpdate:modelValue":s[3]||(s[3]=n=>X(M)?M.value=n:null),checked:e(M),onClick:s[4]||(s[4]=n=>e(H)())},null,8,["modelValue","checked"])]),_:1}),t(e(F),{class:"w-[5%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(L)("id"))},{default:l(()=>[t(Q,{icon:e($)==="id"?"lucide:sort-asc":e($)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=o("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(L)("categoryName"))},{default:l(()=>[t(Q,{icon:e($)==="categoryName"?"lucide:sort-asc":e($)==="-categoryName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=o("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>s[15]||(s[15]=[i("Description")])),_:1}),t(e(F),{class:"w-[40%]"},{default:l(()=>s[16]||(s[16]=[i("Devices")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>s[17]||(s[17]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[e(g)?(a(),v($e,{key:0})):e(g)?(a(),v(Ce,{key:2})):(a(!0),y(K,{key:1},W(e(r).data,n=>(a(),v(e(le),{key:n.id},{default:l(()=>[t(e(U),{class:"text-start"},{default:l(()=>[t(k,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(c).includes(n.id),onClick:z=>e(R)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.id),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[o("span",{class:He([n.badgeColor?n.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","w-fit flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"])},b(n.categoryName),3)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.categoryDescription),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,W(n.device.slice(0,8),(z,re)=>(a(),y("span",{key:z.device_name,class:"mr-2"},[t(J,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(Y,{to:z.view_url},{default:l(()=>[i(b(z.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),n.device.length>8?(a(),y("span",Al,[t(Ne,{recordName:n.categoryName,items:n.device,displayField:"device_name"},null,8,["recordName","items"])])):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(De,{rowData:n,onOnEdit:z=>e(T)(n.id),onOnDelete:z=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(he,{currentPage:e(p),lastPage:e(I),perPage:e(w),"onUpdate:currentPage":s[7]||(s[7]=n=>p.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>w.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),v(Ht,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(j),editId:e(N)},null,8,["editId"])),t(ce,{ids:e(c),showConfirmDelete:e(h),onClose:s[10]||(s[10]=n=>h.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(m)(e(c)))},null,8,["ids","showConfirmDelete"]),t(ee)])])}}},Ul={__name:"ConfirmDisableAlert",props:{ids:{type:Array,required:!0},showConfirmDisable:{type:Boolean,required:!0}},emits:["handleDisable","close"],setup(x,{emit:N}){const r=N;se(()=>{window.addEventListener("keydown",d=>{d.key==="Escape"&&w()})}),de(()=>{window.removeEventListener("keydown",d=>{d.key==="Escape"&&w()})});function p(){r("handleDisable")}function w(){r("close")}return(d,I)=>(a(),v(e(zt),{open:x.showConfirmDisable},{default:l(()=>[t(e(At),null,{default:l(()=>[t(e(Ft),null,{default:l(()=>[t(e(Ut),null,{default:l(()=>[i("Disable device with ID "+b(x.ids)+"?",1)]),_:1}),t(e(Lt),null,{default:l(()=>I[2]||(I[2]=[i("Are you absolutely sure you want to disable this device? Disabling a device stops it from downloading configs via scheduled tasks and other operations.")])),_:1})]),_:1}),t(e(Mt),null,{default:l(()=>[t(e(Ot),{onCancel:I[0]||(I[0]=g=>w())},{default:l(()=>I[3]||(I[3]=[i("Cancel")])),_:1}),t(e(jt),{onAction:I[1]||(I[1]=g=>p())},{default:l(()=>I[4]||(I[4]=[i("Continue")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}},Ll={__name:"ActionsMenuDevices",props:{rowData:{type:Object,required:!0},showEditBtn:{type:Boolean,default:!0}},emits:["onEdit","onDelete","onDisable","onClone"],setup(x,{emit:N}){const r=D(!1),p=D(!1),w=N;function d(){w("onEdit")}function I(){w("onClone")}function g(){r.value=!0}function P(){w("onDelete"),r.value=!1}function T(){p.value=!0}function V(){w("onDisable"),p.value=!1}function A(){w("onEnable")}return(m,u)=>{const h=f("Button"),B=f("Icon");return a(),y("div",null,[t(e(Je),null,{default:l(()=>[t(e(Ye),{"as-child":""},{default:l(()=>[t(h,{variant:"ghost",class:"hover:animate-pulse"},{default:l(()=>u[2]||(u[2]=[i(" ... ")])),_:1})]),_:1}),t(e(We),{class:"w-56",align:"end",side:"bottom"},{default:l(()=>[x.showEditBtn?(a(),v(e(fe),{key:0,class:"cursor-pointer hover:bg-rcgray-800",onClick:d},{default:l(()=>[u[3]||(u[3]=o("span",null,"Edit",-1)),t(e(pe),null,{default:l(()=>[t(B,{icon:"fluent-color:text-edit-style-16"})]),_:1})]),_:1})):E("",!0),x.showEditBtn?(a(),v(e(fe),{key:1,class:"cursor-pointer hover:bg-rcgray-800",onClick:I},{default:l(()=>[u[4]||(u[4]=o("span",null,"Clone",-1)),t(e(pe),null,{default:l(()=>[t(B,{icon:"material-symbols:content-copy-outline"})]),_:1})]),_:1})):E("",!0),x.showEditBtn?(a(),v(e(Gt),{key:2})):E("",!0),x.rowData.status===100?(a(),v(e(fe),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:A},{default:l(()=>[u[5]||(u[5]=o("span",null,"Enable",-1)),t(e(pe),null,{default:l(()=>[t(B,{icon:"emojione-v1:up-arrow"})]),_:1})]),_:1})):E("",!0),x.rowData.status!=100?(a(),v(e(fe),{key:4,class:"cursor-pointer hover:bg-rcgray-800",onClick:T},{default:l(()=>[u[6]||(u[6]=o("span",null,"Disable",-1)),t(e(pe),null,{default:l(()=>[t(B,{icon:"emojione-v1:down-arrow"})]),_:1})]),_:1})):E("",!0),t(e(fe),{class:"cursor-pointer hover:bg-rcgray-800",onClick:g},{default:l(()=>[u[7]||(u[7]=o("span",{class:"text-red-400"},"Delete",-1)),t(e(pe),null,{default:l(()=>[t(B,{icon:"flat-color-icons:full-trash"})]),_:1})]),_:1})]),_:1})]),_:1}),t(Ul,{ids:[x.rowData.id],showConfirmDisable:p.value,onClose:u[0]||(u[0]=j=>p.value=!1),onHandleDisable:V},null,8,["ids","showConfirmDisable"]),t(ce,{ids:[x.rowData.id],showConfirmDelete:r.value,onClose:u[1]||(u[1]=j=>r.value=!1),onHandleDelete:P},null,8,["ids","showConfirmDelete"])])}}},Ml={key:0,class:"text-sm font-light"},Ol={class:"text-sm font-semibold"},jl={class:"relative items-center w-full"},zl={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Gl={class:"py-1"},ql=["onClick"],Kl=["checked"],Rl={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Hl={"data-size":"20"},Yl={class:"p-1 border-5"},Wl=Ve({__name:"CategoryFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:N}){const r=N,p=D([]),w=D(!1),d=D([]),I=D(""),g=D(!1),P=x;se(()=>{V()}),te(()=>P.modelValue,m=>{d.value=m,g.value=d.value.length===p.value.length});function T(m){if(m.id===9999999)g.value?(d.value=[],g.value=!1):(d.value=[...p.value],g.value=!0);else{const u=d.value.findIndex(h=>h.id===m.id);u!==-1?(d.value.splice(u,1),g.value=!1):(d.value.push(m),d.value.length===p.value.length&&(g.value=!0))}w.value=!1,r("update:modelValue",d.value)}function V(){ne.get("/api/categories/?perPage=10000").then(m=>{p.value=m.data.data})}const A=Se(()=>p.value.filter(m=>m.categoryName.toLowerCase().includes(I.value.toLowerCase())));return(m,u)=>{const h=f("Button"),B=f("Input"),j=f("Icon"),L=f("Separator");return a(),v(e(_e),null,{default:l(()=>[t(e(ve),null,{default:l(()=>[t(h,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(xt,{class:"mr-2"}),d.value&&d.value.length===0?(a(),y(K,{key:0},[i("Command Group")],64)):(a(),y(K,{key:1},[d.value.length>0?(a(),y("span",Ml,[u[2]||(u[2]=i(" Command Group ")),o("strong",Ol,b(d.value.length)+" selected",1)])):E("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[o("div",jl,[t(B,{id:"search",type:"text",modelValue:I.value,"onUpdate:modelValue":u[0]||(u[0]=$=>I.value=$),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),o("span",zl,[t(j,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(L),t(e(Pe),{class:"h-44"},{default:l(()=>[o("div",Gl,[(a(!0),y(K,null,W(A.value,$=>(a(),y("div",{key:$.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:c=>T($)},[o("input",{type:"checkbox",checked:d.value.some(c=>c.id===$.id),class:"mr-2"},null,8,Kl),o("span",Rl,[o("span",Hl,b($.categoryName),1)])],8,ql))),128))])]),_:1}),t(L),o("div",Yl,[t(h,{variant:"ghost",class:"justify-start w-full p-1",onClick:u[1]||(u[1]=$=>T({id:9999999}))},{default:l(()=>[t(j,{icon:g.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),o("span",null,b(g.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Jl={class:"border-b"},Ql={__name:"CommentSheet",props:{deviceId:{type:Number,required:!0},deviceName:{type:String,required:!0}},emits:["commentsaved"],setup(x,{emit:N}){const r=x,{closeSheet:p,isSheetOpen:w,viewDevice:d}=Jt(r),I=N,g=Qt(),P=D(g.commentCounters[r.deviceId]||0);return te(()=>g.commentCounters[r.deviceId],(T,V)=>{P.value=T}),(T,V)=>{const A=f("Separator");return a(),v(e(ht),{open:e(w)("DeviceCommentSheet")},{default:l(()=>[t(e(kt),{class:"h-[96vh] m-6 rounded-lg border p-2",onEscapeKeyDown:V[2]||(V[2]=m=>e(p)("DeviceCommentSheet")),onPointerDownOutside:V[3]||(V[3]=m=>e(p)("DeviceCommentSheet")),onCloseClicked:V[4]||(V[4]=m=>e(p)("DeviceCommentSheet"))},{default:l(()=>[t(e(bt),null,{default:l(()=>[t(e($t),{class:"mt-2 ml-1"},{default:l(()=>[i(b(P.value)+" Comments ",1),V[5]||(V[5]=o("span",{class:"text-sm font-light text-muted-foreground"},"on",-1)),t(e(Ct),{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:V[0]||(V[0]=m=>e(d)(x.deviceId))},{default:l(()=>[o("span",Jl,b(x.deviceName),1)]),_:1})]),_:1}),t(e(al),null,{default:l(()=>[t(A)]),_:1})]),_:1}),t(wt,{name:"fade"},{default:l(()=>[o("div",null,[t(Xt,{onCommentsaved:V[1]||(V[1]=m=>I("commentsaved")),deviceId:x.deviceId,deviceName:x.deviceName},null,8,["deviceId","deviceName"])])]),_:1})]),_:1})]),_:1},8,["open"])}}},Xl={key:0,class:"text-sm font-light"},Zl={class:"text-sm font-semibold"},es={class:"py-1"},ts=["onClick"],ls=["checked"],ss={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},as={"data-size":"20"},ns=Ve({__name:"StatusFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:N}){const r=N,p=D([{id:0,name:"Unreachable"},{id:1,name:"Reachable"},{id:2,name:"Unknown"},{id:100,name:"Disabled"},{id:200,name:"All"}]),w=D(!1),d=D([]),I=x;te(()=>I.modelValue,P=>{d.value=P});function g(P){if(P.id===200)d.value.length===p.value.length?d.value=[]:d.value=[...p.value];else{const T=d.value.findIndex(V=>V.id===P.id);if(T!==-1){d.value.splice(T,1);const V=d.value.findIndex(A=>A.id===200);V!==-1&&d.value.splice(V,1)}else d.value.push(P)}w.value=!1,r("update:modelValue",d.value)}return(P,T)=>{const V=f("Icon"),A=f("Button");return a(),v(e(_e),null,{default:l(()=>[t(e(ve),null,{default:l(()=>[t(A,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(V,{icon:"material-symbols-light:signal-wifi-statusbar-not-connected-rounded",class:"mr-2"}),d.value&&d.value.length===0?(a(),y(K,{key:0},[i("Status")],64)):(a(),y(K,{key:1},[d.value.length>0?(a(),y("span",Xl,[T[0]||(T[0]=i(" Status ")),o("strong",Zl,b(d.value.length)+" selected",1)])):E("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"p-0 w-44"},{default:l(()=>[t(e(Pe),{class:"h-44"},{default:l(()=>[o("div",es,[(a(!0),y(K,null,W(p.value,m=>(a(),y("div",{key:m.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:u=>g(m)},[o("input",{type:"checkbox",checked:d.value.some(u=>u.id===m.id),class:"mr-2"},null,8,ls),o("span",ss,[o("span",as,b(m.name),1)])],8,ts))),128))])]),_:1})]),_:1})]),_:1})}}}),os={key:0,class:"text-sm font-light"},ds={class:"text-sm font-semibold"},is={class:"relative items-center w-full"},rs={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},us={class:"py-1"},cs=["onClick"],ms=["checked"],fs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},ps={"data-size":"20"},vs={class:"p-1 border-5"},gs=Ve({__name:"TagFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:N}){const r=N,p=D([]),w=D(!1),d=D([]),I=D(""),g=D(!1),P=x;se(()=>{V()}),te(()=>P.modelValue,m=>{d.value=m,g.value=d.value.length===p.value.length});function T(m){if(m.id===9999999)g.value?(d.value=[],g.value=!1):(d.value=[...p.value],g.value=!0);else{const u=d.value.findIndex(h=>h.id===m.id);u!==-1?(d.value.splice(u,1),g.value=!1):(d.value.push(m),d.value.length===p.value.length&&(g.value=!0))}w.value=!1,r("update:modelValue",d.value)}function V(){ne.get("/api/tags/?perPage=10000").then(m=>{p.value=m.data.data})}const A=Se(()=>p.value.filter(m=>m.tagname.toLowerCase().includes(I.value.toLowerCase())));return(m,u)=>{const h=f("Button"),B=f("Input"),j=f("Icon"),L=f("Separator");return a(),v(e(_e),null,{default:l(()=>[t(e(ve),null,{default:l(()=>[t(h,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(Dt,{class:"mr-2"}),d.value&&d.value.length===0?(a(),y(K,{key:0},[i("Tags")],64)):(a(),y(K,{key:1},[d.value.length>0?(a(),y("span",os,[u[2]||(u[2]=i(" Tag ")),o("strong",ds,b(d.value.length)+" selected",1)])):E("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[o("div",is,[t(B,{id:"search",type:"text",modelValue:I.value,"onUpdate:modelValue":u[0]||(u[0]=$=>I.value=$),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),o("span",rs,[t(j,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(L),t(e(Pe),{class:"h-44"},{default:l(()=>[o("div",us,[(a(!0),y(K,null,W(A.value,$=>(a(),y("div",{key:$.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:c=>T($)},[o("input",{type:"checkbox",checked:d.value.some(c=>c.id===$.id),class:"mr-2"},null,8,ms),o("span",fs,[o("span",ps,b($.tagname),1)])],8,cs))),128))])]),_:1}),t(L),o("div",vs,[t(h,{variant:"ghost",class:"justify-start w-full p-1",onClick:u[1]||(u[1]=$=>T({id:9999999}))},{default:l(()=>[t(j,{icon:g.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),o("span",null,b(g.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),_s={class:"space-y-2"},ys={class:"mb-2 text-sm text-muted-foreground"},xs={key:0,class:"text-xs text-muted-foreground"},ks={__name:"TagListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(x){return(N,r)=>{const p=f("Button"),w=f("router-link");return a(),v(e(_e),null,{default:l(()=>[t(e(ve),{"as-child":""},{default:l(()=>[t(p,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>r[0]||(r[0]=[i(" ... ")])),_:1})]),_:1}),t(e(ge),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[o("div",_s,[o("p",ys,"All tags associated with "+b(x.recordName)+". Showing "+b(x.displayCount)+" records.",1)]),(a(!0),y(K,null,W(x.items.slice(0,x.displayCount),d=>(a(),v(e(Ke),{key:d[x.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t(w,{to:d.view_url},{default:l(()=>[i(b(d[x.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),x.displayCount>x.displayCount-1?(a(),y("span",xs,[r[2]||(r[2]=o("br",null,null,-1)),i(" Displaying only "+b(x.displayCount)+" records. Visit the ",1),t(w,{to:"/tags",class:"text-blue-500 hover:underline"},{default:l(()=>r[1]||(r[1]=[i(" Tags ")])),_:1}),r[3]||(r[3]=i(" page to view all tags. "))])):E("",!0)]),_:1})]),_:1})}}},bs={key:0,class:"text-sm font-light"},$s={class:"text-sm font-semibold"},Cs={class:"relative items-center w-full"},ws={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},hs={class:"py-1"},Ds=["onClick"],Is=["checked"],Ss={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Vs={"data-size":"20"},Ps={class:"p-1 border-5"},Ns=Ve({__name:"VendorFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:N}){const r=N,p=D([]),w=D(!1),d=D([]),I=D(""),g=D(!1),P=x;se(()=>{V()}),te(()=>P.modelValue,m=>{d.value=m,g.value=d.value.length===p.value.length});function T(m){if(m.id===9999999)g.value?(d.value=[],g.value=!1):(d.value=[...p.value],g.value=!0);else{const u=d.value.findIndex(h=>h.id===m.id);u!==-1?(d.value.splice(u,1),g.value=!1):(d.value.push(m),d.value.length===p.value.length&&(g.value=!0))}w.value=!1,r("update:modelValue",d.value)}function V(){ne.get("/api/vendors/?perPage=10000").then(m=>{p.value=m.data.data})}const A=Se(()=>p.value.filter(m=>m.vendorName.toLowerCase().includes(I.value.toLowerCase())));return(m,u)=>{const h=f("Button"),B=f("Input"),j=f("Icon"),L=f("Separator");return a(),v(e(_e),null,{default:l(()=>[t(e(ve),null,{default:l(()=>[t(h,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(It,{class:"mr-2"}),d.value&&d.value.length===0?(a(),y(K,{key:0},[i("Vendor")],64)):(a(),y(K,{key:1},[d.value.length>0?(a(),y("span",bs,[u[2]||(u[2]=i(" Vendor ")),o("strong",$s,b(d.value.length)+" selected",1)])):E("",!0)],64))]),_:1})]),_:1}),t(e(ge),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[o("div",Cs,[t(B,{id:"search",type:"text",modelValue:I.value,"onUpdate:modelValue":u[0]||(u[0]=$=>I.value=$),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),o("span",ws,[t(j,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(L),t(e(Pe),{class:"h-44"},{default:l(()=>[o("div",hs,[(a(!0),y(K,null,W(A.value,$=>(a(),y("div",{key:$.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:c=>T($)},[o("input",{type:"checkbox",checked:d.value.some(c=>c.id===$.id),class:"mr-2"},null,8,Is),o("span",Ss,[o("span",Vs,b($.vendorName),1)])],8,Ds))),128))])]),_:1}),t(L),o("div",Ps,[t(h,{variant:"ghost",class:"justify-start w-full p-1",onClick:u[1]||(u[1]=$=>T({id:9999999}))},{default:l(()=>[t(j,{icon:g.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),o("span",null,b(g.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Ts={class:"flex flex-col h-full gap-1 text-center"},Es={class:"flex items-center justify-between p-4"},Bs={class:"flex items-center"},As={class:"flex gap-2"},Fs={class:"flex"},Us={class:"px-6"},Ls={class:"flex justify-between"},Ms={class:"border-b"},Os={key:0,class:"ml-2"},js={key:0},zs={key:1},Gs={key:0},qs={key:1},Ks={key:0},Rs={key:1},Hs={key:0},Ys={key:1},Ws={key:0,class:"mr-2"},Js={__name:"Main",props:{statusId:{type:Number,required:!1}},setup(x){const{clearFilters:N,createDevice:r,currentPage:p,deleteDevice:w,deleteManyDevices:d,devices:I,disableDevice:g,editId:P,enableDevice:T,fetchDevices:V,filterCategories:A,filterStatus:m,filterTags:u,filterVendor:h,formatters:B,handleKeyDown:j,handleSave:L,isLoading:$,lastPage:c,newDeviceModalKey:M,perPage:H,searchTerm:R,showConfirmDelete:q,sortParam:s,toggleSort:O,updateDevice:S,viewDeviceDetailsPane:k,viewEditDialog:Q}=Zt(),{selectedRows:Y,selectAll:J,toggleSelectAll:ee,toggleSelectRow:n}=ye(I),z=St(),{openSheet:re,closeSheet:G,isSheetOpen:oe}=z,Te=D(0),Oe=D(""),je=D(0),Ee=D(!1),Be=Qe(),Ze=Me();se(()=>{Be.query.statusId&&(m.value=[{id:parseInt(Be.query.statusId)}]),V(),window.addEventListener("keydown",j),ie.on("deleteManyDevicesSuccess",()=>{Y.value=[],J.value=!1})}),te(()=>Be.query,async me=>{if(me.openDeviceDialog){r(),await Vt();const{openDeviceDialog:_,...Ae}=me;Ze.replace({query:Ae},void 0,{replace:!0})}},{immediate:!0}),de(()=>{window.removeEventListener("keydown",j)});function et(me){je.value+=1,Te.value=me,Oe.value=I.value.data.find(_=>_.id===me).device_name,re("DeviceCommentSheet")}return(me,_)=>{const Ae=f("Input"),tt=f("Separator"),ue=f("Button"),ze=f("Checkbox"),Ie=f("Icon"),lt=f("StatusRedIcon"),st=f("StatusGreenIcon"),at=f("StatusYellowIcon"),nt=f("StatusGrayIcon"),ot=f("router-link"),dt=f("Badge"),it=f("Toaster");return a(),y("div",Ts,[o("div",Es,[o("div",Bs,[t(Ae,{class:"ml-2 min-w-32 lg:min-w-60",autocomplete:"off",placeholder:"Filter devices by ID, name or IP...",modelValue:e(R),"onUpdate:modelValue":_[0]||(_[0]=C=>X(R)?R.value=C:null)},null,8,["modelValue"]),t(tt,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),_[19]||(_[19]=o("span",{class:"mr-2 text-muted-foreground"},"Filters:",-1)),o("div",As,[t(Wl,{modelValue:e(A),"onUpdate:modelValue":_[1]||(_[1]=C=>X(A)?A.value=C:null)},null,8,["modelValue"]),t(gs,{modelValue:e(u),"onUpdate:modelValue":_[2]||(_[2]=C=>X(u)?u.value=C:null)},null,8,["modelValue"]),t(Ns,{modelValue:e(h),"onUpdate:modelValue":_[3]||(_[3]=C=>X(h)?h.value=C:null)},null,8,["modelValue"]),t(ns,{modelValue:e(m),"onUpdate:modelValue":_[4]||(_[4]=C=>X(m)?m.value=C:null)},null,8,["modelValue"]),e(R)||e(A).length||e(u).length||e(h).length||e(m).length?(a(),v(xe,{key:0,"onUpdate:modelValue":e(N)},null,8,["onUpdate:modelValue"])):E("",!0)])]),o("div",Fs,[e(Y).length?(a(),v(ue,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:_[5]||(_[5]=Z(C=>q.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+b(e(Y).length)+" Device(s) ",1)]),_:1})):E("",!0),t(ue,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:_[6]||(_[6]=Z(C=>e(r)(),["prevent"])),variant:"primary"},{default:l(()=>_[20]||(_[20]=[i(" New Device "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1})])]),o("div",Us,[t(e(we),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(le),null,{default:l(()=>[t(e(F),{class:"w-[2%]"},{default:l(()=>[t(ze,{id:"selectAll",modelValue:e(J),"onUpdate:modelValue":_[7]||(_[7]=C=>X(J)?J.value=C:null),checked:e(J),onClick:_[8]||(_[8]=C=>e(ee)())},null,8,["modelValue","checked"])]),_:1}),t(e(F),{class:"w-[5%]"},{default:l(()=>[t(ue,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:_[9]||(_[9]=C=>e(O)("id"))},{default:l(()=>[t(Ie,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),_[21]||(_[21]=o("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[2%]"},{default:l(()=>[t(ue,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:_[10]||(_[10]=C=>e(O)("status"))},{default:l(()=>[t(Ie,{icon:e(s)==="status"?"lucide:sort-asc":e(s)==="-status"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),_[22]||(_[22]=o("span",{class:"ml-2"},null,-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>[t(ue,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:_[11]||(_[11]=C=>e(O)("device_name"))},{default:l(()=>[t(Ie,{icon:e(s)==="device_name"?"lucide:sort-asc":e(s)==="-device_name"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),_[23]||(_[23]=o("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[24]||(_[24]=[i("IP Address")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[25]||(_[25]=[i("C'Group")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[26]||(_[26]=[i("Vendor")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[27]||(_[27]=[i("Model")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[28]||(_[28]=[i("Config Count")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[29]||(_[29]=[i("Config Failures")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[30]||(_[30]=[i("Last Config")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[31]||(_[31]=[i("Tags")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>_[32]||(_[32]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[e($)?(a(),v($e,{key:0})):e($)?(a(),v(Ce,{key:2})):(a(!0),y(K,{key:1},W(e(I).data,C=>(a(),v(e(le),{key:C.id},{default:l(()=>[t(e(U),{class:"text-start"},{default:l(()=>[t(ze,{class:"cursor-pointer",id:"select-"+C.id,checked:!!e(Y).includes(C.id),onClick:ae=>e(n)(C.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(C.id),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[C.status===0?(a(),v(lt,{key:0})):E("",!0),C.status===1?(a(),v(st,{key:1})):E("",!0),C.status===2?(a(),v(at,{key:2})):E("",!0),C.status===100?(a(),v(nt,{key:3})):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[o("div",Ls,[t(ue,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:ae=>e(k)(C.id)},{default:l(()=>[o("span",Ms,b(C.device_name),1)]),_:2},1032,["onClick"]),t(ue,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:ae=>et(C.id)},{default:l(()=>[t(Ie,{icon:"vaadin:comments-o"}),C.comments.length>0?(a(),y("span",Os,b(C.comments.length),1)):E("",!0)]),_:2},1032,["onClick"])])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(C.device_ip),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[C.category.length>0?(a(),y("span",js,b(C.category[0].categoryName),1)):(a(),y("span",zs,"--"))]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[C.vendor.length>0?(a(),y("span",Gs,b(C.vendor[0].vendorName),1)):(a(),y("span",qs,"--"))]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(C.device_model),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(C.config_good_count),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[C.config_bad_count?(a(),y("span",Ks,b(C.config_bad_count),1)):(a(),y("span",Rs,"--"))]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[C.last_config?(a(),y("span",Hs,b(e(B).formatTime(C.last_config.created_at)),1)):(a(),y("span",Ys,"--"))]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,W(C.tag.slice(0,3),(ae,Da)=>(a(),y("span",{key:ae.tagname,class:"mr-2"},[t(dt,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(ot,{to:ae.view_url},{default:l(()=>[i(b(ae.tagname),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),C.tag.length>3?(a(),y("span",Ws,[t(ks,{recordName:C.device_name,items:C.tag,displayField:"tagname"},null,8,["recordName","items"])])):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(Ll,{rowData:C,onOnEnable:ae=>e(T)(C.id),onOnClone:ae=>(e(Q)(C.id),Ee.value=!0),onOnDisable:ae=>e(g)(C.id),onOnEdit:ae=>e(Q)(C.id),onOnDelete:ae=>e(w)(C.id)},null,8,["rowData","onOnEnable","onOnClone","onOnDisable","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(he,{currentPage:e(p),lastPage:e(c),perPage:e(H),"onUpdate:currentPage":_[12]||(_[12]=C=>p.value=C),"onUpdate:perPage":_[13]||(_[13]=C=>H.value=C)},null,8,["currentPage","lastPage","perPage"]),(a(),v(el,{onSave:_[14]||(_[14]=C=>e(L)()),onClose:_[15]||(_[15]=C=>Ee.value=!1),key:e(M),editId:e(P),isClone:Ee.value},null,8,["editId","isClone"])),t(ce,{ids:e(Y),showConfirmDelete:e(q),onClose:_[16]||(_[16]=C=>q.value=!1),onHandleDelete:_[17]||(_[17]=C=>e(d)(e(Y)))},null,8,["ids","showConfirmDelete"]),(a(),v(Ql,{deviceId:Te.value,deviceName:Oe.value,onCommentsaved:_[18]||(_[18]=C=>e(V)()),key:je.value},null,8,["deviceId","deviceName"])),t(it)])])}}},Qs={class:"flex flex-col h-full gap-1 text-center"},Xs={class:"flex items-center justify-between p-4"},Zs={class:"flex items-center"},ea={class:"flex"},ta={class:"px-6"},la={key:0,class:"mr-2"},sa={__name:"Main",setup(x){const{editId:N,tags:r,currentPage:p,perPage:w,searchTerm:d,lastPage:I,isLoading:g,fetchTags:P,viewEditDialog:T,createTag:V,deleteTag:A,deleteManyTags:m,handleSave:u,showConfirmDelete:h,handleKeyDown:B,newTagModalKey:j,toggleSort:L,sortParam:$}=Yt(),{selectedRows:c,selectAll:M,toggleSelectAll:H,toggleSelectRow:R}=ye(r);return se(()=>{P(),window.addEventListener("keydown",B),ie.on("deleteManyTagsSuccess",()=>{c.value=[],M.value=!1})}),de(()=>{window.removeEventListener("keydown",B)}),(q,s)=>{const O=f("Input"),S=f("Button"),k=f("Checkbox"),Q=f("Icon"),Y=f("router-link"),J=f("Badge"),ee=f("Toaster");return a(),y("div",Qs,[o("div",Xs,[o("div",Zs,[t(O,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tags...",modelValue:e(d),"onUpdate:modelValue":s[0]||(s[0]=n=>X(d)?d.value=n:null)},null,8,["modelValue"]),e(d)?(a(),v(xe,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>d.value="")})):E("",!0)]),o("div",ea,[e(c).length?(a(),v(S,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>h.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+b(e(c).length)+" Tag(s) ",1)]),_:1})):E("",!0),t(S,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(V),["prevent"]),variant:"primary"},{default:l(()=>s[12]||(s[12]=[i(" New Tag "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),o("div",ta,[t(e(we),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(le),null,{default:l(()=>[t(e(F),{class:"w-[2%]"},{default:l(()=>[t(k,{id:"selectAll",modelValue:e(M),"onUpdate:modelValue":s[3]||(s[3]=n=>X(M)?M.value=n:null),checked:e(M),onClick:s[4]||(s[4]=n=>e(H)())},null,8,["modelValue","checked"])]),_:1}),t(e(F),{class:"w-[5%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(L)("id"))},{default:l(()=>[t(Q,{icon:e($)==="id"?"lucide:sort-asc":e($)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=o("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(L)("tagname"))},{default:l(()=>[t(Q,{icon:e($)==="tagname"?"lucide:sort-asc":e($)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=o("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>s[15]||(s[15]=[i("Description")])),_:1}),t(e(F),{class:"w-[40%]"},{default:l(()=>s[16]||(s[16]=[i("Devices")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>s[17]||(s[17]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[e(g)?(a(),v($e,{key:0})):e(g)?(a(),v(Ce,{key:2})):(a(!0),y(K,{key:1},W(e(r).data,n=>(a(),v(e(le),{key:n.id},{default:l(()=>[t(e(U),{class:"text-start"},{default:l(()=>[t(k,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(c).includes(n.id),onClick:z=>e(R)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.id),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.tagname),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.tagDescription),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,W(n.device.slice(0,8),(z,re)=>(a(),y("span",{key:z.device_name,class:"mr-2"},[t(J,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(Y,{to:z.view_url},{default:l(()=>[i(b(z.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),n.device.length>8?(a(),y("span",la,[t(Ne,{recordName:n.tagname,items:n.device,displayField:"device_name"},null,8,["recordName","items"])])):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(De,{rowData:n,onOnEdit:z=>e(T)(n.id),onOnDelete:z=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(he,{currentPage:e(p),lastPage:e(I),perPage:e(w),"onUpdate:currentPage":s[7]||(s[7]=n=>p.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>w.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),v(Wt,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(j),editId:e(N)},null,8,["editId"])),t(ce,{ids:e(c),showConfirmDelete:e(h),onClose:s[10]||(s[10]=n=>h.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(m)(e(c)))},null,8,["ids","showConfirmDelete"]),t(ee)])])}}};function aa(x){const N=D(1),r=D(parseInt(localStorage.getItem("perPage")||"10")),p=D("-id"),w=D(""),d=D({}),I=Le(),g=D(0),P=D(!1),T=D(1),V=D(1),A=D([]),m=D(!1),u=Me(),{openDialog:h}=I,{toastSuccess:B,toastError:j}=Ue();async function L(S={}){P.value=!0;try{const k=await ne.get("/api/templates",{params:{page:N.value,perPage:r.value,sort:p.value,...d.value}});A.value=k.data,T.value=k.data.last_page}catch(k){console.error("Error fetching templates:",k),j("Error","Failed to fetch templates.")}finally{P.value=!1}}function $(S){u.push({name:"templatesview",params:{id:S}})}const c=async S=>{try{await ne.delete(`/api/templates/${S}`),L(),B("Template Deleted","The template has been deleted successfully.")}catch(k){k.status===422?j("Error",k.response.data.message):(console.error("Error deleting template:",k),j("Error","Failed to delete template."))}},M=async S=>{try{await ne.post("/api/templates/delete-many",{ids:S}),L(),B("Templates Deleted","The templates have been deleted successfully."),m.value=!1,ie.emit("deleteManyTemplatesSuccess")}catch(k){k.status===422?j("Error",k.response.data.message):(console.error("Error deleting Templates:",k),j("Error","Failed to delete Templates.")),m.value=!1}},H=S=>{g.value=S,V.value=Math.random(),h("DialogNewTemplate")},R=()=>{L(),V.value=Math.random()};function q(S){S.altKey&&S.key==="n"&&(S.preventDefault(),h("DialogNewTemplate"))}const s=Re(()=>{d.value["filter[templateName]"]=w.value,N.value=1,L()},500);te([N,r],()=>{L()}),te(w,()=>{s()}),te(r,S=>{localStorage.setItem("perPage",S.toString())});function O(S){p.value===S?p.value=`-${S}`:p.value=S,L()}return{templates:A,isLoading:P,currentPage:N,perPage:r,lastPage:T,editId:g,newTemplateModalKey:V,searchTerm:w,openDialog:h,fetchTemplates:L,viewTemplateDetailsPane:$,deleteTemplate:c,deleteManyTemplates:M,handleSave:R,handleKeyDown:q,viewEditDialog:H,toggleSort:O,sortParam:p,showConfirmDelete:m}}const na={class:"flex flex-col h-full gap-1 text-center"},oa={class:"flex items-center justify-between p-4"},da={class:"flex items-center"},ia={class:"flex"},ra={class:"px-6"},ua={class:"border-b"},ca={key:0,class:"mr-2"},ma={__name:"Main",setup(x){const{templates:N,isLoading:r,currentPage:p,perPage:w,lastPage:d,editId:I,newTemplateModalKey:g,searchTerm:P,openDialog:T,fetchTemplates:V,viewTemplateDetailsPane:A,deleteTemplate:m,deleteManyTemplates:u,handleSave:h,handleKeyDown:B,viewEditDialog:j,toggleSort:L,sortParam:$,showConfirmDelete:c}=aa(),{importTemplates:M,importingTemplates:H}=tl(),{selectedRows:R,selectAll:q,toggleSelectAll:s,toggleSelectRow:O}=ye(N);return se(()=>{V(),window.addEventListener("keydown",B),ie.on("deleteManyTemplatesSuccess",()=>{R.value=[],q.value=!1,document.getElementById("selectAll").checked=!1})}),de(()=>{window.removeEventListener("keydown",B)}),(S,k)=>{const Q=f("Input"),Y=f("Button"),J=f("Icon"),ee=f("Checkbox"),n=f("router-link"),z=f("Badge"),re=f("Toaster");return a(),y("div",na,[o("div",oa,[o("div",da,[t(Q,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter templates...",modelValue:e(P),"onUpdate:modelValue":k[0]||(k[0]=G=>X(P)?P.value=G:null)},null,8,["modelValue"]),e(P)?(a(),v(xe,{key:0,"onUpdate:modelValue":k[1]||(k[1]=G=>P.value="")})):E("",!0)]),o("div",ia,[e(R).length?(a(),v(Y,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:k[2]||(k[2]=Z(G=>c.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+b(e(R).length)+" Template(s) ",1)]),_:1})):E("",!0),t(Y,{type:"close",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700",onClick:k[3]||(k[3]=G=>e(M)()),variant:"outline"},{default:l(()=>[e(H)?E("",!0):(a(),v(J,{key:0,icon:"mdi:github",class:"mr-2"})),t(Xe,{state:e(H)},null,8,["state"]),k[13]||(k[13]=i(" Import Templates "))]),_:1}),t(Y,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:k[4]||(k[4]=Z(G=>e(A)(0),["prevent"])),variant:"primary"},{default:l(()=>k[14]||(k[14]=[i(" New Template "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1})])]),o("div",ra,[t(e(we),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(le),null,{default:l(()=>[t(e(F),{class:"w-[2%]"},{default:l(()=>[t(ee,{id:"selectAll",modelValue:e(q),"onUpdate:modelValue":k[5]||(k[5]=G=>X(q)?q.value=G:null),checked:e(q),onClick:k[6]||(k[6]=G=>e(s)())},null,8,["modelValue","checked"])]),_:1}),t(e(F),{class:"w-[5%]"},{default:l(()=>[t(Y,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:k[7]||(k[7]=G=>e(L)("id"))},{default:l(()=>[t(J,{icon:e($)==="id"?"lucide:sort-asc":e($)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),k[15]||(k[15]=o("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>[t(Y,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:k[8]||(k[8]=G=>e(L)("templateName"))},{default:l(()=>[t(J,{icon:e($)==="templateName"?"lucide:sort-asc":e($)==="-templateName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),k[16]||(k[16]=o("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>k[17]||(k[17]=[i("Description")])),_:1}),t(e(F),{class:"w-[40%]"},{default:l(()=>k[18]||(k[18]=[i("Devices")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>k[19]||(k[19]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[e(r)?(a(),v($e,{key:0})):e(r)?(a(),v(Ce,{key:2})):(a(!0),y(K,{key:1},W(e(N).data,G=>(a(),v(e(le),{key:G.id},{default:l(()=>[t(e(U),{class:"text-start"},{default:l(()=>[t(ee,{class:"cursor-pointer",id:"select-"+G.id,checked:!!e(R).includes(G.id),onClick:oe=>e(O)(G.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(G.id),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(Y,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:oe=>e(A)(G.id)},{default:l(()=>[o("span",ua,b(G.templateName),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(G.description),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,W(G.device.slice(0,8),(oe,Te)=>(a(),y("span",{key:oe.device_name,class:"mr-2"},[t(z,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(n,{to:oe.view_url},{default:l(()=>[i(b(oe.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),G.device.length>8?(a(),y("span",ca,[t(Ne,{recordName:G.templateName,items:G.device,displayField:"device_name"},null,8,["recordName","items"])])):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(De,{rowData:G,onOnEdit:oe=>e(A)(G.id),onOnDelete:oe=>e(m)(G.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(he,{currentPage:e(p),lastPage:e(d),perPage:e(w),"onUpdate:currentPage":k[9]||(k[9]=G=>p.value=G),"onUpdate:perPage":k[10]||(k[10]=G=>w.value=G)},null,8,["currentPage","lastPage","perPage"]),t(ce,{ids:e(R),showConfirmDelete:e(c),onClose:k[11]||(k[11]=G=>c.value=!1),onHandleDelete:k[12]||(k[12]=G=>e(u)(e(R)))},null,8,["ids","showConfirmDelete"]),t(re)])])}}},fa={class:"flex flex-col h-full gap-1 text-center"},pa={class:"flex items-center justify-between p-4"},va={class:"flex items-center"},ga={class:"flex"},_a={class:"px-6"},ya={key:0,class:"mr-2"},xa={__name:"Main",setup(x){const{editId:N,vendors:r,currentPage:p,perPage:w,searchTerm:d,lastPage:I,isLoading:g,fetchVendors:P,viewEditDialog:T,createVendor:V,deleteVendor:A,deleteManyVendors:m,handleSave:u,handleKeyDown:h,newVendorModalKey:B,toggleSort:j,sortParam:L,showConfirmDelete:$}=ll(),{selectedRows:c,selectAll:M,toggleSelectAll:H,toggleSelectRow:R}=ye(r);return se(()=>{P(),window.addEventListener("keydown",h),ie.on("deleteManyVendorsSuccess",()=>{c.value=[],M.value=!1,document.getElementById("selectAll").checked=!1})}),de(()=>{window.removeEventListener("keydown",h)}),(q,s)=>{const O=f("Input"),S=f("Button"),k=f("Checkbox"),Q=f("Icon"),Y=f("router-link"),J=f("Badge"),ee=f("Toaster");return a(),y("div",fa,[o("div",pa,[o("div",va,[t(O,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter vendors...",modelValue:e(d),"onUpdate:modelValue":s[0]||(s[0]=n=>X(d)?d.value=n:null)},null,8,["modelValue"]),e(d)?(a(),v(xe,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>d.value="")})):E("",!0)]),o("div",ga,[e(c).length?(a(),v(S,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>$.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+b(e(c).length)+" Tag(s) ",1)]),_:1})):E("",!0),t(S,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(V),["prevent"]),variant:"primary"},{default:l(()=>s[12]||(s[12]=[i(" New Vendor "),o("div",{class:"pl-2 ml-auto"},[o("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])),_:1},8,["onClick"])])]),o("div",_a,[t(e(we),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(le),null,{default:l(()=>[t(e(F),{class:"w-[2%]"},{default:l(()=>[t(k,{id:"selectAll",modelValue:e(M),"onUpdate:modelValue":s[3]||(s[3]=n=>X(M)?M.value=n:null),checked:e(M),onClick:s[4]||(s[4]=n=>e(H)())},null,8,["modelValue","checked"])]),_:1}),t(e(F),{class:"w-[5%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(j)("id"))},{default:l(()=>[t(Q,{icon:e(L)==="id"?"lucide:sort-asc":e(L)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=o("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[20%]"},{default:l(()=>[t(S,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(j)("vendorName"))},{default:l(()=>[t(Q,{icon:e(L)==="vendorName"?"lucide:sort-asc":e(L)==="-vendorName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=o("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(F),{class:"w-[50%]"},{default:l(()=>s[15]||(s[15]=[i("Devices")])),_:1}),t(e(F),{class:"w-[10%]"},{default:l(()=>s[16]||(s[16]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[e(g)?(a(),v($e,{key:0})):e(g)?(a(),v(Ce,{key:2})):(a(!0),y(K,{key:1},W(e(r).data,n=>(a(),v(e(le),{key:n.id},{default:l(()=>[t(e(U),{class:"text-start"},{default:l(()=>[t(k,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(c).includes(n.id),onClick:z=>e(R)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.id),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[i(b(n.vendorName),1)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,W(n.device.slice(0,8),(z,re)=>(a(),y("span",{key:z.device_name,class:"mr-2"},[t(J,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(Y,{to:z.view_url},{default:l(()=>[i(b(z.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),n.device.length>8?(a(),y("span",ya,[t(Ne,{recordName:n.vendorName,items:n.device,displayField:"device_name"},null,8,["recordName","items"])])):E("",!0)]),_:2},1024),t(e(U),{class:"text-start"},{default:l(()=>[t(De,{rowData:n,onOnEdit:z=>e(T)(n.id),onOnDelete:z=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(he,{currentPage:e(p),lastPage:e(I),perPage:e(w),"onUpdate:currentPage":s[7]||(s[7]=n=>p.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>w.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),v(sl,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(B),editId:e(N)},null,8,["editId"])),t(ce,{ids:e(c),showConfirmDelete:e($),onClose:s[10]||(s[10]=n=>$.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(m)(e(c)))},null,8,["ids","showConfirmDelete"]),t(ee)])])}}};function ka(){const x=Pt(),N=D(localStorage.getItem("inventorySelectedView")||"devices"),r=Qe(),p=Me(),w=[{id:"devices",label:"Devices",icon:"DeviceIcon",isFavorite:D(!1),route:"/devices"},{id:"commandgroups",label:"Command Groups",icon:"CommandGroupIcon",isFavorite:D(!1),route:"/commandgroups"},{id:"commands",label:"Commands",icon:"CommandsIcon",isFavorite:D(!1),route:"/commands"},{id:"templates",label:"Templates",icon:"TemplateIcon",isFavorite:D(!1),route:"/templates"},{id:"vendors",label:"Vendors",icon:"VendorIcon",isFavorite:D(!1),route:"/vendors"},{id:"tags",label:"Tags",icon:"TagIcon",isFavorite:D(!1),route:"/tags"}];se(()=>{r.params.view?d(r.params.view):r.name==="devicesview"?d(r.name):r.path.includes("inventory")?d("devices"):d(r.name);const g=r.query;Object.keys(g).length>0&&p.push({name:N.value,query:g}),w.forEach(P=>{P.isFavorite.value=x.isFavorite(P.id)})});function d(g){localStorage.setItem("inventorySelectedView",g),N.value=g,p.push({name:g})}function I(g){const P=w.find(T=>T.id===g);P&&(P.isFavorite.value=!P.isFavorite.value,x.toggleFavorite(P))}return{changeView:d,currentView:N,favoritesStore:x,route:r,router:p,toggleFavorite:I,viewItems:w}}const ba={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},$a={class:"border-t border-b topRow"},Ca={class:"flex items-center gap-2"},wa={class:"flex items-center gap-2 mr-4"},ha={class:"flex items-center gap-2"},Aa={__name:"Main",setup(x){const{changeView:N,currentView:r,toggleFavorite:p,viewItems:w}=ka();return(d,I)=>{const g=f("Icon"),P=f("Button"),T=f("StarUnselected"),V=f("StarSelected");return a(),y("main",ba,[o("div",$a,[t(e(Je),null,{default:l(()=>{var A,m;return[t(e(Ye),{"as-child":"",class:"p-4 ml-2"},{default:l(()=>[t(P,{variant:"outline"},{default:l(()=>[o("span",Ca,[t(g,{icon:"fluent-color:pin-16"}),I[0]||(I[0]=i(" Select View "))])]),_:1})]),_:1}),o("div",wa,[(a(),v(qe(((A=e(w).find(u=>u.id===e(r)))==null?void 0:A.icon)||""))),i(" "+b(((m=e(w).find(u=>u.id===e(r)))==null?void 0:m.label)||""),1)]),t(e(We),{class:"w-56",align:"start"},{default:l(()=>[t(e(qt),null,{default:l(()=>[(a(!0),y(K,null,W(e(w),u=>(a(),v(e(fe),{key:u.id,onClick:h=>e(N)(u.id)},{default:l(()=>[o("span",ha,[(a(),v(qe(u.icon))),i(" "+b(u.label),1)]),t(e(Nt),null,{default:l(()=>[t(e(Tt),null,{default:l(()=>[t(e(Et),{"as-child":""},{default:l(()=>[t(e(pe),{onClick:Z(h=>e(p)(u.id),["stop","prevent"])},{default:l(()=>[u.isFavorite.value?E("",!0):(a(),v(T,{key:0})),u.isFavorite.value?(a(),v(V,{key:1})):E("",!0)]),_:2},1032,["onClick"])]),_:2},1024),t(e(Bt),null,{default:l(()=>[o("p",null,b(u.isFavorite.value?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]}),_:1})]),o("div",null,[e(r)==="devices"||e(r)==="devicesview"?(a(),v(Js,{key:0})):E("",!0),e(r)==="commandgroups"?(a(),v(Fl,{key:1})):E("",!0),e(r)==="commands"?(a(),v(Vl,{key:2})):E("",!0),e(r)==="templates"?(a(),v(ma,{key:3})):E("",!0),e(r)==="vendors"?(a(),v(xa,{key:4})):E("",!0),e(r)==="tags"?(a(),v(sa,{key:5})):E("",!0)])])}}};export{Aa as default};
