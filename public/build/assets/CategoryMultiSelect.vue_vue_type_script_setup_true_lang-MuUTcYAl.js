import{d as L,b as i,Y as M,Q as T,y as D,f as F,g as m,o as u,x as q,w as n,l,h as s,u as p,j as h,t as v,c as f,F as w,D as C,n as V,T as A}from"./app-Bb_COxWZ.js";import{_ as E,a as P,b as Q}from"./PopoverContent-Bljc_7WQ.js";import{_ as U}from"./ScrollArea-HbAneUc6.js";const Y={class:"relative items-center w-full"},G={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},H={class:"py-1"},J=["onClick"],K={"data-size":"20"},O={class:"p-1 border-5"},Z=L({__name:"CategoryMultiSelect",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(k,{emit:I}){const x=I,y=i([]);i([]);const N=i(!1),d=i(""),a=i([]),c=k,g=M(()=>y.value.filter(o=>o.categoryName.toLowerCase().includes(d.value.toLowerCase())&&!a.value.some(e=>e.id===o.id)));T(()=>c.modelValue,o=>{a.value=o}),D(()=>{$(),c.modelValue&&c.modelValue.length>0&&(a.value=c.modelValue)});function B(o){a.value.push(o),N.value=!1,d.value="";const e=g.value.findIndex(r=>r.categoryName===o.categoryName);e!==-1&&g.value.splice(e,1),x("update:modelValue",a.value)}function S(o){const e=a.value.findIndex(r=>r.categoryName===o);e!==-1&&a.value.splice(e,1),x("update:modelValue",a.value)}function $(){F.get("/api/categories/?perPage=10000").then(o=>{y.value=o.data.data})}return(o,e)=>{const r=m("Icon"),_=m("Button"),j=m("Input"),b=m("Separator");return u(),q(p(Q),null,{default:n(()=>[e[2]||(e[2]=l("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),s(p(E),{class:"col-span-3"},{default:n(()=>[s(_,{variant:"ghost",class:"flex flex-wrap items-start justify-start w-full p-1 pl-2 whitespace-normal border h-fit"},{default:n(()=>[h(v(a.value&&a.value.length===0?"Select categories":"")+" ",1),(u(!0),f(w,null,C(a.value,t=>(u(),f("span",{key:t.id,class:"relative my-1 group"},[l("span",{class:V([t.badgeColor?t.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"])},[h(v(t.categoryName)+" ",1),s(r,{icon:"si:close-line",class:"ml-1 cursor-pointer hover:text-white",onClick:A(z=>S(t.categoryName),["stop"])},null,8,["onClick"])],2)]))),128))]),_:1})]),_:1}),s(p(P),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:n(()=>[l("div",Y,[s(j,{id:"search",type:"text",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),l("span",G,[s(r,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),s(b),s(p(U),{class:"h-64"},{default:n(()=>[l("div",H,[(u(!0),f(w,null,C(g.value,t=>(u(),f("div",{key:t.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:z=>B(t)},[l("span",{"data-size":"20",class:V(["cursor-default text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border",t.badgeColor?t.badgeColor:"bg-gray-600 text-gray-200 border-gray-500"])},[l("span",K,v(t.categoryName),1)],2)],8,J))),128))])]),_:1}),s(b),l("div",O,[s(_,{variant:"ghost",class:"justify-start w-full p-1"},{default:n(()=>[s(r,{icon:"octicon:plus-16",class:"w-3 h-3 mt-1 mr-2 text-muted-foreground"}),e[1]||(e[1]=l("span",null,"Create new record",-1))]),_:1})])]),_:1})]),_:1})}}});export{Z as _};
