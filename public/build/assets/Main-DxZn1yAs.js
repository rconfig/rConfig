import{o as r,d as S,j as o,r as h,I as we,u as ne,p as Ue,A as K,B as T,J as He,c as q,aq as Te,z as k,w as s,e as t,f as e,K as Ze,C as H,L as Ae,M as Ge,N as Ee,h as x,t as V,at as Ke,F as L,G as U,q as W,as as ke,k as I,ar as Qe,Q as We,R as Je,ak as de,b as oe,av as Ye,T as J,a as Q,ag as X,ah as ee,ai as te,aj as se,aw as Xe,D as G,E as Z,ax as et,ay as E,az as tt,aA as ue,aB as st,aC as at,aD as Se,aE as Pe,aF as lt,aG as nt,aH as ot,aI as rt,aJ as it,aK as dt,aL as ut,aM as ct,aN as ft,a0 as mt,aO as pt,aP as _e,v as gt,a6 as vt,aQ as ie,x as _t,y as yt,U as Ct,_ as Ie,i as qe,a7 as ae,aR as ye,m as De,an as Ve,a2 as Fe,ap as Re,g as xt,H as ht,ae as bt,ac as $t,ad as wt,am as kt,W as St}from"./app-D3DFbhTy.js";import{a as Pt,u as It,m as qt,e as Ce,b as xe,c as Dt,_ as Vt}from"./ToggleGroupItem-Cj5DBzV2.js";import{a as Be,b as le,c as N,d as Le,e as Me,f as O,i as je,j as ze,u as Ft,h as Rt}from"./useRowSelection-CtxXvdhY.js";import{_ as ce,a as fe,b as me,c as pe,d as ge,e as ve}from"./SelectScrollDownButton-BiysJlCk.js";import{_ as Ne}from"./CardFooter.vue_vue_type_script_setup_true_lang-CMulWzmK.js";import{_ as Bt}from"./DeviceMultiSelect-33XwJW0n.js";/* empty css               */import"./eventBus-CGRXT3Tn.js";import"./Switch-3lxQ9beX.js";function Lt(u,n){return r(),S("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:"currentColor"})])}function Mt(u,n){return r(),S("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}const jt={class:"flex justify-between"},zt={class:"flex items-center"},Nt={class:"flex items-center"},Ot={class:"grid gap-4 px-6 py-4 overflow-y-auto"},Ut={class:"flex flex-col justify-between"},Ht={class:"underline"},Tt=["innerHTML"],Zt={__name:"PeekConfigSearchMatchesDialog",props:{editId:{type:Number,required:!0},record:{type:Object,required:!0},searchString:{type:String,required:!0}},setup(u){h({});const n=we(),f=h({}),l=h(!0),c=h(localStorage.getItem("selectedLanguage")||"language-plaintext"),{closeDialog:d,isDialogOpen:y}=n;ne();const{text:m,copy:g,copied:a,isSupported:i}=Ue(),p=u,{matches:b}=p.record,v=["bash","c","cpp","css","html","java","javascript","language-plaintext","php","python","typescript"];K(()=>{window.addEventListener("keydown",R),l.value=!1});const $=P=>{if(!p.searchString)return P;const w=new RegExp(p.searchString,"gi");return P.replace(w,A=>`<span class="highlightMatch">${A}</span>`).replace(/\n/g,"<br>")};function R(P){P.key==="Escape"&&_()}const C=T(()=>p.record.file);He(()=>{window.removeEventListener("keydown",R)});const D=P=>{f.value[P]=!0},j=P=>{f.value[P]=!1};function _(){d("peek-config-search-matches-dialog-"+p.editId)}return(P,w)=>{const z=q("Icon"),A=q("Button"),B=Te("highlightjs");return r(),k(e(Je),{open:e(y)("peek-config-search-matches-dialog-"+u.editId)},{default:s(()=>[t(e(Ze),{"as-child":""},{default:s(()=>[H(P.$slots,"default")]),_:3}),t(e(Ae),{class:"sm:max-w-[70dvw] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]",onEscapeKeyDown:w[5]||(w[5]=F=>e(d)("peek-config-search-matches-dialog-"+u.editId)),onPointerDownOutside:w[6]||(w[6]=F=>e(d)("peek-config-search-matches-dialog-"+u.editId)),onCloseClicked:w[7]||(w[7]=F=>e(d)("peek-config-search-matches-dialog-"+u.editId))},{default:s(()=>[t(e(Ge),{class:"p-6 pb-0"},{default:s(()=>[t(e(Ee),null,{default:s(()=>[x("Configuration Quick Peek (Config ID: "+V(u.editId)+")",1)]),_:1}),t(e(Ke),null,{default:s(()=>[o("div",jt,[o("div",zt,[w[8]||(w[8]=o("div",{class:"mr-2"},"Language Options:",-1)),t(e(ce),{modelValue:c.value,"onUpdate:modelValue":w[0]||(w[0]=F=>c.value=F)},{default:s(()=>[t(e(fe),{class:"w-[180px]"},{default:s(()=>[t(e(me),{placeholder:"Select a language"})]),_:1}),t(e(pe),null,{default:s(()=>[t(e(ge),null,{default:s(()=>[(r(),S(L,null,U(v,F=>t(e(ve),{value:F,key:F},{default:s(()=>[x(V(F),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",Nt,[x(" Path: "+V(C.value)+" ",1),t(z,{icon:e(a)?"material-symbols:check-circle-outline":e(a)?"material-symbols:content-copy-outline":"material-symbols:content-copy",class:W([e(a)?"text-green-500":"text-gray-500","ml-2 cursor-pointer hover:text-gray-700"]),onMouseover:w[1]||(w[1]=F=>D("fileLocation")),onMouseleave:w[2]||(w[2]=F=>j("fileLocation")),onClick:w[3]||(w[3]=F=>e(g)(C.value))},null,8,["icon","class"])])])]),_:1})]),_:1}),o("div",Ot,[o("div",Ut,[l.value?(r(),k(ke,{key:0})):I("",!0),Qe((r(),S("pre",null,[w[14]||(w[14]=x("        ")),o("code",{class:W(c.value)},[w[12]||(w[12]=x(`
           `)),(r(!0),S(L,null,U(e(b),(F,M)=>(r(),S("div",{key:M,class:"context-block"},[w[9]||(w[9]=x(`
`)),o("span",Ht,"Matched Line: "+V(F.line_number),1),w[10]||(w[10]=x(`
      `)),o("pre",{innerHTML:$(F.context)},null,8,Tt),w[11]||(w[11]=x(`
    `))]))),128)),w[13]||(w[13]=x(`
        `))],2),w[15]||(w[15]=x(`
      `))])),[[B]])])]),t(e(We),{class:"p-6 pt-0"},{default:s(()=>[t(A,{onClick:w[4]||(w[4]=F=>_()),variant:"outline"},{default:s(()=>w[16]||(w[16]=[x(" Close ")])),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}}};function At(u){const n=de("formatters"),f=we(),{openDialog:l,closeDialog:c,isDialogOpen:d}=f,y=oe(),m=h(0),g=h([]),a=h(!1),i=h(1),p=h(1),b=h(5),v=h([]),$=Ye({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:!0,ignore_case:!0,start_date:"",end_date:""});J(()=>u.filters,P=>{R(P),C()});function R(P){v.value=[],g.value=[],m.value=0,i.value=1,p.value=1,Object.assign($,P)}const C=async()=>{var P,w;a.value=!0;try{const z=await Q.post("/api/configs/search",{device_name:$.device_name,command:$.command,device_category:$.device_category,search_string:$.search_string,lines_before:$.lines_before,lines_after:$.lines_after,latest_version_only:$.latest_version_only,ignore_case:$.ignore_case,start_date:$.start_date+" 00:00:00",end_date:$.end_date+" 23:59:59",page:p.value,per_page:b.value});z.data.data.length&&(v.value=z.data.data,m.value=z.data.current_page,i.value=z.data.last_page)}catch(z){console.log(z),g.value=((w=(P=z.response)==null?void 0:P.data)==null?void 0:w.errors)||[]}finally{a.value=!1}};function D(P){y.push({name:"configsview",params:{id:parseInt(P)},query:{ref:"configsearch"}})}function j(P){b.value=P,C()}function _(P){console.log(P),p.value=P,C()}return{changePage:_,currentPage:m,errors:g,formatters:n,isDialogOpen:d,isFetching:a,lastPage:i,openDialog:l,perPage:b,results:v,searchModel:$,updatePerpage:j,viewDetailsPane:D}}const Gt={class:"px-6"},Et={class:"flex items-center border-b"},Kt={key:0,class:"flex items-center justify-center my-4"},Qt={key:0},Wt={key:1},Jt={key:2,class:"flex items-center justify-center pb-8"},Yt={__name:"ConfigSearchResultsTable",props:{filters:Object},setup(u){const n=u,{changePage:f,currentPage:l,errors:c,formatters:d,isDialogOpen:y,isFetching:m,lastPage:g,openDialog:a,perPage:i,results:p,searchModel:b,updatePerpage:v,viewDetailsPane:$}=At(n);return(R,C)=>{const D=q("Icon"),j=q("Button");return r(),S("div",Gt,[t(e(je),null,{default:s(()=>[t(e(Be),null,{default:s(()=>[t(e(le),null,{default:s(()=>[t(e(N),{class:"w-[5%]"},{default:s(()=>C[2]||(C[2]=[x("ID")])),_:1}),t(e(N),{class:"w-[20%]"},{default:s(()=>C[3]||(C[3]=[x("Device")])),_:1}),t(e(N),{class:"w-[10%]"},{default:s(()=>C[4]||(C[4]=[x("Command Group")])),_:1}),t(e(N),{class:"w-[10%]"},{default:s(()=>C[5]||(C[5]=[x("Filesize")])),_:1}),t(e(N),{class:"w-[10%]"},{default:s(()=>C[6]||(C[6]=[x("Config date")])),_:1}),t(e(N),{class:"w-[10%]"},{default:s(()=>C[7]||(C[7]=[x("Matches")])),_:1}),t(e(N),{class:"w-[10%]"},{default:s(()=>C[8]||(C[8]=[x("Actions")])),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(m)?(r(),k(Me,{key:0})):(r(!0),S(L,{key:1},U(e(p),_=>(r(),k(e(le),{key:_.id},{default:s(()=>[t(e(O),{class:"text-start"},{default:s(()=>[x(V(_.id),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(_.device_name),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(_.device_category),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(e(d).formatFileSize(_.config_filesize)),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(e(d).formatTime(_.config_date)),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:P=>e(a)("peek-config-search-matches-dialog-"+_.id),class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl"},{default:s(()=>[o("span",Et,[t(D,{icon:"charm:eye",class:"mr-2 text-muted-foreground hover:text-blue-500"}),x(" "+V(_.matches.length?_.matches.length:"No")+" match"+V(_.matches.length>1?"es":""),1)])]),_:2},1032,["onClick"])]),_:2},1024),t(e(se),{class:"text-white bg-rcgray-800"},{default:s(()=>C[9]||(C[9]=[o("p",null,"View Matches",-1)])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(O),{class:"flex items-center"},{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(ee),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:P=>e(a)("peek-config-dialog-"+_.id)},{default:s(()=>[t(D,{icon:"lets-icons:view-alt-fill",class:"size-6 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(se),{class:"text-white bg-rcgray-800"},{default:s(()=>C[10]||(C[10]=[o("p",null,"Peek Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),t(e(X),null,{default:s(()=>[t(e(ee),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(j,{variant:"ghost",onClick:P=>e($)(_.id)},{default:s(()=>[t(D,{icon:"hugeicons:file-view",class:"size-5 text-muted-foreground hover:text-blue-500"})]),_:2},1032,["onClick"])]),_:2},1024),t(e(se),{class:"text-white bg-rcgray-800"},{default:s(()=>C[11]||(C[11]=[o("p",null,"Open Config",-1)])),_:1})]),_:2},1024)]),_:2},1024),e(y)("peek-config-search-matches-dialog-"+_.id)?(r(),k(Zt,{key:0,record:_,editId:_.id,searchString:e(b).search_string},null,8,["record","editId","searchString"])):I("",!0),e(y)("peek-config-dialog-"+_.id)?(r(),k(Pt,{key:1,editId:_.id},null,8,["editId"])):I("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!e(m)&&e(p).length===0?(r(),S("div",Kt,[Object.keys(e(c)).length===0?(r(),S("div",Qt,"No results found.")):I("",!0),Object.keys(e(c)).length?(r(),S("div",Wt,[(r(!0),S(L,null,U(e(c),_=>(r(),S("span",{key:_,class:"col-span-3 col-start-2 text-sm text-red-400"},[C[12]||(C[12]=o("br",null,null,-1)),x(" "+V(_[0]),1)]))),128))])):I("",!0)])):I("",!0),!e(m)&&e(p).length>0?(r(),k(ze,{key:1,currentPage:e(l),lastPage:e(g),perPage:e(i),"onUpdate:currentPage":C[0]||(C[0]=_=>e(f)(_)),"onUpdate:perPage":C[1]||(C[1]=_=>e(v)(_))},null,8,["currentPage","lastPage","perPage"])):I("",!0),!e(m)&&e(l)>=e(g)?(r(),S("div",Jt,C[13]||(C[13]=[o("hr",{class:"flex-grow mx-8"},null,-1),o("div",{class:"text-muted-foreground"},"No more results to load.",-1),o("hr",{class:"flex-grow mx-8"},null,-1)]))):I("",!0)])}}},Xt={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},es={__name:"RangeCalendar",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1},modelValue:{type:Object,required:!1},placeholder:{type:null,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(u,{emit:n}){const f=u,l=n,c=T(()=>{const{class:y,...m}=f;return m}),d=Xe(c,l);return(y,m)=>(r(),k(e(et),G({class:e(Z)("p-3",f.class)},e(d)),{default:s(({grid:g,weekDays:a})=>[t(e(rs),null,{default:s(()=>[t(e(us)),t(e(is)),t(e(ds))]),_:1}),o("div",Xt,[(r(!0),S(L,null,U(g,i=>(r(),k(e(as),{key:i.value.toString()},{default:s(()=>[t(e(ns),null,{default:s(()=>[t(e(he),null,{default:s(()=>[(r(!0),S(L,null,U(a,p=>(r(),k(e(os),{key:p},{default:s(()=>[x(V(p),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t(e(ls),null,{default:s(()=>[(r(!0),S(L,null,U(i.rows,(p,b)=>(r(),k(e(he),{key:`weekDate-${b}`,class:"mt-2 w-full"},{default:s(()=>[(r(!0),S(L,null,U(p,v=>(r(),k(e(ts),{key:v.toString(),date:v},{default:s(()=>[t(e(ss),{day:v,month:i.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},ts={__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(tt),G({class:e(Z)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-view])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},ss={__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(st),G({class:e(Z)(e(ue)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},as={__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(at),G({class:e(Z)("w-full border-collapse space-y-1",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},ls={__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const n=u;return(f,l)=>(r(),k(e(lt),Se(Pe(n)),{default:s(()=>[H(f.$slots,"default")]),_:3},16))}},ns={__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const n=u;return(f,l)=>(r(),k(e(nt),Se(Pe(n)),{default:s(()=>[H(f.$slots,"default")]),_:3},16))}},he={__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(ot),G({class:e(Z)("flex",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},os={__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(rt),G({class:e(Z)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},rs={__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(it),G({class:e(Z)("relative flex w-full items-center justify-between pt-1",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default")]),_:3},16,["class"]))}},is={__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(dt),G({class:e(Z)("text-sm font-medium",n.class)},e(l)),{default:s(({headingValue:y})=>[H(c.$slots,"default",{headingValue:y},()=>[x(V(y),1)])]),_:3},16,["class"]))}},ds={__name:"RangeCalendarNextButton",props:{step:{type:String,required:!1},nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(ct),G({class:e(Z)(e(ue)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default",{},()=>[t(e(ut),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},us={__name:"RangeCalendarPrevButton",props:{step:{type:String,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const n=u,f=T(()=>{const{class:c,...d}=n;return d}),l=E(f);return(c,d)=>(r(),k(e(ft),G({class:e(Z)(e(ue)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",n.class)},e(l)),{default:s(()=>[H(c.$slots,"default",{},()=>[t(e(Mt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Oe=mt({__name:"ConfigSearchFilterCardDateRangePicker",emits:["dateChange"],setup(u,{emit:n}){const f=n,l=new pt("en-US",{dateStyle:"medium"}),c=new Date().getFullYear(),d=new Date().getMonth()+1,y=new Date().getDate(),m=h({start:new _e(c,d,y).subtract({days:7}),end:new _e(c,d,y)}),g=Ct(a=>{f("dateChange",a)},500);return J(m,a=>{g(a)}),K(()=>{f("dateChange",m.value)}),(a,i)=>(r(),k(e(yt),null,{default:s(()=>[t(e(gt),{"as-child":""},{default:s(()=>[t(e(vt),{variant:"outline",class:W(e(Z)("w-[280px] justify-start text-left font-normal",!m.value&&"text-muted-foreground"))},{default:s(()=>[t(e(Lt),{class:"w-4 h-4 mr-2"}),m.value.start?(r(),S(L,{key:0},[m.value.end?(r(),S(L,{key:0},[x(V(e(l).format(m.value.start.toDate(e(ie)())))+" - "+V(e(l).format(m.value.end.toDate(e(ie)()))),1)],64)):(r(),S(L,{key:1},[x(V(e(l).format(m.value.start.toDate(e(ie)()))),1)],64))],64)):(r(),S(L,{key:1},[x("Pick a date")],64))]),_:1},8,["class"])]),_:1}),t(e(_t),{class:"w-auto p-0"},{default:s(()=>[t(e(es),{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=p=>m.value=p),"initial-focus":"","number-of-months":2,"onUpdate:startValue":i[1]||(i[1]=p=>m.value.start=p)},null,8,["modelValue"])]),_:1})]),_:1}))}});function cs(u){const n=h({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:h(!0),ignore_case:h(!0),start_date:"",end_date:""}),f=h(null),l=h([]);K(()=>{c()});function c(){Q.get("/api/configs/distinct-commands/0").then(g=>{l.value=g.data.data}).catch(g=>{createNotification({type:"danger",message:g.response.data.message})})}function d(){n.value.device_name="",n.value.command="",n.value.device_category="",n.value.search_string="",n.value.lines_before=5,n.value.lines_after=5,n.value.latest_version_only=h(!0),n.value.ignore_case=h(!0),n.value.start_date="",n.value.end_date="",u("searchCompleted",n.value)}function y(g){if(g.start&&g.end){const a=`${g.start.year}-${String(g.start.month).padStart(2,"0")}-${String(g.start.day).padStart(2,"0")}`,i=`${g.end.year}-${String(g.end.month).padStart(2,"0")}-${String(g.end.day).padStart(2,"0")}`;n.start_date=a,n.end_date=i}else n.start_date="",n.end_date="";f.value=g}function m(){u("searchCompleted",n.value)}return{clearAll:d,commands:l,model:n,performSearch:m,setDates:y}}const fs={key:0,class:"space-y-2"},ms={key:0,class:"grid gap-3"},ps={class:"grid items-center"},gs={class:"grid items-center"},vs={class:"grid items-center"},_s={class:"grid items-center"},ys={class:"flex items-center mt-4 space-x-4"},Cs={class:"flex items-center mb-4 space-x-4"},xs={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2"},hs={class:"flex flex-col items-start"},bs={class:"flex flex-col items-start"},$s={class:"flex flex-col items-start w-full space-x-2"},ws={__name:"ConfigSearchFilterCard",props:{isLoading:Boolean},emits:["searchCompleted"],setup(u,{emit:n}){const f=n,{clearAll:l,commands:c,model:d,performSearch:y,setDates:m}=cs(f);return(g,a)=>{const i=q("Skeleton"),p=q("Input"),b=q("Label"),v=q("Button");return r(),S("div",null,[t(e(De),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(Ie),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>a[11]||(a[11]=[o("div",{class:"grid gap-0.5"},null,-1)])),_:1}),t(e(qe),{class:"p-4 pt-0 text-sm"},{default:s(()=>[u.isLoading?(r(),S("div",fs,[t(i,{class:"w-1/2 h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"}),t(i,{class:"w-full h-4"})])):I("",!0),t(ae,{name:"fade"},{default:s(()=>[u.isLoading?I("",!0):(r(),S("div",ms,[o("div",ps,[t(e(ce),{modelValue:e(d).command,"onUpdate:modelValue":a[0]||(a[0]=$=>e(d).command=$)},{default:s(()=>[t(e(fe),{class:"w-full"},{default:s(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(pe),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(ge),null,{default:s(()=>[(r(!0),S(L,null,U(e(c),$=>(r(),k(e(ve),{value:$.command},{default:s(()=>[x(V($.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[12]||(a[12]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[x(" Required "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",gs,[t(p,{modelValue:e(d).search_string,"onUpdate:modelValue":a[1]||(a[1]=$=>e(d).search_string=$),id:"search_string",autocomplete:"off",placeholder:"Search String",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[13]||(a[13]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[x(" Required "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",vs,[t(p,{modelValue:e(d).device_name,"onUpdate:modelValue":a[2]||(a[2]=$=>e(d).device_name=$),id:"device_name",autocomplete:"off",placeholder:"Device Name",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[14]||(a[14]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial device name",-1))]),o("div",_s,[t(p,{modelValue:e(d).device_category,"onUpdate:modelValue":a[3]||(a[3]=$=>e(d).device_category=$),id:"device_category",autocomplete:"off",placeholder:"Command Group",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[15]||(a[15]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial command group name",-1))]),o("div",ys,[t(e(ye),{id:"ignore_case",checked:e(d).ignore_case,"onUpdate:checked":a[4]||(a[4]=$=>e(d).ignore_case=$)},null,8,["checked"]),a[16]||(a[16]=o("label",{for:"ignore_case",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Ignore Case ",-1))]),o("div",Cs,[t(e(ye),{id:"latest_version_only",checked:e(d).latest_version_only,"onUpdate:checked":a[5]||(a[5]=$=>e(d).latest_version_only=$)},null,8,["checked"]),a[17]||(a[17]=o("label",{for:"latest_version_only",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Latest Version Only ",-1))]),o("div",xs,[o("div",hs,[t(p,{type:"number",id:"lines_before",modelValue:e(d).lines_before,"onUpdate:modelValue":a[6]||(a[6]=$=>e(d).lines_before=$)},null,8,["modelValue"]),t(b,{for:"lines_before",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>a[18]||(a[18]=[x(" Lines Before ")])),_:1})]),o("div",bs,[t(p,{type:"number",id:"lines_after",modelValue:e(d).lines_after,"onUpdate:modelValue":a[7]||(a[7]=$=>e(d).lines_after=$)},null,8,["modelValue"]),t(b,{for:"lines_after",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>a[19]||(a[19]=[x(" Lines After ")])),_:1})])]),o("div",$s,[t(Oe,{class:"w-full",onDateChange:a[8]||(a[8]=$=>e(m)($))}),a[20]||(a[20]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Ne),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[u.isLoading?I("",!0):(r(),k(v,{key:0,variant:"outline",onClick:a[9]||(a[9]=$=>e(l)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>a[21]||(a[21]=[x(" Clear ")])),_:1})),u.isLoading?I("",!0):(r(),k(v,{key:1,variant:"primary",onClick:a[10]||(a[10]=$=>e(y)()),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>a[22]||(a[22]=[x(" Search ")])),_:1}))]),_:1})]),_:1})])}}},ks={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},Ss={class:"flex justify-between w-full p-2 border-b"},Ps={class:"flex items-center justify-between p-2 mb-4 border-b"},Is={class:"flex items-center justify-between p-2 mb-2 border-b"},qs={__name:"ConfigSearch",setup(u){const n=h({}),f=oe(),l=h(null),c=h(!1),d=a=>{n.value={...a}},y=()=>{f.go(-1)};function m(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse(),c.value=!c.value}function g(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse(),c.value=!c.value}return(a,i)=>{const p=q("Icon"),b=q("Button"),v=q("ResizablePanel"),$=q("ResizableHandle"),R=q("ResizablePanelGroup");return r(),S("div",ks,[o("div",Ss,[t(b,{onClick:i[0]||(i[0]=C=>y()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(p,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),i[3]||(i[3]=o("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),i[4]||(i[4]=o("div",{class:"flex justify-end"},null,-1))]),t(R,{direction:"horizontal",class:""},{default:s(()=>[t(v,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement4",ref:l,class:"h-[86vh]"},{default:s(()=>[o("div",Ps,[i[5]||(i[5]=o("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(Ve,{class:"mr-2",onClose:i[1]||(i[1]=C=>m())})]),t(ws,{onSearchCompleted:d})]),_:1},512),t($,{"with-handle":""}),t(v,{class:"h-[86vh]"},{default:s(()=>[t(e(Fe),{class:"border border-none rounded-md"},{default:s(()=>[o("div",null,[o("div",Is,[t(Re,{class:"ml-2",onOpenNav:i[2]||(i[2]=C=>g()),navPanelBtnState:c.value},null,8,["navPanelBtnState"]),o("h1",{class:W(["w-full text-sm font-semibold",c.value===!1?"ml-2 ":""])}," Results ",2)]),t(Yt,{filters:n.value},null,8,["filters"])])]),_:1})]),_:1})]),_:1})])}}};function Ds(u){const n=h(null),f=h([]),l=h({selectedCommand:[],device:[],start_date:"",end_date:""});K(()=>{c()});function c(){Q.get("/api/configs/distinct-commands/0").then(g=>{f.value=g.data.data}).catch(g=>{createNotification({type:"danger",message:g.response.data.message})})}function d(){l.value.selectedCommand=[],l.value.device=[],l.value.start_date="",l.value.end_date="",u("updateConfigFilter",l.value)}function y(g){if(g.start&&g.end){const a=`${g.start.year}-${String(g.start.month).padStart(2,"0")}-${String(g.start.day).padStart(2,"0")}`,i=`${g.end.year}-${String(g.end.month).padStart(2,"0")}-${String(g.end.day).padStart(2,"0")}`;l.value.start_date=a,l.value.end_date=i}else l.value.start_date="",l.value.end_date="";n.value=g}function m(){u("updateConfigFilter",l.value)}return{clearAll:d,commands:f,model:l,performFilter:m,setDates:y}}const Vs={class:"grid gap-0.5"},Fs={key:0,class:"space-y-2"},Rs={key:0,class:"grid gap-3"},Bs={class:"grid items-center"},Ls={class:"grid items-center"},Ms={class:"flex flex-col items-start w-full space-x-2"},be={__name:"ConfigCompareFilterCard",props:{isLoading:Boolean,comparePosition:String},emits:["updateConfigFilter"],setup(u,{emit:n}){const f=n,l=de("formatters"),{clearAll:c,commands:d,model:y,performFilter:m,setDates:g}=Ds(f);return(a,i)=>{const p=q("Skeleton"),b=q("Button");return r(),S("div",null,[t(e(De),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(Ie),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[o("div",Vs,[t(e(xt),{class:"flex items-center gap-2 text-lg group"},{default:s(()=>[x(V(e(l).capitalize(u.comparePosition))+" Device",1)]),_:1})])]),_:1}),t(e(qe),{class:"p-4 pt-0 text-sm"},{default:s(()=>[u.isLoading?(r(),S("div",Fs,[t(p,{class:"w-1/2 h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"}),t(p,{class:"w-full h-4"})])):I("",!0),t(ae,{name:"fade"},{default:s(()=>[u.isLoading?I("",!0):(r(),S("div",Rs,[o("div",Bs,[t(Bt,{singleSelect:!0,modelValue:e(y).device,"onUpdate:modelValue":i[0]||(i[0]=v=>e(y).device=v),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),i[5]||(i[5]=o("p",{class:"ml-1 text-xs text-muted-foreground"},[x(" Select a device for the left side (Required) "),o("span",{class:"text-red-400"},"*")],-1))]),o("div",Ls,[t(e(ce),{modelValue:e(y).selectedCommand,"onUpdate:modelValue":i[1]||(i[1]=v=>e(y).selectedCommand=v)},{default:s(()=>[t(e(fe),{class:"w-full"},{default:s(()=>[t(e(me),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(pe),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(ge),null,{default:s(()=>[(r(!0),S(L,null,U(e(d),v=>(r(),k(e(ve),{value:v.command},{default:s(()=>[x(V(v.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),i[6]||(i[6]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Optionally select a command to filter the results",-1))]),o("div",Ms,[t(Oe,{class:"w-full",onDateChange:i[2]||(i[2]=v=>e(g)(v))}),i[7]||(i[7]=o("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Ne),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[u.isLoading?I("",!0):(r(),k(b,{key:0,variant:"outline",onClick:i[3]||(i[3]=v=>e(c)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>i[8]||(i[8]=[x(" Clear ")])),_:1})),u.isLoading?I("",!0):(r(),k(b,{key:1,variant:"primary",onClick:i[4]||(i[4]=v=>e(m)(u.comparePosition)),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>i[9]||(i[9]=[x(" Filter ")])),_:1}))]),_:1})]),_:1})])}}};function js(u,n){const{toastSuccess:f,toastError:l}=ne(),c=h(!1),d=h(1),y=h(1),m=h(parseInt(localStorage.getItem("perPage")||"5")),g=h([]);K(()=>{u.filterData.device.length>=1&&a()});function a(){if(c.value=!0,u.filterData.device.length===0){console.error("No device selected.");return}Q.get("/api/configs/all-by-deviceid/"+u.filterData.device[0].id+"/1?filter[q]="+u.filterData.selectedCommand,{params:{perPage:m.value,page:d.value}}).then(i=>{g.value=i.data,y.value=i.data.last_page,c.value=!1}).catch(i=>{console.error("Error fetching commands:",i),l("Error","Failed to fetch commands."),c.value=!1})}return J([d,m],()=>{a()}),J(m,i=>{localStorage.setItem("perPage",i.toString())}),{currentPage:d,isLoading:c,lastPage:y,perPage:m,results:g}}const zs={class:"w-full"},Ns={key:0,class:"min-h-[35dvh] flex items-center justify-center"},Os={class:"text-sm text-center"},Us={class:"text-muted-foreground"},Hs={key:1,class:"min-h-[35dvh] flex-1 w-full"},Ts={class:"px-6"},Zs={key:0,class:"flex items-center mt-4"},As={class:"text-sm"},$e={__name:"ConfigCompareFilterConfigResults",props:{filterData:Object,comparePosition:String},emits:["updateSelectedRows"],setup(u,{emit:n}){const f=de("formatters"),l=n,c=u,{currentPage:d,isLoading:y,lastPage:m,perPage:g,results:a}=js(c),{selectedRows:i,toggleSingleSelectRow:p}=Ft(a);return J(i,b=>{l("updateSelectedRows",b)}),(b,v)=>{const $=q("Button"),R=q("Checkbox"),C=q("Icon");return r(),S("div",zs,[u.filterData.device.length===0?(r(),S("div",Ns,[o("div",Os,[o("span",Us,V(e(f).capitalize(u.comparePosition))+" selection. No results, yet!",1),v[4]||(v[4]=o("br",null,null,-1)),v[5]||(v[5]=o("span",{class:"text-muted-foreground"},"Add filters to select configurations for comparison",-1))])])):I("",!0),u.filterData.device.length>0?(r(),S("div",Hs,[o("div",Ts,[t(e(je),null,{default:s(()=>[t(e(Be),null,{default:s(()=>[t(e(le),null,{default:s(()=>[t(e(N),{class:"w-[2%]"}),t(e(N),{class:"w-[5%]"},{default:s(()=>[t($,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:v[0]||(v[0]=D=>b.toggleSort("id"))},{default:s(()=>v[6]||(v[6]=[o("span",{class:"ml-2"},"ID",-1)])),_:1})]),_:1}),t(e(N),{class:"w-[20%]"},{default:s(()=>[t($,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:v[1]||(v[1]=D=>b.toggleSort("cred_name"))},{default:s(()=>v[7]||(v[7]=[o("span",{class:"ml-2"},"Name",-1)])),_:1})]),_:1}),t(e(N),{class:"w-[30%]"},{default:s(()=>v[8]||(v[8]=[x("Command")])),_:1}),t(e(N),{class:"w-[30%]"},{default:s(()=>v[9]||(v[9]=[x("Filename")])),_:1}),t(e(N),{class:"w-[10%]"},{default:s(()=>v[10]||(v[10]=[x("Created")])),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(y)?(r(),k(Me,{key:0})):e(y)?(r(),k(Rt,{key:2})):(r(!0),S(L,{key:1},U(e(a).data,D=>(r(),k(e(le),{onClick:j=>e(p)(D.id),class:"cursor-pointer hover:bg-rcgray-800",key:D.id},{default:s(()=>[t(e(O),{class:"text-start"},{default:s(()=>[t(R,{class:"cursor-pointer",id:"select-"+D.id,checked:!!e(i).includes(D.id),onClick:j=>e(p)(D.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(D.id),1)]),_:2},1024),t(e(O),{class:"text-start"}),t(e(O),{class:"text-start"},{default:s(()=>[x(V(D.command),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(D.config_filename),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[x(V(e(f).formatTime(D.created_at)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(ze,{currentPage:e(d),lastPage:e(m),perPage:e(g),"onUpdate:currentPage":v[2]||(v[2]=D=>d.value=D),"onUpdate:perPage":v[3]||(v[3]=D=>g.value=D)},null,8,["currentPage","lastPage","perPage"]),e(i).length>0?(r(),S("div",Zs,[t(e(ht),{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(C,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),o("span",As,"Config ID "+V(e(i))+" selected for comparison",1)]),_:1})])):I("",!0)])])):I("",!0),v[11]||(v[11]=o("div",{class:"w-full my-4 border-t"},null,-1))])}}},Gs={class:"flex flex-col"},Es={class:"flex items-center p-2"},Ks={class:"flex items-center gap-2 ml-auto"},Qs={__name:"CompareDiffEditorComponent",props:{leftSelectedId:Number,rightSelectedId:Number,configResultsLeft:Object,configResultsRight:Object},setup(u){const n=u,f=h([]),{checkDarkModeIsSet:l,checkLineNumbersIsSet:c,checkMiniMapIsSet:d,checkStickyScrollIsSet:y,copied:m,copyItem:g,copyPath:a,darkmode:i,download:p,initDiffEditor:b,lineNumbers:v,meditorValue:$,minimap:R,search:C,toggleEditorDarkMode:D,toggleEditorLineNumbers:j,toggleEditorMinimap:_,toggleStickyScroll:P}=It(qt);K(()=>{w(),z()});function w(){l()&&f.value.push("dark"),c()&&f.value.push("lineNumbers")}function z(){var A=Ce.createModel(n.configResultsLeft.filecontent,"text/plain"),B=Ce.createModel(n.configResultsRight.filecontent,"text/plain");let F=b("code-editor__code-pre","rconfig");F&&F.setModel({original:A,modified:B})}return(A,B)=>{const F=q("Icon"),M=q("Button"),re=q("Separator");return r(),S(L,null,[o("div",Gs,[o("div",Es,[B[4]||(B[4]=o("div",{class:"flex items-center gap-2"},null,-1)),o("div",null,[t(M,{variant:"ghost",onClick:e(g),title:"copyItem"},{default:s(()=>[t(F,{icon:"mdi:content-copy"})]),_:1},8,["onClick"]),t(M,{variant:"ghost",class:"ml-1",onClick:B[0]||(B[0]=Y=>e(p)(A.model.fileName)),title:"download"},{default:s(()=>[t(F,{icon:"mingcute:download-fill"})]),_:1})]),t(re,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),o("div",Ks,[t(e(Dt),{modelValue:f.value,"onUpdate:modelValue":B[3]||(B[3]=Y=>f.value=Y),type:"multiple"},{default:s(()=>[t(e(xe),{value:"dark",title:"Toggle bold",onClick:B[1]||(B[1]=Y=>e(D)())},{default:s(()=>[t(F,{icon:"mdi:theme-light-dark",class:"w-4 h-4"})]),_:1}),t(e(xe),{value:"lineNumbers",title:"Line Numbers",onClick:B[2]||(B[2]=Y=>e(j)())},{default:s(()=>[t(F,{icon:"mingcute:numbers-09-sort-ascending-line",class:"w-4 h-4"})]),_:1})]),_:1},8,["modelValue"])]),t(re,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),B[5]||(B[5]=o("span",null,"CONFIG",-1))]),t(re,{class:"relative w-full h-px shrink-0 bg-border"})]),B[6]||(B[6]=o("div",{class:"code-editor__code-pre",id:"code-editor__code-pre",style:{height:"calc(80vh)"}},null,-1))],64)}}};function Ws(u){const n=h(!0),f=h([]),l=h([]),c=h(parseInt(u.leftSelectedId[0],10)),d=h(parseInt(u.rightSelectedId[0],10)),{toastSuccess:y,toastError:m}=ne();K(()=>{n.value=!0,g(c.value),a(d.value),setTimeout(()=>{n.value=!1},Math.floor(Math.random()*1501)+500)});function g(p){Q.get("/api/configs/"+p).then(async b=>{f.value=b.data,f.value.filecontent=await i(p)}).catch(b=>{console.error("Error fetching commands:",b),m("Error","Failed to fetch commands.")})}function a(p){Q.get("/api/configs/"+p).then(async b=>{l.value=b.data,l.value.filecontent=await i(p)}).catch(b=>{console.error("Error fetching commands:",b),m("Error","Failed to fetch commands.")})}function i(p){return Q.get("/api/configs/view-config/"+p).then(b=>b.data.data.content).catch(b=>{console.error("Error fetching commands:",b),m("Error","Failed to fetch commands.")})}return{isLoadingComponent:n,configResultsLeft:f,configResultsRight:l,getConfigLeft:g,getConfigRight:a,getConfigFileContent:i}}const Js={key:0,class:"flex items-center justify-center h-full mt-48"},Ys={__name:"ConfigCompareResults",props:{leftSelectedId:Array,rightSelectedId:Array},setup(u){const n=u,{isLoadingComponent:f,configResultsLeft:l,configResultsRight:c,getConfigLeft:d,getConfigRight:y,getConfigFileContent:m}=Ws(n);return(g,a)=>(r(),S(L,null,[e(f)?(r(),S("div",Js,[t(ke,{text:"Running comparison"})])):I("",!0),e(f)?I("",!0):(r(),k(Qs,{key:1,configResultsRight:e(c),configResultsLeft:e(l),leftSelectedId:u.leftSelectedId,rightSelectedId:u.rightSelectedId},null,8,["configResultsRight","configResultsLeft","leftSelectedId","rightSelectedId"]))],64))}};function Xs(){const u=h({selectedCommand:[],device:[],start_date:"",end_date:""}),n=h({selectedCommand:[],device:[],start_date:"",end_date:""}),f=h(100),l=h(200),c=h([]),d=h(!1),y=h(!1),m=h(null),g=h(300),a=h(400),i=h([]),p=oe(),{toastSuccess:b,toastError:v}=ne(),$=(P,w)=>{P==="left"?u.value=w:P==="right"&&(n.value=w),l.value+=1,a.value+=1},R=()=>{if(c.length===0||i.length===0){v("Please select configurations for comparison");return}b("Comparing configurations...","",2e3),d.value=!0},C=()=>{p.go(-1)},D=()=>{c.value=[],u.value={selectedCommand:[],device:[],start_date:"",end_date:""},i.value=[],n.value={selectedCommand:[],device:[],start_date:"",end_date:""},d.value=!1,l.value+=1,f.value+=1,a.value+=1,g.value+=1};function j(){m!=null&&m.value.isCollapsed?m==null||m.value.expand():m==null||m.value.collapse(),y.value=!y.value}function _(){m!=null&&m.value.isCollapsed?m==null||m.value.expand():m==null||m.value.collapse(),y.value=!y.value}return{close:C,closeNav:j,leftConfigData:u,leftConfigFilterKey:f,leftConfigResultsKey:l,leftSelectedId:c,loadComparison:d,navClosed:y,openNav:_,panelElement3:m,reset:D,rightConfigData:n,rightConfigFilterKey:g,rightConfigResultsKey:a,rightSelectedId:i,sendConfigCompare:R,updateConfigFilterData:$}}const ea={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},ta={class:"flex justify-between w-full p-2 border-b"},sa={class:"flex items-center justify-end"},aa={key:0},la={class:"text-sm"},na={class:"flex items-center justify-between p-2 mb-2 border-b"},oa={class:"relative flex flex-col items-center"},ra={class:"min-h-[35dvh] flex-1 w-full"},ia={class:"min-h-[35dvh] flex-1 w-full"},da={class:"h-[80dvh]"},ua={class:"flex items-center justify-between p-2 mb-2 border-b"},ca={key:0,class:"relative flex flex-col items-center"},fa={key:1},ma={__name:"ConfigCompare",setup(u){const{close:n,closeNav:f,leftConfigData:l,leftConfigFilterKey:c,leftConfigResultsKey:d,leftSelectedId:y,loadComparison:m,navClosed:g,reset:a,openNav:i,panelElement3:p,rightConfigData:b,rightConfigFilterKey:v,rightConfigResultsKey:$,rightSelectedId:R,sendConfigCompare:C,updateConfigFilterData:D}=Xs();return(j,_)=>{const P=q("Icon"),w=q("Button"),z=q("Badge"),A=q("ResizablePanel"),B=q("ResizableHandle"),F=q("ResizablePanelGroup");return r(),S("div",ea,[o("div",ta,[t(w,{onClick:_[0]||(_[0]=M=>e(n)()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(P,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),_[11]||(_[11]=o("h2",{class:"items-center content-center text-muted-foreground"},"Config Compare",-1)),o("div",sa,[e(y).length>0&&e(R).length>0?(r(),S("div",aa,[t(z,{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(P,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),o("span",la,"Compare Config ID "+V(e(y))+" with Config ID "+V(e(R)),1)]),_:1})])):I("",!0),e(y)&&e(R)?(r(),k(w,{key:1,onClick:_[1]||(_[1]=M=>e(C)(e(y),e(R))),class:"h-8 ml-2 text-white bg-blue-600 hover:bg-blue-700"},{default:s(()=>_[9]||(_[9]=[x(" Compare ")])),_:1})):I("",!0),e(y)&&e(R)?(r(),k(w,{key:2,variant:"outline",onClick:_[2]||(_[2]=M=>e(a)()),class:"h-8 ml-2 text-white"},{default:s(()=>_[10]||(_[10]=[x(" Reset ")])),_:1})):I("",!0)])]),t(F,{direction:"horizontal",class:""},{default:s(()=>[t(A,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement3",ref:p,class:"min-h-[86vh]"},{default:s(()=>[o("div",na,[_[12]||(_[12]=o("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(Ve,{class:"mr-2",onClose:_[3]||(_[3]=M=>e(f)())})]),o("div",oa,[o("div",ra,[(r(),k(be,{key:e(c),onUpdateConfigFilter:_[4]||(_[4]=M=>e(D)("left",M)),comparePosition:"left"}))]),_[13]||(_[13]=o("div",{class:"w-full my-4 border-t"},null,-1)),o("div",ia,[(r(),k(be,{key:e(v),onUpdateConfigFilter:_[5]||(_[5]=M=>e(D)("right",M)),comparePosition:"right"}))]),_[14]||(_[14]=o("div",{class:"w-full my-4 border-t"},null,-1))])]),_:1},512),t(B,{"with-handle":""}),t(A,{class:"min-h-[86vh]"},{default:s(()=>[t(e(Fe),{class:"border border-none rounded-md"},{default:s(()=>[o("div",da,[o("div",ua,[t(Re,{class:"ml-2",onOpenNav:_[6]||(_[6]=M=>e(i)()),navPanelBtnState:e(g)},null,8,["navPanelBtnState"]),o("h1",{class:W(["w-full text-sm font-semibold",e(g)===!1?"ml-2 ":""])}," Filter Results ",2)]),e(m)?I("",!0):(r(),S("div",ca,[(r(),k($e,{key:e(d),filterData:e(l),onUpdateSelectedRows:_[7]||(_[7]=M=>y.value=M),comparePosition:"left"},null,8,["filterData"])),(r(),k($e,{key:e($),filterData:e(b),onUpdateSelectedRows:_[8]||(_[8]=M=>R.value=M),comparePosition:"right"},null,8,["filterData"]))])),e(m)?(r(),S("div",fa,[t(Ys,{leftSelectedId:e(y),rightSelectedId:e(R)},null,8,["leftSelectedId","rightSelectedId"])])):I("",!0)])]),_:1})]),_:1})]),_:1})])}}};function pa(){const u=bt(),n=h(localStorage.getItem("inventorySelectedView")||"devices"),f=$t(),l=oe(),c=h(parseInt(f.params.id)||0),d=h(f.query||null),y=h({}),m=[{id:"configs",label:"Configurations",icon:"ConfigToolsIcon",isFavorite:h(!1),route:"/configs"},{id:"configsearch",label:"Config Search",icon:"ConfigSearchIcon",isFavorite:h(!1),route:"/config-search"},{id:"configcompare",label:"Config Compare",icon:"ConfigCompareIcon",isFavorite:h(!1),route:"/config-compare"}];K(()=>{f.params.view?g(f.params.view):f.name==="configs"?g(f.name):f.path.includes("inventory")||g(f.name);const p=f.query;Object.keys(p).length>0&&l.push({name:n.value,query:p}),m.forEach(b=>{b.isFavorite.value=u.isFavorite(b.id)})});function g(p){i(p),localStorage.setItem("inventorySelectedView",p),n.value=p,l.push({name:p})}function a(p){const b=m.find(v=>v.id===p);b&&(b.isFavorite.value=!b.isFavorite.value,u.toggleFavorite(b))}function i(p){const b=document.querySelector(`[data-nav='${p}']`);wt(()=>{if(b){const{offsetLeft:v,offsetWidth:$}=b;y.value={left:`${v}px`,width:`${$}px`}}})}return{bottomBorderStyle:y,configsId:c,statusIdParam:d,changeView:g,currentView:n,favoritesStore:u,route:f,router:l,toggleFavorite:a,viewItems:m}}const ga={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},va={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},_a={class:"relative"},ya=["onClick"],Ia={__name:"Main",setup(u){const{configsId:n,statusIdParam:f,changeView:l,currentView:c,bottomBorderStyle:d,toggleFavorite:y,viewItems:m}=pa();return(g,a)=>{const i=q("ConfigToolsIcon"),p=q("Button"),b=q("ConfigSearchIcon"),v=q("ConfigCompareIcon"),$=q("StarUnselected"),R=q("StarSelected");return r(),S("main",ga,[o("div",va,[o("div",_a,[t(p,{class:"border",onClick:a[0]||(a[0]=C=>e(l)("configs")),"data-nav":"configs",variant:"ghost"},{default:s(()=>[t(i,{class:"mr-2"}),a[3]||(a[3]=x(" Configurations "))]),_:1}),t(p,{class:"ml-2 border",onClick:a[1]||(a[1]=C=>e(l)("configsearch")),"data-nav":"configsearch",variant:"ghost"},{default:s(()=>[t(b,{class:"mr-2"}),a[4]||(a[4]=x(" Search "))]),_:1}),t(p,{class:"ml-2 border",onClick:a[2]||(a[2]=C=>e(l)("configcompare")),"data-nav":"configcompare",variant:"ghost"},{default:s(()=>[t(v,{class:"mr-2"}),a[5]||(a[5]=x(" Compare "))]),_:1}),e(c)?(r(),S("div",{key:0,class:"absolute -bottom-1.5 h-0.5 bg-blue-500",style:kt(e(d))},null,4)):I("",!0)]),t(e(X),null,{default:s(()=>[(r(!0),S(L,null,U(e(m),C=>(r(),k(e(ee),{key:C.id},{default:s(()=>[e(c)===C.id?(r(),k(e(te),{key:0,"as-child":""},{default:s(()=>[o("div",{onClick:St(D=>e(y)(C.id),["stop","prevent"])},[C.isFavorite.value?I("",!0):(r(),k($,{key:0})),C.isFavorite.value?(r(),k(R,{key:1})):I("",!0)],8,ya)]),_:2},1024)):I("",!0),t(e(se),null,{default:s(()=>[o("p",null,V(C.isFavorite.value?"Remove from favorites":"Add "+e(c)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",null,[e(c)==="configs"?(r(),k(Vt,{key:0,configsId:e(n),statusId:e(f).statusId},null,8,["configsId","statusId"])):I("",!0),t(ae,{name:"fade"},{default:s(()=>[e(c)==="configsearch"?(r(),k(qs,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>a[6]||(a[6]=[o("h1",{class:"text-2xl text-muted-foreground"},"Config Search",-1)])),_:1})):I("",!0)]),_:1}),t(ae,{name:"fade"},{default:s(()=>[e(c)==="configcompare"?(r(),k(ma,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>a[7]||(a[7]=[o("h1",{class:"text-2xl text-muted-foreground"},"Config Compare",-1)])),_:1})):I("",!0)]),_:1})])])}}};export{Ia as default};
